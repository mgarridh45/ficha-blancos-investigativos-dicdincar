(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function o(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerPolicy&&(d.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?d.credentials="include":r.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(r){if(r.ep)return;r.ep=!0;const d=o(r);fetch(r.href,d)}})();function zh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var du={exports:{}},eo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function ov(){if(Kp)return eo;Kp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(a,r,d){var m=null;if(d!==void 0&&(m=""+d),r.key!==void 0&&(m=""+r.key),"key"in r){d={};for(var g in r)g!=="key"&&(d[g]=r[g])}else d=r;return r=d.ref,{$$typeof:i,type:a,key:m,ref:r!==void 0?r:null,props:d}}return eo.Fragment=t,eo.jsx=o,eo.jsxs=o,eo}var Qp;function av(){return Qp||(Qp=1,du.exports=ov()),du.exports}var S=av(),fu={exports:{}},se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function sv(){if(Zp)return se;Zp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),_=Symbol.iterator;function C(R){return R===null||typeof R!="object"?null:(R=_&&R[_]||R["@@iterator"],typeof R=="function"?R:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,L={};function V(R,k,K){this.props=R,this.context=k,this.refs=L,this.updater=K||U}V.prototype.isReactComponent={},V.prototype.setState=function(R,k){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,k,"setState")},V.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function Z(){}Z.prototype=V.prototype;function F(R,k,K){this.props=R,this.context=k,this.refs=L,this.updater=K||U}var $=F.prototype=new Z;$.constructor=F,G($,V.prototype),$.isPureReactComponent=!0;var te=Array.isArray;function ne(){}var Y={H:null,A:null,T:null,S:null},fe=Object.prototype.hasOwnProperty;function X(R,k,K){var j=K.ref;return{$$typeof:i,type:R,key:k,ref:j!==void 0?j:null,props:K}}function de(R,k){return X(R.type,k,R.props)}function pe(R){return typeof R=="object"&&R!==null&&R.$$typeof===i}function M(R){var k={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(K){return k[K]})}var z=/\/+/g;function xe(R,k){return typeof R=="object"&&R!==null&&R.key!=null?M(""+R.key):k.toString(36)}function Ke(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(ne,ne):(R.status="pending",R.then(function(k){R.status==="pending"&&(R.status="fulfilled",R.value=k)},function(k){R.status==="pending"&&(R.status="rejected",R.reason=k)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function q(R,k,K,j,re){var me=typeof R;(me==="undefined"||me==="boolean")&&(R=null);var Ce=!1;if(R===null)Ce=!0;else switch(me){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(R.$$typeof){case i:case t:Ce=!0;break;case v:return Ce=R._init,q(Ce(R._payload),k,K,j,re)}}if(Ce)return re=re(R),Ce=j===""?"."+xe(R,0):j,te(re)?(K="",Ce!=null&&(K=Ce.replace(z,"$&/")+"/"),q(re,k,K,"",function(sl){return sl})):re!=null&&(pe(re)&&(re=de(re,K+(re.key==null||R&&R.key===re.key?"":(""+re.key).replace(z,"$&/")+"/")+Ce)),k.push(re)),1;Ce=0;var at=j===""?".":j+":";if(te(R))for(var ze=0;ze<R.length;ze++)j=R[ze],me=at+xe(j,ze),Ce+=q(j,k,K,me,re);else if(ze=C(R),typeof ze=="function")for(R=ze.call(R),ze=0;!(j=R.next()).done;)j=j.value,me=at+xe(j,ze++),Ce+=q(j,k,K,me,re);else if(me==="object"){if(typeof R.then=="function")return q(Ke(R),k,K,j,re);throw k=String(R),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function J(R,k,K){if(R==null)return R;var j=[],re=0;return q(R,j,"","",function(me){return k.call(K,me,re++)}),j}function oe(R){if(R._status===-1){var k=R._result;k=k(),k.then(function(K){(R._status===0||R._status===-1)&&(R._status=1,R._result=K)},function(K){(R._status===0||R._status===-1)&&(R._status=2,R._result=K)}),R._status===-1&&(R._status=0,R._result=k)}if(R._status===1)return R._result.default;throw R._result}var be=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},we={map:J,forEach:function(R,k,K){J(R,function(){k.apply(this,arguments)},K)},count:function(R){var k=0;return J(R,function(){k++}),k},toArray:function(R){return J(R,function(k){return k})||[]},only:function(R){if(!pe(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return se.Activity=E,se.Children=we,se.Component=V,se.Fragment=o,se.Profiler=r,se.PureComponent=F,se.StrictMode=a,se.Suspense=y,se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,se.__COMPILER_RUNTIME={__proto__:null,c:function(R){return Y.H.useMemoCache(R)}},se.cache=function(R){return function(){return R.apply(null,arguments)}},se.cacheSignal=function(){return null},se.cloneElement=function(R,k,K){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var j=G({},R.props),re=R.key;if(k!=null)for(me in k.key!==void 0&&(re=""+k.key),k)!fe.call(k,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&k.ref===void 0||(j[me]=k[me]);var me=arguments.length-2;if(me===1)j.children=K;else if(1<me){for(var Ce=Array(me),at=0;at<me;at++)Ce[at]=arguments[at+2];j.children=Ce}return X(R.type,re,j)},se.createContext=function(R){return R={$$typeof:m,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:d,_context:R},R},se.createElement=function(R,k,K){var j,re={},me=null;if(k!=null)for(j in k.key!==void 0&&(me=""+k.key),k)fe.call(k,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(re[j]=k[j]);var Ce=arguments.length-2;if(Ce===1)re.children=K;else if(1<Ce){for(var at=Array(Ce),ze=0;ze<Ce;ze++)at[ze]=arguments[ze+2];re.children=at}if(R&&R.defaultProps)for(j in Ce=R.defaultProps,Ce)re[j]===void 0&&(re[j]=Ce[j]);return X(R,me,re)},se.createRef=function(){return{current:null}},se.forwardRef=function(R){return{$$typeof:g,render:R}},se.isValidElement=pe,se.lazy=function(R){return{$$typeof:v,_payload:{_status:-1,_result:R},_init:oe}},se.memo=function(R,k){return{$$typeof:h,type:R,compare:k===void 0?null:k}},se.startTransition=function(R){var k=Y.T,K={};Y.T=K;try{var j=R(),re=Y.S;re!==null&&re(K,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(ne,be)}catch(me){be(me)}finally{k!==null&&K.types!==null&&(k.types=K.types),Y.T=k}},se.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},se.use=function(R){return Y.H.use(R)},se.useActionState=function(R,k,K){return Y.H.useActionState(R,k,K)},se.useCallback=function(R,k){return Y.H.useCallback(R,k)},se.useContext=function(R){return Y.H.useContext(R)},se.useDebugValue=function(){},se.useDeferredValue=function(R,k){return Y.H.useDeferredValue(R,k)},se.useEffect=function(R,k){return Y.H.useEffect(R,k)},se.useEffectEvent=function(R){return Y.H.useEffectEvent(R)},se.useId=function(){return Y.H.useId()},se.useImperativeHandle=function(R,k,K){return Y.H.useImperativeHandle(R,k,K)},se.useInsertionEffect=function(R,k){return Y.H.useInsertionEffect(R,k)},se.useLayoutEffect=function(R,k){return Y.H.useLayoutEffect(R,k)},se.useMemo=function(R,k){return Y.H.useMemo(R,k)},se.useOptimistic=function(R,k){return Y.H.useOptimistic(R,k)},se.useReducer=function(R,k,K){return Y.H.useReducer(R,k,K)},se.useRef=function(R){return Y.H.useRef(R)},se.useState=function(R){return Y.H.useState(R)},se.useSyncExternalStore=function(R,k,K){return Y.H.useSyncExternalStore(R,k,K)},se.useTransition=function(){return Y.H.useTransition()},se.version="19.2.3",se}var $p;function Gu(){return $p||($p=1,fu.exports=sv()),fu.exports}var qe=Gu();const rv=zh(qe);var pu={exports:{}},to={},mu={exports:{}},hu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function uv(){return Wp||(Wp=1,(function(i){function t(q,J){var oe=q.length;q.push(J);e:for(;0<oe;){var be=oe-1>>>1,we=q[be];if(0<r(we,J))q[be]=J,q[oe]=we,oe=be;else break e}}function o(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var J=q[0],oe=q.pop();if(oe!==J){q[0]=oe;e:for(var be=0,we=q.length,R=we>>>1;be<R;){var k=2*(be+1)-1,K=q[k],j=k+1,re=q[j];if(0>r(K,oe))j<we&&0>r(re,K)?(q[be]=re,q[j]=oe,be=j):(q[be]=K,q[k]=oe,be=k);else if(j<we&&0>r(re,oe))q[be]=re,q[j]=oe,be=j;else break e}}return J}function r(q,J){var oe=q.sortIndex-J.sortIndex;return oe!==0?oe:q.id-J.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var m=Date,g=m.now();i.unstable_now=function(){return m.now()-g}}var y=[],h=[],v=1,E=null,_=3,C=!1,U=!1,G=!1,L=!1,V=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function $(q){for(var J=o(h);J!==null;){if(J.callback===null)a(h);else if(J.startTime<=q)a(h),J.sortIndex=J.expirationTime,t(y,J);else break;J=o(h)}}function te(q){if(G=!1,$(q),!U)if(o(y)!==null)U=!0,ne||(ne=!0,M());else{var J=o(h);J!==null&&Ke(te,J.startTime-q)}}var ne=!1,Y=-1,fe=5,X=-1;function de(){return L?!0:!(i.unstable_now()-X<fe)}function pe(){if(L=!1,ne){var q=i.unstable_now();X=q;var J=!0;try{e:{U=!1,G&&(G=!1,Z(Y),Y=-1),C=!0;var oe=_;try{t:{for($(q),E=o(y);E!==null&&!(E.expirationTime>q&&de());){var be=E.callback;if(typeof be=="function"){E.callback=null,_=E.priorityLevel;var we=be(E.expirationTime<=q);if(q=i.unstable_now(),typeof we=="function"){E.callback=we,$(q),J=!0;break t}E===o(y)&&a(y),$(q)}else a(y);E=o(y)}if(E!==null)J=!0;else{var R=o(h);R!==null&&Ke(te,R.startTime-q),J=!1}}break e}finally{E=null,_=oe,C=!1}J=void 0}}finally{J?M():ne=!1}}}var M;if(typeof F=="function")M=function(){F(pe)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,xe=z.port2;z.port1.onmessage=pe,M=function(){xe.postMessage(null)}}else M=function(){V(pe,0)};function Ke(q,J){Y=V(function(){q(i.unstable_now())},J)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(q){q.callback=null},i.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<q?Math.floor(1e3/q):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_next=function(q){switch(_){case 1:case 2:case 3:var J=3;break;default:J=_}var oe=_;_=J;try{return q()}finally{_=oe}},i.unstable_requestPaint=function(){L=!0},i.unstable_runWithPriority=function(q,J){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var oe=_;_=q;try{return J()}finally{_=oe}},i.unstable_scheduleCallback=function(q,J,oe){var be=i.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?be+oe:be):oe=be,q){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=oe+we,q={id:v++,callback:J,priorityLevel:q,startTime:oe,expirationTime:we,sortIndex:-1},oe>be?(q.sortIndex=oe,t(h,q),o(y)===null&&q===o(h)&&(G?(Z(Y),Y=-1):G=!0,Ke(te,oe-be))):(q.sortIndex=we,t(y,q),U||C||(U=!0,ne||(ne=!0,M()))),q},i.unstable_shouldYield=de,i.unstable_wrapCallback=function(q){var J=_;return function(){var oe=_;_=J;try{return q.apply(this,arguments)}finally{_=oe}}}})(hu)),hu}var jp;function cv(){return jp||(jp=1,mu.exports=uv()),mu.exports}var gu={exports:{}},lt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em;function dv(){if(em)return lt;em=1;var i=Gu();function t(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function d(y,h,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:E==null?null:""+E,children:y,containerInfo:h,implementation:v}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,lt.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return d(y,h,null,v)},lt.flushSync=function(y){var h=m.T,v=a.p;try{if(m.T=null,a.p=2,y)return y()}finally{m.T=h,a.p=v,a.d.f()}},lt.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(y,h))},lt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},lt.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,E=g(v,h.crossOrigin),_=typeof h.integrity=="string"?h.integrity:void 0,C=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?a.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:E,integrity:_,fetchPriority:C}):v==="script"&&a.d.X(y,{crossOrigin:E,integrity:_,fetchPriority:C,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},lt.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(y)},lt.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,E=g(v,h.crossOrigin);a.d.L(y,v,{crossOrigin:E,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},lt.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=g(h.as,h.crossOrigin);a.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(y)},lt.requestFormReset=function(y){a.d.r(y)},lt.unstable_batchedUpdates=function(y,h){return y(h)},lt.useFormState=function(y,h,v){return m.H.useFormState(y,h,v)},lt.useFormStatus=function(){return m.H.useHostTransitionStatus()},lt.version="19.2.3",lt}var tm;function fv(){if(tm)return gu.exports;tm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),gu.exports=dv(),gu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm;function pv(){if(nm)return to;nm=1;var i=cv(),t=Gu(),o=fv();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function m(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(d(e)!==e)throw Error(a(188))}function h(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(a(188));return n!==e?null:e}for(var l=e,s=n;;){var f=l.return;if(f===null)break;var p=f.alternate;if(p===null){if(s=f.return,s!==null){l=s;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===l)return y(f),e;if(p===s)return y(f),n;p=p.sibling}throw Error(a(188))}if(l.return!==s.return)l=f,s=p;else{for(var T=!1,A=f.child;A;){if(A===l){T=!0,l=f,s=p;break}if(A===s){T=!0,s=f,l=p;break}A=A.sibling}if(!T){for(A=p.child;A;){if(A===l){T=!0,l=p,s=f;break}if(A===s){T=!0,s=p,l=f;break}A=A.sibling}if(!T)throw Error(a(189))}}if(l.alternate!==s)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,_=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),F=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),de=Symbol.for("react.memo_cache_sentinel"),pe=Symbol.iterator;function M(e){return e===null||typeof e!="object"?null:(e=pe&&e[pe]||e["@@iterator"],typeof e=="function"?e:null)}var z=Symbol.for("react.client.reference");function xe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===z?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case G:return"Fragment";case V:return"Profiler";case L:return"StrictMode";case te:return"Suspense";case ne:return"SuspenseList";case X:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case F:return e.displayName||"Context";case Z:return(e._context.displayName||"Context")+".Consumer";case $:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return n=e.displayName||null,n!==null?n:xe(e.type)||"Memo";case fe:n=e._payload,e=e._init;try{return xe(e(n))}catch{}}return null}var Ke=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},be=[],we=-1;function R(e){return{current:e}}function k(e){0>we||(e.current=be[we],be[we]=null,we--)}function K(e,n){we++,be[we]=e.current,e.current=n}var j=R(null),re=R(null),me=R(null),Ce=R(null);function at(e,n){switch(K(me,n),K(re,e),K(j,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?yp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=yp(n),e=vp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}k(j),K(j,e)}function ze(){k(j),k(re),k(me)}function sl(e){e.memoizedState!==null&&K(Ce,e);var n=j.current,l=vp(n,e.type);n!==l&&(K(re,e),K(j,l))}function ao(e){re.current===e&&(k(j),k(re)),Ce.current===e&&(k(Ce),Zl._currentValue=oe)}var Xa,Yu;function Yn(e){if(Xa===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);Xa=n&&n[1]||"",Yu=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xa+e+Yu}var Ka=!1;function Qa(e,n){if(!e||Ka)return"";Ka=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var P=function(){throw Error()};if(Object.defineProperty(P.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(P,[])}catch(H){var w=H}Reflect.construct(e,[],P)}else{try{P.call()}catch(H){w=H}e.call(P.prototype)}}else{try{throw Error()}catch(H){w=H}(P=e())&&typeof P.catch=="function"&&P.catch(function(){})}}catch(H){if(H&&w&&typeof H.stack=="string")return[H.stack,w.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=s.DetermineComponentFrameRoot(),T=p[0],A=p[1];if(T&&A){var x=T.split(`
`),D=A.split(`
`);for(f=s=0;s<x.length&&!x[s].includes("DetermineComponentFrameRoot");)s++;for(;f<D.length&&!D[f].includes("DetermineComponentFrameRoot");)f++;if(s===x.length||f===D.length)for(s=x.length-1,f=D.length-1;1<=s&&0<=f&&x[s]!==D[f];)f--;for(;1<=s&&0<=f;s--,f--)if(x[s]!==D[f]){if(s!==1||f!==1)do if(s--,f--,0>f||x[s]!==D[f]){var O=`
`+x[s].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=s&&0<=f);break}}}finally{Ka=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Yn(l):""}function Hg(e,n){switch(e.tag){case 26:case 27:case 5:return Yn(e.type);case 16:return Yn("Lazy");case 13:return e.child!==n&&n!==null?Yn("Suspense Fallback"):Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return Qa(e.type,!1);case 11:return Qa(e.type.render,!1);case 1:return Qa(e.type,!0);case 31:return Yn("Activity");default:return""}}function Xu(e){try{var n="",l=null;do n+=Hg(e,l),l=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Za=Object.prototype.hasOwnProperty,$a=i.unstable_scheduleCallback,Wa=i.unstable_cancelCallback,qg=i.unstable_shouldYield,Vg=i.unstable_requestPaint,yt=i.unstable_now,Og=i.unstable_getCurrentPriorityLevel,Ku=i.unstable_ImmediatePriority,Qu=i.unstable_UserBlockingPriority,so=i.unstable_NormalPriority,zg=i.unstable_LowPriority,Zu=i.unstable_IdlePriority,Bg=i.log,Pg=i.unstable_setDisableYieldValue,rl=null,vt=null;function Sn(e){if(typeof Bg=="function"&&Pg(e),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(rl,e)}catch{}}var St=Math.clz32?Math.clz32:Jg,kg=Math.log,Fg=Math.LN2;function Jg(e){return e>>>=0,e===0?32:31-(kg(e)/Fg|0)|0}var ro=256,uo=262144,co=4194304;function Xn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function fo(e,n,l){var s=e.pendingLanes;if(s===0)return 0;var f=0,p=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var A=s&134217727;return A!==0?(s=A&~p,s!==0?f=Xn(s):(T&=A,T!==0?f=Xn(T):l||(l=A&~e,l!==0&&(f=Xn(l))))):(A=s&~p,A!==0?f=Xn(A):T!==0?f=Xn(T):l||(l=s&~e,l!==0&&(f=Xn(l)))),f===0?0:n!==0&&n!==f&&(n&p)===0&&(p=f&-f,l=n&-n,p>=l||p===32&&(l&4194048)!==0)?n:f}function ul(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Yg(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $u(){var e=co;return co<<=1,(co&62914560)===0&&(co=4194304),e}function ja(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function cl(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Xg(e,n,l,s,f,p){var T=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var A=e.entanglements,x=e.expirationTimes,D=e.hiddenUpdates;for(l=T&~l;0<l;){var O=31-St(l),P=1<<O;A[O]=0,x[O]=-1;var w=D[O];if(w!==null)for(D[O]=null,O=0;O<w.length;O++){var H=w[O];H!==null&&(H.lane&=-536870913)}l&=~P}s!==0&&Wu(e,s,0),p!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=p&~(T&~n))}function Wu(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-St(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|l&261930}function ju(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var s=31-St(l),f=1<<s;f&n|e[s]&n&&(e[s]|=n),l&=~f}}function ec(e,n){var l=n&-n;return l=(l&42)!==0?1:es(l),(l&(e.suspendedLanes|n))!==0?0:l}function es(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ts(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tc(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:Bp(e.type))}function nc(e,n){var l=J.p;try{return J.p=e,n()}finally{J.p=l}}var Tn=Math.random().toString(36).slice(2),je="__reactFiber$"+Tn,ct="__reactProps$"+Tn,hi="__reactContainer$"+Tn,ns="__reactEvents$"+Tn,Kg="__reactListeners$"+Tn,Qg="__reactHandles$"+Tn,ic="__reactResources$"+Tn,dl="__reactMarker$"+Tn;function is(e){delete e[je],delete e[ct],delete e[ns],delete e[Kg],delete e[Qg]}function gi(e){var n=e[je];if(n)return n;for(var l=e.parentNode;l;){if(n=l[hi]||l[je]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=xp(e);e!==null;){if(l=e[je])return l;e=xp(e)}return n}e=l,l=e.parentNode}return null}function yi(e){if(e=e[je]||e[hi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fl(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function vi(e){var n=e[ic];return n||(n=e[ic]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ze(e){e[dl]=!0}var lc=new Set,oc={};function Kn(e,n){Si(e,n),Si(e+"Capture",n)}function Si(e,n){for(oc[e]=n,e=0;e<n.length;e++)lc.add(n[e])}var Zg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ac={},sc={};function $g(e){return Za.call(sc,e)?!0:Za.call(ac,e)?!1:Zg.test(e)?sc[e]=!0:(ac[e]=!0,!1)}function po(e,n,l){if($g(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function mo(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function Zt(e,n,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+s)}}function bt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Wg(e,n,l){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,p=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,p.call(this,T)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ls(e){if(!e._valueTracker){var n=rc(e)?"checked":"value";e._valueTracker=Wg(e,n,""+e[n])}}function uc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),s="";return e&&(s=rc(e)?e.checked?"true":"false":e.value),e=s,e!==l?(n.setValue(e),!0):!1}function ho(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var jg=/[\n"\\]/g;function Mt(e){return e.replace(jg,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function os(e,n,l,s,f,p,T,A){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),n!=null?T==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+bt(n)):e.value!==""+bt(n)&&(e.value=""+bt(n)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),n!=null?as(e,T,bt(n)):l!=null?as(e,T,bt(l)):s!=null&&e.removeAttribute("value"),f==null&&p!=null&&(e.defaultChecked=!!p),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+bt(A):e.removeAttribute("name")}function cc(e,n,l,s,f,p,T,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),n!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||n!=null)){ls(e);return}l=l!=null?""+bt(l):"",n=n!=null?""+bt(n):l,A||n===e.value||(e.value=n),e.defaultValue=n}s=s??f,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=A?e.checked:!!s,e.defaultChecked=!!s,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),ls(e)}function as(e,n,l){n==="number"&&ho(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Ti(e,n,l,s){if(e=e.options,n){n={};for(var f=0;f<l.length;f++)n["$"+l[f]]=!0;for(l=0;l<e.length;l++)f=n.hasOwnProperty("$"+e[l].value),e[l].selected!==f&&(e[l].selected=f),f&&s&&(e[l].defaultSelected=!0)}else{for(l=""+bt(l),n=null,f=0;f<e.length;f++){if(e[f].value===l){e[f].selected=!0,s&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function dc(e,n,l){if(n!=null&&(n=""+bt(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+bt(l):""}function fc(e,n,l,s){if(n==null){if(s!=null){if(l!=null)throw Error(a(92));if(Ke(s)){if(1<s.length)throw Error(a(93));s=s[0]}l=s}l==null&&(l=""),n=l}l=bt(n),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s),ls(e)}function Ei(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var ey=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pc(e,n,l){var s=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,l):typeof l!="number"||l===0||ey.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function mc(e,n,l){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var f in n)s=n[f],n.hasOwnProperty(f)&&l[f]!==s&&pc(e,f,s)}else for(var p in n)n.hasOwnProperty(p)&&pc(e,p,n[p])}function ss(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ty=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ny=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function go(e){return ny.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $t(){}var rs=null;function us(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _i=null,Ai=null;function hc(e){var n=yi(e);if(n&&(e=n.stateNode)){var l=e[ct]||null;e:switch(e=n.stateNode,n.type){case"input":if(os(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Mt(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var s=l[n];if(s!==e&&s.form===e.form){var f=s[ct]||null;if(!f)throw Error(a(90));os(s,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<l.length;n++)s=l[n],s.form===e.form&&uc(s)}break e;case"textarea":dc(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&Ti(e,!!l.multiple,n,!1)}}}var cs=!1;function gc(e,n,l){if(cs)return e(n,l);cs=!0;try{var s=e(n);return s}finally{if(cs=!1,(_i!==null||Ai!==null)&&(ia(),_i&&(n=_i,e=Ai,Ai=_i=null,hc(n),e)))for(n=0;n<e.length;n++)hc(e[n])}}function pl(e,n){var l=e.stateNode;if(l===null)return null;var s=l[ct]||null;if(s===null)return null;l=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(a(231,n,typeof l));return l}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ds=!1;if(Wt)try{var ml={};Object.defineProperty(ml,"passive",{get:function(){ds=!0}}),window.addEventListener("test",ml,ml),window.removeEventListener("test",ml,ml)}catch{ds=!1}var En=null,fs=null,yo=null;function yc(){if(yo)return yo;var e,n=fs,l=n.length,s,f="value"in En?En.value:En.textContent,p=f.length;for(e=0;e<l&&n[e]===f[e];e++);var T=l-e;for(s=1;s<=T&&n[l-s]===f[p-s];s++);return yo=f.slice(e,1<s?1-s:void 0)}function vo(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function So(){return!0}function vc(){return!1}function dt(e){function n(l,s,f,p,T){this._reactName=l,this._targetInst=f,this.type=s,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(l=e[A],this[A]=l?l(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?So:vc,this.isPropagationStopped=vc,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=So)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=So)},persist:function(){},isPersistent:So}),n}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},To=dt(Qn),hl=E({},Qn,{view:0,detail:0}),iy=dt(hl),ps,ms,gl,Eo=E({},hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gl&&(gl&&e.type==="mousemove"?(ps=e.screenX-gl.screenX,ms=e.screenY-gl.screenY):ms=ps=0,gl=e),ps)},movementY:function(e){return"movementY"in e?e.movementY:ms}}),Sc=dt(Eo),ly=E({},Eo,{dataTransfer:0}),oy=dt(ly),ay=E({},hl,{relatedTarget:0}),hs=dt(ay),sy=E({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),ry=dt(sy),uy=E({},Qn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cy=dt(uy),dy=E({},Qn,{data:0}),Tc=dt(dy),fy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},py={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},my={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hy(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=my[e])?!!n[e]:!1}function gs(){return hy}var gy=E({},hl,{key:function(e){if(e.key){var n=fy[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=vo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?py[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(e){return e.type==="keypress"?vo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yy=dt(gy),vy=E({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ec=dt(vy),Sy=E({},hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),Ty=dt(Sy),Ey=E({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),_y=dt(Ey),Ay=E({},Eo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cy=dt(Ay),xy=E({},Qn,{newState:0,oldState:0}),Ny=dt(xy),Ry=[9,13,27,32],ys=Wt&&"CompositionEvent"in window,yl=null;Wt&&"documentMode"in document&&(yl=document.documentMode);var by=Wt&&"TextEvent"in window&&!yl,_c=Wt&&(!ys||yl&&8<yl&&11>=yl),Ac=" ",Cc=!1;function xc(e,n){switch(e){case"keyup":return Ry.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ci=!1;function My(e,n){switch(e){case"compositionend":return Nc(n);case"keypress":return n.which!==32?null:(Cc=!0,Ac);case"textInput":return e=n.data,e===Ac&&Cc?null:e;default:return null}}function Iy(e,n){if(Ci)return e==="compositionend"||!ys&&xc(e,n)?(e=yc(),yo=fs=En=null,Ci=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _c&&n.locale!=="ko"?null:n.data;default:return null}}var Dy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Dy[e.type]:n==="textarea"}function bc(e,n,l,s){_i?Ai?Ai.push(s):Ai=[s]:_i=s,n=ca(n,"onChange"),0<n.length&&(l=new To("onChange","change",null,l,s),e.push({event:l,listeners:n}))}var vl=null,Sl=null;function wy(e){dp(e,0)}function _o(e){var n=fl(e);if(uc(n))return e}function Mc(e,n){if(e==="change")return n}var Ic=!1;if(Wt){var vs;if(Wt){var Ss="oninput"in document;if(!Ss){var Dc=document.createElement("div");Dc.setAttribute("oninput","return;"),Ss=typeof Dc.oninput=="function"}vs=Ss}else vs=!1;Ic=vs&&(!document.documentMode||9<document.documentMode)}function wc(){vl&&(vl.detachEvent("onpropertychange",Uc),Sl=vl=null)}function Uc(e){if(e.propertyName==="value"&&_o(Sl)){var n=[];bc(n,Sl,e,us(e)),gc(wy,n)}}function Uy(e,n,l){e==="focusin"?(wc(),vl=n,Sl=l,vl.attachEvent("onpropertychange",Uc)):e==="focusout"&&wc()}function Ly(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _o(Sl)}function Gy(e,n){if(e==="click")return _o(n)}function Hy(e,n){if(e==="input"||e==="change")return _o(n)}function qy(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Tt=typeof Object.is=="function"?Object.is:qy;function Tl(e,n){if(Tt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),s=Object.keys(n);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var f=l[s];if(!Za.call(n,f)||!Tt(e[f],n[f]))return!1}return!0}function Lc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gc(e,n){var l=Lc(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=n&&s>=n)return{node:l,offset:n-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Lc(l)}}function Hc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Hc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function qc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ho(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=ho(e.document)}return n}function Ts(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Vy=Wt&&"documentMode"in document&&11>=document.documentMode,xi=null,Es=null,El=null,_s=!1;function Vc(e,n,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;_s||xi==null||xi!==ho(s)||(s=xi,"selectionStart"in s&&Ts(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),El&&Tl(El,s)||(El=s,s=ca(Es,"onSelect"),0<s.length&&(n=new To("onSelect","select",null,n,l),e.push({event:n,listeners:s}),n.target=xi)))}function Zn(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var Ni={animationend:Zn("Animation","AnimationEnd"),animationiteration:Zn("Animation","AnimationIteration"),animationstart:Zn("Animation","AnimationStart"),transitionrun:Zn("Transition","TransitionRun"),transitionstart:Zn("Transition","TransitionStart"),transitioncancel:Zn("Transition","TransitionCancel"),transitionend:Zn("Transition","TransitionEnd")},As={},Oc={};Wt&&(Oc=document.createElement("div").style,"AnimationEvent"in window||(delete Ni.animationend.animation,delete Ni.animationiteration.animation,delete Ni.animationstart.animation),"TransitionEvent"in window||delete Ni.transitionend.transition);function $n(e){if(As[e])return As[e];if(!Ni[e])return e;var n=Ni[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in Oc)return As[e]=n[l];return e}var zc=$n("animationend"),Bc=$n("animationiteration"),Pc=$n("animationstart"),Oy=$n("transitionrun"),zy=$n("transitionstart"),By=$n("transitioncancel"),kc=$n("transitionend"),Fc=new Map,Cs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cs.push("scrollEnd");function zt(e,n){Fc.set(e,n),Kn(n,[e])}var Ao=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},It=[],Ri=0,xs=0;function Co(){for(var e=Ri,n=xs=Ri=0;n<e;){var l=It[n];It[n++]=null;var s=It[n];It[n++]=null;var f=It[n];It[n++]=null;var p=It[n];if(It[n++]=null,s!==null&&f!==null){var T=s.pending;T===null?f.next=f:(f.next=T.next,T.next=f),s.pending=f}p!==0&&Jc(l,f,p)}}function xo(e,n,l,s){It[Ri++]=e,It[Ri++]=n,It[Ri++]=l,It[Ri++]=s,xs|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Ns(e,n,l,s){return xo(e,n,l,s),No(e)}function Wn(e,n){return xo(e,null,null,n),No(e)}function Jc(e,n,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var f=!1,p=e.return;p!==null;)p.childLanes|=l,s=p.alternate,s!==null&&(s.childLanes|=l),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(f=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,f&&n!==null&&(f=31-St(l),e=p.hiddenUpdates,s=e[f],s===null?e[f]=[n]:s.push(n),n.lane=l|536870912),p):null}function No(e){if(50<kl)throw kl=0,Gr=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var bi={};function Py(e,n,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,n,l,s){return new Py(e,n,l,s)}function Rs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jt(e,n){var l=e.alternate;return l===null?(l=Et(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Yc(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ro(e,n,l,s,f,p){var T=0;if(s=e,typeof e=="function")Rs(e)&&(T=1);else if(typeof e=="string")T=X0(e,l,j.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case X:return e=Et(31,l,n,f),e.elementType=X,e.lanes=p,e;case G:return jn(l.children,f,p,n);case L:T=8,f|=24;break;case V:return e=Et(12,l,n,f|2),e.elementType=V,e.lanes=p,e;case te:return e=Et(13,l,n,f),e.elementType=te,e.lanes=p,e;case ne:return e=Et(19,l,n,f),e.elementType=ne,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F:T=10;break e;case Z:T=9;break e;case $:T=11;break e;case Y:T=14;break e;case fe:T=16,s=null;break e}T=29,l=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=Et(T,l,n,f),n.elementType=e,n.type=s,n.lanes=p,n}function jn(e,n,l,s){return e=Et(7,e,s,n),e.lanes=l,e}function bs(e,n,l){return e=Et(6,e,null,n),e.lanes=l,e}function Xc(e){var n=Et(18,null,null,0);return n.stateNode=e,n}function Ms(e,n,l){return n=Et(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Kc=new WeakMap;function Dt(e,n){if(typeof e=="object"&&e!==null){var l=Kc.get(e);return l!==void 0?l:(n={value:e,source:n,stack:Xu(n)},Kc.set(e,n),n)}return{value:e,source:n,stack:Xu(n)}}var Mi=[],Ii=0,bo=null,_l=0,wt=[],Ut=0,_n=null,Yt=1,Xt="";function en(e,n){Mi[Ii++]=_l,Mi[Ii++]=bo,bo=e,_l=n}function Qc(e,n,l){wt[Ut++]=Yt,wt[Ut++]=Xt,wt[Ut++]=_n,_n=e;var s=Yt;e=Xt;var f=32-St(s)-1;s&=~(1<<f),l+=1;var p=32-St(n)+f;if(30<p){var T=f-f%5;p=(s&(1<<T)-1).toString(32),s>>=T,f-=T,Yt=1<<32-St(n)+f|l<<f|s,Xt=p+e}else Yt=1<<p|l<<f|s,Xt=e}function Is(e){e.return!==null&&(en(e,1),Qc(e,1,0))}function Ds(e){for(;e===bo;)bo=Mi[--Ii],Mi[Ii]=null,_l=Mi[--Ii],Mi[Ii]=null;for(;e===_n;)_n=wt[--Ut],wt[Ut]=null,Xt=wt[--Ut],wt[Ut]=null,Yt=wt[--Ut],wt[Ut]=null}function Zc(e,n){wt[Ut++]=Yt,wt[Ut++]=Xt,wt[Ut++]=_n,Yt=n.id,Xt=n.overflow,_n=e}var et=null,Le=null,Se=!1,An=null,Lt=!1,ws=Error(a(519));function Cn(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Al(Dt(n,e)),ws}function $c(e){var n=e.stateNode,l=e.type,s=e.memoizedProps;switch(n[je]=e,n[ct]=s,l){case"dialog":ge("cancel",n),ge("close",n);break;case"iframe":case"object":case"embed":ge("load",n);break;case"video":case"audio":for(l=0;l<Jl.length;l++)ge(Jl[l],n);break;case"source":ge("error",n);break;case"img":case"image":case"link":ge("error",n),ge("load",n);break;case"details":ge("toggle",n);break;case"input":ge("invalid",n),cc(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ge("invalid",n);break;case"textarea":ge("invalid",n),fc(n,s.value,s.defaultValue,s.children)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||s.suppressHydrationWarning===!0||hp(n.textContent,l)?(s.popover!=null&&(ge("beforetoggle",n),ge("toggle",n)),s.onScroll!=null&&ge("scroll",n),s.onScrollEnd!=null&&ge("scrollend",n),s.onClick!=null&&(n.onclick=$t),n=!0):n=!1,n||Cn(e,!0)}function Wc(e){for(et=e.return;et;)switch(et.tag){case 5:case 31:case 13:Lt=!1;return;case 27:case 3:Lt=!0;return;default:et=et.return}}function Di(e){if(e!==et)return!1;if(!Se)return Wc(e),Se=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Zr(e.type,e.memoizedProps)),l=!l),l&&Le&&Cn(e),Wc(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Le=Cp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Le=Cp(e)}else n===27?(n=Le,Vn(e.type)?(e=tu,tu=null,Le=e):Le=n):Le=et?Ht(e.stateNode.nextSibling):null;return!0}function ei(){Le=et=null,Se=!1}function Us(){var e=An;return e!==null&&(ht===null?ht=e:ht.push.apply(ht,e),An=null),e}function Al(e){An===null?An=[e]:An.push(e)}var Ls=R(null),ti=null,tn=null;function xn(e,n,l){K(Ls,n._currentValue),n._currentValue=l}function nn(e){e._currentValue=Ls.current,k(Ls)}function Gs(e,n,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===l)break;e=e.return}}function Hs(e,n,l,s){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var p=f.dependencies;if(p!==null){var T=f.child;p=p.firstContext;e:for(;p!==null;){var A=p;p=f;for(var x=0;x<n.length;x++)if(A.context===n[x]){p.lanes|=l,A=p.alternate,A!==null&&(A.lanes|=l),Gs(p.return,l,e),s||(T=null);break e}p=A.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(a(341));T.lanes|=l,p=T.alternate,p!==null&&(p.lanes|=l),Gs(T,l,e),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===e){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function wi(e,n,l,s){e=null;for(var f=n,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var A=f.type;Tt(f.pendingProps.value,T.value)||(e!==null?e.push(A):e=[A])}}else if(f===Ce.current){if(T=f.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Zl):e=[Zl])}f=f.return}e!==null&&Hs(n,e,l,s),n.flags|=262144}function Mo(e){for(e=e.firstContext;e!==null;){if(!Tt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ni(e){ti=e,tn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function tt(e){return jc(ti,e)}function Io(e,n){return ti===null&&ni(e),jc(e,n)}function jc(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},tn===null){if(e===null)throw Error(a(308));tn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else tn=tn.next=n;return l}var ky=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},Fy=i.unstable_scheduleCallback,Jy=i.unstable_NormalPriority,ke={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qs(){return{controller:new ky,data:new Map,refCount:0}}function Cl(e){e.refCount--,e.refCount===0&&Fy(Jy,function(){e.controller.abort()})}var xl=null,Vs=0,Ui=0,Li=null;function Yy(e,n){if(xl===null){var l=xl=[];Vs=0,Ui=Br(),Li={status:"pending",value:void 0,then:function(s){l.push(s)}}}return Vs++,n.then(ed,ed),n}function ed(){if(--Vs===0&&xl!==null){Li!==null&&(Li.status="fulfilled");var e=xl;xl=null,Ui=0,Li=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Xy(e,n){var l=[],s={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var f=0;f<l.length;f++)(0,l[f])(n)},function(f){for(s.status="rejected",s.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),s}var td=q.S;q.S=function(e,n){Of=yt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Yy(e,n),td!==null&&td(e,n)};var ii=R(null);function Os(){var e=ii.current;return e!==null?e:Ue.pooledCache}function Do(e,n){n===null?K(ii,ii.current):K(ii,n.pool)}function nd(){var e=Os();return e===null?null:{parent:ke._currentValue,pool:e}}var Gi=Error(a(460)),zs=Error(a(474)),wo=Error(a(542)),Uo={then:function(){}};function id(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ld(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then($t,$t),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ad(e),e;default:if(typeof n.status=="string")n.then($t,$t);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=s}},function(s){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ad(e),e}throw oi=n,Gi}}function li(e){try{var n=e._init;return n(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(oi=l,Gi):l}}var oi=null;function od(){if(oi===null)throw Error(a(459));var e=oi;return oi=null,e}function ad(e){if(e===Gi||e===wo)throw Error(a(483))}var Hi=null,Nl=0;function Lo(e){var n=Nl;return Nl+=1,Hi===null&&(Hi=[]),ld(Hi,e,n)}function Rl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Go(e,n){throw n.$$typeof===_?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function sd(e){function n(b,N){if(e){var I=b.deletions;I===null?(b.deletions=[N],b.flags|=16):I.push(N)}}function l(b,N){if(!e)return null;for(;N!==null;)n(b,N),N=N.sibling;return null}function s(b){for(var N=new Map;b!==null;)b.key!==null?N.set(b.key,b):N.set(b.index,b),b=b.sibling;return N}function f(b,N){return b=jt(b,N),b.index=0,b.sibling=null,b}function p(b,N,I){return b.index=I,e?(I=b.alternate,I!==null?(I=I.index,I<N?(b.flags|=67108866,N):I):(b.flags|=67108866,N)):(b.flags|=1048576,N)}function T(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function A(b,N,I,B){return N===null||N.tag!==6?(N=bs(I,b.mode,B),N.return=b,N):(N=f(N,I),N.return=b,N)}function x(b,N,I,B){var ie=I.type;return ie===G?O(b,N,I.props.children,B,I.key):N!==null&&(N.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===fe&&li(ie)===N.type)?(N=f(N,I.props),Rl(N,I),N.return=b,N):(N=Ro(I.type,I.key,I.props,null,b.mode,B),Rl(N,I),N.return=b,N)}function D(b,N,I,B){return N===null||N.tag!==4||N.stateNode.containerInfo!==I.containerInfo||N.stateNode.implementation!==I.implementation?(N=Ms(I,b.mode,B),N.return=b,N):(N=f(N,I.children||[]),N.return=b,N)}function O(b,N,I,B,ie){return N===null||N.tag!==7?(N=jn(I,b.mode,B,ie),N.return=b,N):(N=f(N,I),N.return=b,N)}function P(b,N,I){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=bs(""+N,b.mode,I),N.return=b,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case C:return I=Ro(N.type,N.key,N.props,null,b.mode,I),Rl(I,N),I.return=b,I;case U:return N=Ms(N,b.mode,I),N.return=b,N;case fe:return N=li(N),P(b,N,I)}if(Ke(N)||M(N))return N=jn(N,b.mode,I,null),N.return=b,N;if(typeof N.then=="function")return P(b,Lo(N),I);if(N.$$typeof===F)return P(b,Io(b,N),I);Go(b,N)}return null}function w(b,N,I,B){var ie=N!==null?N.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return ie!==null?null:A(b,N,""+I,B);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case C:return I.key===ie?x(b,N,I,B):null;case U:return I.key===ie?D(b,N,I,B):null;case fe:return I=li(I),w(b,N,I,B)}if(Ke(I)||M(I))return ie!==null?null:O(b,N,I,B,null);if(typeof I.then=="function")return w(b,N,Lo(I),B);if(I.$$typeof===F)return w(b,N,Io(b,I),B);Go(b,I)}return null}function H(b,N,I,B,ie){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return b=b.get(I)||null,A(N,b,""+B,ie);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case C:return b=b.get(B.key===null?I:B.key)||null,x(N,b,B,ie);case U:return b=b.get(B.key===null?I:B.key)||null,D(N,b,B,ie);case fe:return B=li(B),H(b,N,I,B,ie)}if(Ke(B)||M(B))return b=b.get(I)||null,O(N,b,B,ie,null);if(typeof B.then=="function")return H(b,N,I,Lo(B),ie);if(B.$$typeof===F)return H(b,N,I,Io(N,B),ie);Go(N,B)}return null}function W(b,N,I,B){for(var ie=null,Te=null,ee=N,ce=N=0,ve=null;ee!==null&&ce<I.length;ce++){ee.index>ce?(ve=ee,ee=null):ve=ee.sibling;var Ee=w(b,ee,I[ce],B);if(Ee===null){ee===null&&(ee=ve);break}e&&ee&&Ee.alternate===null&&n(b,ee),N=p(Ee,N,ce),Te===null?ie=Ee:Te.sibling=Ee,Te=Ee,ee=ve}if(ce===I.length)return l(b,ee),Se&&en(b,ce),ie;if(ee===null){for(;ce<I.length;ce++)ee=P(b,I[ce],B),ee!==null&&(N=p(ee,N,ce),Te===null?ie=ee:Te.sibling=ee,Te=ee);return Se&&en(b,ce),ie}for(ee=s(ee);ce<I.length;ce++)ve=H(ee,b,ce,I[ce],B),ve!==null&&(e&&ve.alternate!==null&&ee.delete(ve.key===null?ce:ve.key),N=p(ve,N,ce),Te===null?ie=ve:Te.sibling=ve,Te=ve);return e&&ee.forEach(function(kn){return n(b,kn)}),Se&&en(b,ce),ie}function le(b,N,I,B){if(I==null)throw Error(a(151));for(var ie=null,Te=null,ee=N,ce=N=0,ve=null,Ee=I.next();ee!==null&&!Ee.done;ce++,Ee=I.next()){ee.index>ce?(ve=ee,ee=null):ve=ee.sibling;var kn=w(b,ee,Ee.value,B);if(kn===null){ee===null&&(ee=ve);break}e&&ee&&kn.alternate===null&&n(b,ee),N=p(kn,N,ce),Te===null?ie=kn:Te.sibling=kn,Te=kn,ee=ve}if(Ee.done)return l(b,ee),Se&&en(b,ce),ie;if(ee===null){for(;!Ee.done;ce++,Ee=I.next())Ee=P(b,Ee.value,B),Ee!==null&&(N=p(Ee,N,ce),Te===null?ie=Ee:Te.sibling=Ee,Te=Ee);return Se&&en(b,ce),ie}for(ee=s(ee);!Ee.done;ce++,Ee=I.next())Ee=H(ee,b,ce,Ee.value,B),Ee!==null&&(e&&Ee.alternate!==null&&ee.delete(Ee.key===null?ce:Ee.key),N=p(Ee,N,ce),Te===null?ie=Ee:Te.sibling=Ee,Te=Ee);return e&&ee.forEach(function(lv){return n(b,lv)}),Se&&en(b,ce),ie}function De(b,N,I,B){if(typeof I=="object"&&I!==null&&I.type===G&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case C:e:{for(var ie=I.key;N!==null;){if(N.key===ie){if(ie=I.type,ie===G){if(N.tag===7){l(b,N.sibling),B=f(N,I.props.children),B.return=b,b=B;break e}}else if(N.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===fe&&li(ie)===N.type){l(b,N.sibling),B=f(N,I.props),Rl(B,I),B.return=b,b=B;break e}l(b,N);break}else n(b,N);N=N.sibling}I.type===G?(B=jn(I.props.children,b.mode,B,I.key),B.return=b,b=B):(B=Ro(I.type,I.key,I.props,null,b.mode,B),Rl(B,I),B.return=b,b=B)}return T(b);case U:e:{for(ie=I.key;N!==null;){if(N.key===ie)if(N.tag===4&&N.stateNode.containerInfo===I.containerInfo&&N.stateNode.implementation===I.implementation){l(b,N.sibling),B=f(N,I.children||[]),B.return=b,b=B;break e}else{l(b,N);break}else n(b,N);N=N.sibling}B=Ms(I,b.mode,B),B.return=b,b=B}return T(b);case fe:return I=li(I),De(b,N,I,B)}if(Ke(I))return W(b,N,I,B);if(M(I)){if(ie=M(I),typeof ie!="function")throw Error(a(150));return I=ie.call(I),le(b,N,I,B)}if(typeof I.then=="function")return De(b,N,Lo(I),B);if(I.$$typeof===F)return De(b,N,Io(b,I),B);Go(b,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,N!==null&&N.tag===6?(l(b,N.sibling),B=f(N,I),B.return=b,b=B):(l(b,N),B=bs(I,b.mode,B),B.return=b,b=B),T(b)):l(b,N)}return function(b,N,I,B){try{Nl=0;var ie=De(b,N,I,B);return Hi=null,ie}catch(ee){if(ee===Gi||ee===wo)throw ee;var Te=Et(29,ee,null,b.mode);return Te.lanes=B,Te.return=b,Te}finally{}}}var ai=sd(!0),rd=sd(!1),Nn=!1;function Bs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ps(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Rn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bn(e,n,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ae&2)!==0){var f=s.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),s.pending=n,n=No(e),Jc(e,null,l),n}return xo(e,s,n,l),No(e)}function bl(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,l|=s,n.lanes=l,ju(e,l)}}function ks(e,n){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var f=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?f=p=T:p=p.next=T,l=l.next}while(l!==null);p===null?f=p=n:p=p.next=n}else f=p=n;l={baseState:s.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var Fs=!1;function Ml(){if(Fs){var e=Li;if(e!==null)throw e}}function Il(e,n,l,s){Fs=!1;var f=e.updateQueue;Nn=!1;var p=f.firstBaseUpdate,T=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var x=A,D=x.next;x.next=null,T===null?p=D:T.next=D,T=x;var O=e.alternate;O!==null&&(O=O.updateQueue,A=O.lastBaseUpdate,A!==T&&(A===null?O.firstBaseUpdate=D:A.next=D,O.lastBaseUpdate=x))}if(p!==null){var P=f.baseState;T=0,O=D=x=null,A=p;do{var w=A.lane&-536870913,H=w!==A.lane;if(H?(ye&w)===w:(s&w)===w){w!==0&&w===Ui&&(Fs=!0),O!==null&&(O=O.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var W=e,le=A;w=n;var De=l;switch(le.tag){case 1:if(W=le.payload,typeof W=="function"){P=W.call(De,P,w);break e}P=W;break e;case 3:W.flags=W.flags&-65537|128;case 0:if(W=le.payload,w=typeof W=="function"?W.call(De,P,w):W,w==null)break e;P=E({},P,w);break e;case 2:Nn=!0}}w=A.callback,w!==null&&(e.flags|=64,H&&(e.flags|=8192),H=f.callbacks,H===null?f.callbacks=[w]:H.push(w))}else H={lane:w,tag:A.tag,payload:A.payload,callback:A.callback,next:null},O===null?(D=O=H,x=P):O=O.next=H,T|=w;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;H=A,A=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);O===null&&(x=P),f.baseState=x,f.firstBaseUpdate=D,f.lastBaseUpdate=O,p===null&&(f.shared.lanes=0),Un|=T,e.lanes=T,e.memoizedState=P}}function ud(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function cd(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)ud(l[e],n)}var qi=R(null),Ho=R(0);function dd(e,n){e=fn,K(Ho,e),K(qi,n),fn=e|n.baseLanes}function Js(){K(Ho,fn),K(qi,qi.current)}function Ys(){fn=Ho.current,k(qi),k(Ho)}var _t=R(null),Gt=null;function Mn(e){var n=e.alternate;K(Be,Be.current&1),K(_t,e),Gt===null&&(n===null||qi.current!==null||n.memoizedState!==null)&&(Gt=e)}function Xs(e){K(Be,Be.current),K(_t,e),Gt===null&&(Gt=e)}function fd(e){e.tag===22?(K(Be,Be.current),K(_t,e),Gt===null&&(Gt=e)):In()}function In(){K(Be,Be.current),K(_t,_t.current)}function At(e){k(_t),Gt===e&&(Gt=null),k(Be)}var Be=R(0);function qo(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||jr(l)||eu(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ln=0,ue=null,Me=null,Fe=null,Vo=!1,Vi=!1,si=!1,Oo=0,Dl=0,Oi=null,Ky=0;function Ve(){throw Error(a(321))}function Ks(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!Tt(e[l],n[l]))return!1;return!0}function Qs(e,n,l,s,f,p){return ln=p,ue=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?Qd:cr,si=!1,p=l(s,f),si=!1,Vi&&(p=md(n,l,s,f)),pd(e),p}function pd(e){q.H=Ll;var n=Me!==null&&Me.next!==null;if(ln=0,Fe=Me=ue=null,Vo=!1,Dl=0,Oi=null,n)throw Error(a(300));e===null||Je||(e=e.dependencies,e!==null&&Mo(e)&&(Je=!0))}function md(e,n,l,s){ue=e;var f=0;do{if(Vi&&(Oi=null),Dl=0,Vi=!1,25<=f)throw Error(a(301));if(f+=1,Fe=Me=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}q.H=Zd,p=n(l,s)}while(Vi);return p}function Qy(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?wl(n):n,e=e.useState()[0],(Me!==null?Me.memoizedState:null)!==e&&(ue.flags|=1024),n}function Zs(){var e=Oo!==0;return Oo=0,e}function $s(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function Ws(e){if(Vo){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Vo=!1}ln=0,Fe=Me=ue=null,Vi=!1,Dl=Oo=0,Oi=null}function st(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?ue.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function Pe(){if(Me===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var n=Fe===null?ue.memoizedState:Fe.next;if(n!==null)Fe=n,Me=e;else{if(e===null)throw ue.alternate===null?Error(a(467)):Error(a(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Fe===null?ue.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function zo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(e){var n=Dl;return Dl+=1,Oi===null&&(Oi=[]),e=ld(Oi,e,n),n=ue,(Fe===null?n.memoizedState:Fe.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Qd:cr),e}function Bo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return wl(e);if(e.$$typeof===F)return tt(e)}throw Error(a(438,String(e)))}function js(e){var n=null,l=ue.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var s=ue.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=zo(),ue.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),s=0;s<e;s++)l[s]=de;return n.index++,l}function on(e,n){return typeof n=="function"?n(e):n}function Po(e){var n=Pe();return er(n,Me,e)}function er(e,n,l){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=l;var f=e.baseQueue,p=s.pending;if(p!==null){if(f!==null){var T=f.next;f.next=p.next,p.next=T}n.baseQueue=f=p,s.pending=null}if(p=e.baseState,f===null)e.memoizedState=p;else{n=f.next;var A=T=null,x=null,D=n,O=!1;do{var P=D.lane&-536870913;if(P!==D.lane?(ye&P)===P:(ln&P)===P){var w=D.revertLane;if(w===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),P===Ui&&(O=!0);else if((ln&w)===w){D=D.next,w===Ui&&(O=!0);continue}else P={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},x===null?(A=x=P,T=p):x=x.next=P,ue.lanes|=w,Un|=w;P=D.action,si&&l(p,P),p=D.hasEagerState?D.eagerState:l(p,P)}else w={lane:P,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},x===null?(A=x=w,T=p):x=x.next=w,ue.lanes|=P,Un|=P;D=D.next}while(D!==null&&D!==n);if(x===null?T=p:x.next=A,!Tt(p,e.memoizedState)&&(Je=!0,O&&(l=Li,l!==null)))throw l;e.memoizedState=p,e.baseState=T,e.baseQueue=x,s.lastRenderedState=p}return f===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function tr(e){var n=Pe(),l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=e;var s=l.dispatch,f=l.pending,p=n.memoizedState;if(f!==null){l.pending=null;var T=f=f.next;do p=e(p,T.action),T=T.next;while(T!==f);Tt(p,n.memoizedState)||(Je=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),l.lastRenderedState=p}return[p,s]}function hd(e,n,l){var s=ue,f=Pe(),p=Se;if(p){if(l===void 0)throw Error(a(407));l=l()}else l=n();var T=!Tt((Me||f).memoizedState,l);if(T&&(f.memoizedState=l,Je=!0),f=f.queue,lr(vd.bind(null,s,f,e),[e]),f.getSnapshot!==n||T||Fe!==null&&Fe.memoizedState.tag&1){if(s.flags|=2048,zi(9,{destroy:void 0},yd.bind(null,s,f,l,n),null),Ue===null)throw Error(a(349));p||(ln&127)!==0||gd(s,n,l)}return l}function gd(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=ue.updateQueue,n===null?(n=zo(),ue.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function yd(e,n,l,s){n.value=l,n.getSnapshot=s,Sd(n)&&Td(e)}function vd(e,n,l){return l(function(){Sd(n)&&Td(e)})}function Sd(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!Tt(e,l)}catch{return!0}}function Td(e){var n=Wn(e,2);n!==null&&gt(n,e,2)}function nr(e){var n=st();if(typeof e=="function"){var l=e;if(e=l(),si){Sn(!0);try{l()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:e},n}function Ed(e,n,l,s){return e.baseState=l,er(e,Me,typeof s=="function"?s:on)}function Zy(e,n,l,s,f){if(Jo(e))throw Error(a(485));if(e=n.action,e!==null){var p={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};q.T!==null?l(!0):p.isTransition=!1,s(p),l=n.pending,l===null?(p.next=n.pending=p,_d(n,p)):(p.next=l.next,n.pending=l.next=p)}}function _d(e,n){var l=n.action,s=n.payload,f=e.state;if(n.isTransition){var p=q.T,T={};q.T=T;try{var A=l(f,s),x=q.S;x!==null&&x(T,A),Ad(e,n,A)}catch(D){ir(e,n,D)}finally{p!==null&&T.types!==null&&(p.types=T.types),q.T=p}}else try{p=l(f,s),Ad(e,n,p)}catch(D){ir(e,n,D)}}function Ad(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){Cd(e,n,s)},function(s){return ir(e,n,s)}):Cd(e,n,l)}function Cd(e,n,l){n.status="fulfilled",n.value=l,xd(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,_d(e,l)))}function ir(e,n,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=l,xd(n),n=n.next;while(n!==s)}e.action=null}function xd(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Nd(e,n){return n}function Rd(e,n){if(Se){var l=Ue.formState;if(l!==null){e:{var s=ue;if(Se){if(Le){t:{for(var f=Le,p=Lt;f.nodeType!==8;){if(!p){f=null;break t}if(f=Ht(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Le=Ht(f.nextSibling),s=f.data==="F!";break e}}Cn(s)}s=!1}s&&(n=l[0])}}return l=st(),l.memoizedState=l.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nd,lastRenderedState:n},l.queue=s,l=Yd.bind(null,ue,s),s.dispatch=l,s=nr(!1),p=ur.bind(null,ue,!1,s.queue),s=st(),f={state:n,dispatch:null,action:e,pending:null},s.queue=f,l=Zy.bind(null,ue,f,p,l),f.dispatch=l,s.memoizedState=e,[n,l,!1]}function bd(e){var n=Pe();return Md(n,Me,e)}function Md(e,n,l){if(n=er(e,n,Nd)[0],e=Po(on)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=wl(n)}catch(T){throw T===Gi?wo:T}else s=n;n=Pe();var f=n.queue,p=f.dispatch;return l!==n.memoizedState&&(ue.flags|=2048,zi(9,{destroy:void 0},$y.bind(null,f,l),null)),[s,p,e]}function $y(e,n){e.action=n}function Id(e){var n=Pe(),l=Me;if(l!==null)return Md(n,l,e);Pe(),n=n.memoizedState,l=Pe();var s=l.queue.dispatch;return l.memoizedState=e,[n,s,!1]}function zi(e,n,l,s){return e={tag:e,create:l,deps:s,inst:n,next:null},n=ue.updateQueue,n===null&&(n=zo(),ue.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,n.lastEffect=e),e}function Dd(){return Pe().memoizedState}function ko(e,n,l,s){var f=st();ue.flags|=e,f.memoizedState=zi(1|n,{destroy:void 0},l,s===void 0?null:s)}function Fo(e,n,l,s){var f=Pe();s=s===void 0?null:s;var p=f.memoizedState.inst;Me!==null&&s!==null&&Ks(s,Me.memoizedState.deps)?f.memoizedState=zi(n,p,l,s):(ue.flags|=e,f.memoizedState=zi(1|n,p,l,s))}function wd(e,n){ko(8390656,8,e,n)}function lr(e,n){Fo(2048,8,e,n)}function Wy(e){ue.flags|=4;var n=ue.updateQueue;if(n===null)n=zo(),ue.updateQueue=n,n.events=[e];else{var l=n.events;l===null?n.events=[e]:l.push(e)}}function Ud(e){var n=Pe().memoizedState;return Wy({ref:n,nextImpl:e}),function(){if((Ae&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Ld(e,n){return Fo(4,2,e,n)}function Gd(e,n){return Fo(4,4,e,n)}function Hd(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function qd(e,n,l){l=l!=null?l.concat([e]):null,Fo(4,4,Hd.bind(null,n,e),l)}function or(){}function Vd(e,n){var l=Pe();n=n===void 0?null:n;var s=l.memoizedState;return n!==null&&Ks(n,s[1])?s[0]:(l.memoizedState=[e,n],e)}function Od(e,n){var l=Pe();n=n===void 0?null:n;var s=l.memoizedState;if(n!==null&&Ks(n,s[1]))return s[0];if(s=e(),si){Sn(!0);try{e()}finally{Sn(!1)}}return l.memoizedState=[s,n],s}function ar(e,n,l){return l===void 0||(ln&1073741824)!==0&&(ye&261930)===0?e.memoizedState=n:(e.memoizedState=l,e=Bf(),ue.lanes|=e,Un|=e,l)}function zd(e,n,l,s){return Tt(l,n)?l:qi.current!==null?(e=ar(e,l,s),Tt(e,n)||(Je=!0),e):(ln&42)===0||(ln&1073741824)!==0&&(ye&261930)===0?(Je=!0,e.memoizedState=l):(e=Bf(),ue.lanes|=e,Un|=e,n)}function Bd(e,n,l,s,f){var p=J.p;J.p=p!==0&&8>p?p:8;var T=q.T,A={};q.T=A,ur(e,!1,n,l);try{var x=f(),D=q.S;if(D!==null&&D(A,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var O=Xy(x,s);Ul(e,n,O,Nt(e))}else Ul(e,n,s,Nt(e))}catch(P){Ul(e,n,{then:function(){},status:"rejected",reason:P},Nt())}finally{J.p=p,T!==null&&A.types!==null&&(T.types=A.types),q.T=T}}function jy(){}function sr(e,n,l,s){if(e.tag!==5)throw Error(a(476));var f=Pd(e).queue;Bd(e,f,n,oe,l===null?jy:function(){return kd(e),l(s)})}function Pd(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:oe},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function kd(e){var n=Pd(e);n.next===null&&(n=e.alternate.memoizedState),Ul(e,n.next.queue,{},Nt())}function rr(){return tt(Zl)}function Fd(){return Pe().memoizedState}function Jd(){return Pe().memoizedState}function e0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=Nt();e=Rn(l);var s=bn(n,e,l);s!==null&&(gt(s,n,l),bl(s,n,l)),n={cache:qs()},e.payload=n;return}n=n.return}}function t0(e,n,l){var s=Nt();l={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Jo(e)?Xd(n,l):(l=Ns(e,n,l,s),l!==null&&(gt(l,e,s),Kd(l,n,s)))}function Yd(e,n,l){var s=Nt();Ul(e,n,l,s)}function Ul(e,n,l,s){var f={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Jo(e))Xd(n,f);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var T=n.lastRenderedState,A=p(T,l);if(f.hasEagerState=!0,f.eagerState=A,Tt(A,T))return xo(e,n,f,0),Ue===null&&Co(),!1}catch{}finally{}if(l=Ns(e,n,f,s),l!==null)return gt(l,e,s),Kd(l,n,s),!0}return!1}function ur(e,n,l,s){if(s={lane:2,revertLane:Br(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Jo(e)){if(n)throw Error(a(479))}else n=Ns(e,l,s,2),n!==null&&gt(n,e,2)}function Jo(e){var n=e.alternate;return e===ue||n!==null&&n===ue}function Xd(e,n){Vi=Vo=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function Kd(e,n,l){if((l&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,l|=s,n.lanes=l,ju(e,l)}}var Ll={readContext:tt,use:Bo,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};Ll.useEffectEvent=Ve;var Qd={readContext:tt,use:Bo,useCallback:function(e,n){return st().memoizedState=[e,n===void 0?null:n],e},useContext:tt,useEffect:wd,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,ko(4194308,4,Hd.bind(null,n,e),l)},useLayoutEffect:function(e,n){return ko(4194308,4,e,n)},useInsertionEffect:function(e,n){ko(4,2,e,n)},useMemo:function(e,n){var l=st();n=n===void 0?null:n;var s=e();if(si){Sn(!0);try{e()}finally{Sn(!1)}}return l.memoizedState=[s,n],s},useReducer:function(e,n,l){var s=st();if(l!==void 0){var f=l(n);if(si){Sn(!0);try{l(n)}finally{Sn(!1)}}}else f=n;return s.memoizedState=s.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},s.queue=e,e=e.dispatch=t0.bind(null,ue,e),[s.memoizedState,e]},useRef:function(e){var n=st();return e={current:e},n.memoizedState=e},useState:function(e){e=nr(e);var n=e.queue,l=Yd.bind(null,ue,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:or,useDeferredValue:function(e,n){var l=st();return ar(l,e,n)},useTransition:function(){var e=nr(!1);return e=Bd.bind(null,ue,e.queue,!0,!1),st().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var s=ue,f=st();if(Se){if(l===void 0)throw Error(a(407));l=l()}else{if(l=n(),Ue===null)throw Error(a(349));(ye&127)!==0||gd(s,n,l)}f.memoizedState=l;var p={value:l,getSnapshot:n};return f.queue=p,wd(vd.bind(null,s,p,e),[e]),s.flags|=2048,zi(9,{destroy:void 0},yd.bind(null,s,p,l,n),null),l},useId:function(){var e=st(),n=Ue.identifierPrefix;if(Se){var l=Xt,s=Yt;l=(s&~(1<<32-St(s)-1)).toString(32)+l,n="_"+n+"R_"+l,l=Oo++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=Ky++,n="_"+n+"r_"+l.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:rr,useFormState:Rd,useActionState:Rd,useOptimistic:function(e){var n=st();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=ur.bind(null,ue,!0,l),l.dispatch=n,[e,n]},useMemoCache:js,useCacheRefresh:function(){return st().memoizedState=e0.bind(null,ue)},useEffectEvent:function(e){var n=st(),l={impl:e};return n.memoizedState=l,function(){if((Ae&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},cr={readContext:tt,use:Bo,useCallback:Vd,useContext:tt,useEffect:lr,useImperativeHandle:qd,useInsertionEffect:Ld,useLayoutEffect:Gd,useMemo:Od,useReducer:Po,useRef:Dd,useState:function(){return Po(on)},useDebugValue:or,useDeferredValue:function(e,n){var l=Pe();return zd(l,Me.memoizedState,e,n)},useTransition:function(){var e=Po(on)[0],n=Pe().memoizedState;return[typeof e=="boolean"?e:wl(e),n]},useSyncExternalStore:hd,useId:Fd,useHostTransitionStatus:rr,useFormState:bd,useActionState:bd,useOptimistic:function(e,n){var l=Pe();return Ed(l,Me,e,n)},useMemoCache:js,useCacheRefresh:Jd};cr.useEffectEvent=Ud;var Zd={readContext:tt,use:Bo,useCallback:Vd,useContext:tt,useEffect:lr,useImperativeHandle:qd,useInsertionEffect:Ld,useLayoutEffect:Gd,useMemo:Od,useReducer:tr,useRef:Dd,useState:function(){return tr(on)},useDebugValue:or,useDeferredValue:function(e,n){var l=Pe();return Me===null?ar(l,e,n):zd(l,Me.memoizedState,e,n)},useTransition:function(){var e=tr(on)[0],n=Pe().memoizedState;return[typeof e=="boolean"?e:wl(e),n]},useSyncExternalStore:hd,useId:Fd,useHostTransitionStatus:rr,useFormState:Id,useActionState:Id,useOptimistic:function(e,n){var l=Pe();return Me!==null?Ed(l,Me,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:js,useCacheRefresh:Jd};Zd.useEffectEvent=Ud;function dr(e,n,l,s){n=e.memoizedState,l=l(s,n),l=l==null?n:E({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var fr={enqueueSetState:function(e,n,l){e=e._reactInternals;var s=Nt(),f=Rn(s);f.payload=n,l!=null&&(f.callback=l),n=bn(e,f,s),n!==null&&(gt(n,e,s),bl(n,e,s))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var s=Nt(),f=Rn(s);f.tag=1,f.payload=n,l!=null&&(f.callback=l),n=bn(e,f,s),n!==null&&(gt(n,e,s),bl(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=Nt(),s=Rn(l);s.tag=2,n!=null&&(s.callback=n),n=bn(e,s,l),n!==null&&(gt(n,e,l),bl(n,e,l))}};function $d(e,n,l,s,f,p,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,p,T):n.prototype&&n.prototype.isPureReactComponent?!Tl(l,s)||!Tl(f,p):!0}function Wd(e,n,l,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,s),n.state!==e&&fr.enqueueReplaceState(n,n.state,null)}function ri(e,n){var l=n;if("ref"in n){l={};for(var s in n)s!=="ref"&&(l[s]=n[s])}if(e=e.defaultProps){l===n&&(l=E({},l));for(var f in e)l[f]===void 0&&(l[f]=e[f])}return l}function jd(e){Ao(e)}function ef(e){console.error(e)}function tf(e){Ao(e)}function Yo(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function nf(e,n,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function pr(e,n,l){return l=Rn(l),l.tag=3,l.payload={element:null},l.callback=function(){Yo(e,n)},l}function lf(e){return e=Rn(e),e.tag=3,e}function of(e,n,l,s){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var p=s.value;e.payload=function(){return f(p)},e.callback=function(){nf(n,l,s)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){nf(n,l,s),typeof f!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this));var A=s.stack;this.componentDidCatch(s.value,{componentStack:A!==null?A:""})})}function n0(e,n,l,s,f){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=l.alternate,n!==null&&wi(n,l,f,!0),l=_t.current,l!==null){switch(l.tag){case 31:case 13:return Gt===null?la():l.alternate===null&&Oe===0&&(Oe=3),l.flags&=-257,l.flags|=65536,l.lanes=f,s===Uo?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([s]):n.add(s),Vr(e,s,f)),!1;case 22:return l.flags|=65536,s===Uo?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([s]):l.add(s)),Vr(e,s,f)),!1}throw Error(a(435,l.tag))}return Vr(e,s,f),la(),!1}if(Se)return n=_t.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,s!==ws&&(e=Error(a(422),{cause:s}),Al(Dt(e,l)))):(s!==ws&&(n=Error(a(423),{cause:s}),Al(Dt(n,l))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,s=Dt(s,l),f=pr(e.stateNode,s,f),ks(e,f),Oe!==4&&(Oe=2)),!1;var p=Error(a(520),{cause:s});if(p=Dt(p,l),Pl===null?Pl=[p]:Pl.push(p),Oe!==4&&(Oe=2),n===null)return!0;s=Dt(s,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=f&-f,l.lanes|=e,e=pr(l.stateNode,s,e),ks(l,e),!1;case 1:if(n=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ln===null||!Ln.has(p))))return l.flags|=65536,f&=-f,l.lanes|=f,f=lf(f),of(f,e,l,s),ks(l,f),!1}l=l.return}while(l!==null);return!1}var mr=Error(a(461)),Je=!1;function nt(e,n,l,s){n.child=e===null?rd(n,null,l,s):ai(n,e.child,l,s)}function af(e,n,l,s,f){l=l.render;var p=n.ref;if("ref"in s){var T={};for(var A in s)A!=="ref"&&(T[A]=s[A])}else T=s;return ni(n),s=Qs(e,n,l,T,p,f),A=Zs(),e!==null&&!Je?($s(e,n,f),an(e,n,f)):(Se&&A&&Is(n),n.flags|=1,nt(e,n,s,f),n.child)}function sf(e,n,l,s,f){if(e===null){var p=l.type;return typeof p=="function"&&!Rs(p)&&p.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=p,rf(e,n,p,s,f)):(e=Ro(l.type,null,s,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(p=e.child,!_r(e,f)){var T=p.memoizedProps;if(l=l.compare,l=l!==null?l:Tl,l(T,s)&&e.ref===n.ref)return an(e,n,f)}return n.flags|=1,e=jt(p,s),e.ref=n.ref,e.return=n,n.child=e}function rf(e,n,l,s,f){if(e!==null){var p=e.memoizedProps;if(Tl(p,s)&&e.ref===n.ref)if(Je=!1,n.pendingProps=s=p,_r(e,f))(e.flags&131072)!==0&&(Je=!0);else return n.lanes=e.lanes,an(e,n,f)}return hr(e,n,l,s,f)}function uf(e,n,l,s){var f=s.children,p=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,e!==null){for(s=n.child=e.child,f=0;s!==null;)f=f|s.lanes|s.childLanes,s=s.sibling;s=f&~p}else s=0,n.child=null;return cf(e,n,p,l,s)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Do(n,p!==null?p.cachePool:null),p!==null?dd(n,p):Js(),fd(n);else return s=n.lanes=536870912,cf(e,n,p!==null?p.baseLanes|l:l,l,s)}else p!==null?(Do(n,p.cachePool),dd(n,p),In(),n.memoizedState=null):(e!==null&&Do(n,null),Js(),In());return nt(e,n,f,l),n.child}function Gl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function cf(e,n,l,s,f){var p=Os();return p=p===null?null:{parent:ke._currentValue,pool:p},n.memoizedState={baseLanes:l,cachePool:p},e!==null&&Do(n,null),Js(),fd(n),e!==null&&wi(e,n,s,!0),n.childLanes=f,null}function Xo(e,n){return n=Qo({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function df(e,n,l){return ai(n,e.child,null,l),e=Xo(n,n.pendingProps),e.flags|=2,At(n),n.memoizedState=null,e}function i0(e,n,l){var s=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Se){if(s.mode==="hidden")return e=Xo(n,s),n.lanes=536870912,Gl(null,e);if(Xs(n),(e=Le)?(e=Ap(e,Lt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_n!==null?{id:Yt,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},l=Xc(e),l.return=n,n.child=l,et=n,Le=null)):e=null,e===null)throw Cn(n);return n.lanes=536870912,null}return Xo(n,s)}var p=e.memoizedState;if(p!==null){var T=p.dehydrated;if(Xs(n),f)if(n.flags&256)n.flags&=-257,n=df(e,n,l);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Je||wi(e,n,l,!1),f=(l&e.childLanes)!==0,Je||f){if(s=Ue,s!==null&&(T=ec(s,l),T!==0&&T!==p.retryLane))throw p.retryLane=T,Wn(e,T),gt(s,e,T),mr;la(),n=df(e,n,l)}else e=p.treeContext,Le=Ht(T.nextSibling),et=n,Se=!0,An=null,Lt=!1,e!==null&&Zc(n,e),n=Xo(n,s),n.flags|=4096;return n}return e=jt(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ko(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function hr(e,n,l,s,f){return ni(n),l=Qs(e,n,l,s,void 0,f),s=Zs(),e!==null&&!Je?($s(e,n,f),an(e,n,f)):(Se&&s&&Is(n),n.flags|=1,nt(e,n,l,f),n.child)}function ff(e,n,l,s,f,p){return ni(n),n.updateQueue=null,l=md(n,s,l,f),pd(e),s=Zs(),e!==null&&!Je?($s(e,n,p),an(e,n,p)):(Se&&s&&Is(n),n.flags|=1,nt(e,n,l,p),n.child)}function pf(e,n,l,s,f){if(ni(n),n.stateNode===null){var p=bi,T=l.contextType;typeof T=="object"&&T!==null&&(p=tt(T)),p=new l(s,p),n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=fr,n.stateNode=p,p._reactInternals=n,p=n.stateNode,p.props=s,p.state=n.memoizedState,p.refs={},Bs(n),T=l.contextType,p.context=typeof T=="object"&&T!==null?tt(T):bi,p.state=n.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(dr(n,l,T,s),p.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&fr.enqueueReplaceState(p,p.state,null),Il(n,s,p,f),Ml(),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){p=n.stateNode;var A=n.memoizedProps,x=ri(l,A);p.props=x;var D=p.context,O=l.contextType;T=bi,typeof O=="object"&&O!==null&&(T=tt(O));var P=l.getDerivedStateFromProps;O=typeof P=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=n.pendingProps!==A,O||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||D!==T)&&Wd(n,p,s,T),Nn=!1;var w=n.memoizedState;p.state=w,Il(n,s,p,f),Ml(),D=n.memoizedState,A||w!==D||Nn?(typeof P=="function"&&(dr(n,l,P,s),D=n.memoizedState),(x=Nn||$d(n,l,x,s,w,D,T))?(O||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=D),p.props=s,p.state=D,p.context=T,s=x):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{p=n.stateNode,Ps(e,n),T=n.memoizedProps,O=ri(l,T),p.props=O,P=n.pendingProps,w=p.context,D=l.contextType,x=bi,typeof D=="object"&&D!==null&&(x=tt(D)),A=l.getDerivedStateFromProps,(D=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==P||w!==x)&&Wd(n,p,s,x),Nn=!1,w=n.memoizedState,p.state=w,Il(n,s,p,f),Ml();var H=n.memoizedState;T!==P||w!==H||Nn||e!==null&&e.dependencies!==null&&Mo(e.dependencies)?(typeof A=="function"&&(dr(n,l,A,s),H=n.memoizedState),(O=Nn||$d(n,l,O,s,w,H,x)||e!==null&&e.dependencies!==null&&Mo(e.dependencies))?(D||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(s,H,x),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(s,H,x)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===e.memoizedProps&&w===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&w===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=H),p.props=s,p.state=H,p.context=x,s=O):(typeof p.componentDidUpdate!="function"||T===e.memoizedProps&&w===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&w===e.memoizedState||(n.flags|=1024),s=!1)}return p=s,Ko(e,n),s=(n.flags&128)!==0,p||s?(p=n.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:p.render(),n.flags|=1,e!==null&&s?(n.child=ai(n,e.child,null,f),n.child=ai(n,null,l,f)):nt(e,n,l,f),n.memoizedState=p.state,e=n.child):e=an(e,n,f),e}function mf(e,n,l,s){return ei(),n.flags|=256,nt(e,n,l,s),n.child}var gr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yr(e){return{baseLanes:e,cachePool:nd()}}function vr(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=xt),e}function hf(e,n,l){var s=n.pendingProps,f=!1,p=(n.flags&128)!==0,T;if((T=p)||(T=e!==null&&e.memoizedState===null?!1:(Be.current&2)!==0),T&&(f=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,e===null){if(Se){if(f?Mn(n):In(),(e=Le)?(e=Ap(e,Lt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_n!==null?{id:Yt,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},l=Xc(e),l.return=n,n.child=l,et=n,Le=null)):e=null,e===null)throw Cn(n);return eu(e)?n.lanes=32:n.lanes=536870912,null}var A=s.children;return s=s.fallback,f?(In(),f=n.mode,A=Qo({mode:"hidden",children:A},f),s=jn(s,f,l,null),A.return=n,s.return=n,A.sibling=s,n.child=A,s=n.child,s.memoizedState=yr(l),s.childLanes=vr(e,T,l),n.memoizedState=gr,Gl(null,s)):(Mn(n),Sr(n,A))}var x=e.memoizedState;if(x!==null&&(A=x.dehydrated,A!==null)){if(p)n.flags&256?(Mn(n),n.flags&=-257,n=Tr(e,n,l)):n.memoizedState!==null?(In(),n.child=e.child,n.flags|=128,n=null):(In(),A=s.fallback,f=n.mode,s=Qo({mode:"visible",children:s.children},f),A=jn(A,f,l,null),A.flags|=2,s.return=n,A.return=n,s.sibling=A,n.child=s,ai(n,e.child,null,l),s=n.child,s.memoizedState=yr(l),s.childLanes=vr(e,T,l),n.memoizedState=gr,n=Gl(null,s));else if(Mn(n),eu(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var D=T.dgst;T=D,s=Error(a(419)),s.stack="",s.digest=T,Al({value:s,source:null,stack:null}),n=Tr(e,n,l)}else if(Je||wi(e,n,l,!1),T=(l&e.childLanes)!==0,Je||T){if(T=Ue,T!==null&&(s=ec(T,l),s!==0&&s!==x.retryLane))throw x.retryLane=s,Wn(e,s),gt(T,e,s),mr;jr(A)||la(),n=Tr(e,n,l)}else jr(A)?(n.flags|=192,n.child=e.child,n=null):(e=x.treeContext,Le=Ht(A.nextSibling),et=n,Se=!0,An=null,Lt=!1,e!==null&&Zc(n,e),n=Sr(n,s.children),n.flags|=4096);return n}return f?(In(),A=s.fallback,f=n.mode,x=e.child,D=x.sibling,s=jt(x,{mode:"hidden",children:s.children}),s.subtreeFlags=x.subtreeFlags&65011712,D!==null?A=jt(D,A):(A=jn(A,f,l,null),A.flags|=2),A.return=n,s.return=n,s.sibling=A,n.child=s,Gl(null,s),s=n.child,A=e.child.memoizedState,A===null?A=yr(l):(f=A.cachePool,f!==null?(x=ke._currentValue,f=f.parent!==x?{parent:x,pool:x}:f):f=nd(),A={baseLanes:A.baseLanes|l,cachePool:f}),s.memoizedState=A,s.childLanes=vr(e,T,l),n.memoizedState=gr,Gl(e.child,s)):(Mn(n),l=e.child,e=l.sibling,l=jt(l,{mode:"visible",children:s.children}),l.return=n,l.sibling=null,e!==null&&(T=n.deletions,T===null?(n.deletions=[e],n.flags|=16):T.push(e)),n.child=l,n.memoizedState=null,l)}function Sr(e,n){return n=Qo({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Qo(e,n){return e=Et(22,e,null,n),e.lanes=0,e}function Tr(e,n,l){return ai(n,e.child,null,l),e=Sr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function gf(e,n,l){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Gs(e.return,n,l)}function Er(e,n,l,s,f,p){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:f,treeForkCount:p}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=s,T.tail=l,T.tailMode=f,T.treeForkCount=p)}function yf(e,n,l){var s=n.pendingProps,f=s.revealOrder,p=s.tail;s=s.children;var T=Be.current,A=(T&2)!==0;if(A?(T=T&1|2,n.flags|=128):T&=1,K(Be,T),nt(e,n,s,l),s=Se?_l:0,!A&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gf(e,l,n);else if(e.tag===19)gf(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(l=n.child,f=null;l!==null;)e=l.alternate,e!==null&&qo(e)===null&&(f=l),l=l.sibling;l=f,l===null?(f=n.child,n.child=null):(f=l.sibling,l.sibling=null),Er(n,!1,f,l,p,s);break;case"backwards":case"unstable_legacy-backwards":for(l=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&qo(e)===null){n.child=f;break}e=f.sibling,f.sibling=l,l=f,f=e}Er(n,!0,l,null,p,s);break;case"together":Er(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function an(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),Un|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(wi(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,l=jt(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=jt(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function _r(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Mo(e)))}function l0(e,n,l){switch(n.tag){case 3:at(n,n.stateNode.containerInfo),xn(n,ke,e.memoizedState.cache),ei();break;case 27:case 5:sl(n);break;case 4:at(n,n.stateNode.containerInfo);break;case 10:xn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Xs(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(Mn(n),n.flags|=128,null):(l&n.child.childLanes)!==0?hf(e,n,l):(Mn(n),e=an(e,n,l),e!==null?e.sibling:null);Mn(n);break;case 19:var f=(e.flags&128)!==0;if(s=(l&n.childLanes)!==0,s||(wi(e,n,l,!1),s=(l&n.childLanes)!==0),f){if(s)return yf(e,n,l);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),K(Be,Be.current),s)break;return null;case 22:return n.lanes=0,uf(e,n,l,n.pendingProps);case 24:xn(n,ke,e.memoizedState.cache)}return an(e,n,l)}function vf(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)Je=!0;else{if(!_r(e,l)&&(n.flags&128)===0)return Je=!1,l0(e,n,l);Je=(e.flags&131072)!==0}else Je=!1,Se&&(n.flags&1048576)!==0&&Qc(n,_l,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=li(n.elementType),n.type=e,typeof e=="function")Rs(e)?(s=ri(e,s),n.tag=1,n=pf(null,n,e,s,l)):(n.tag=0,n=hr(null,n,e,s,l));else{if(e!=null){var f=e.$$typeof;if(f===$){n.tag=11,n=af(null,n,e,s,l);break e}else if(f===Y){n.tag=14,n=sf(null,n,e,s,l);break e}}throw n=xe(e)||e,Error(a(306,n,""))}}return n;case 0:return hr(e,n,n.type,n.pendingProps,l);case 1:return s=n.type,f=ri(s,n.pendingProps),pf(e,n,s,f,l);case 3:e:{if(at(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var p=n.memoizedState;f=p.element,Ps(e,n),Il(n,s,null,l);var T=n.memoizedState;if(s=T.cache,xn(n,ke,s),s!==p.cache&&Hs(n,[ke],l,!0),Ml(),s=T.element,p.isDehydrated)if(p={element:s,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){n=mf(e,n,s,l);break e}else if(s!==f){f=Dt(Error(a(424)),n),Al(f),n=mf(e,n,s,l);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Le=Ht(e.firstChild),et=n,Se=!0,An=null,Lt=!0,l=rd(n,null,s,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ei(),s===f){n=an(e,n,l);break e}nt(e,n,s,l)}n=n.child}return n;case 26:return Ko(e,n),e===null?(l=Mp(n.type,null,n.pendingProps,null))?n.memoizedState=l:Se||(l=n.type,e=n.pendingProps,s=da(me.current).createElement(l),s[je]=n,s[ct]=e,it(s,l,e),Ze(s),n.stateNode=s):n.memoizedState=Mp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return sl(n),e===null&&Se&&(s=n.stateNode=Np(n.type,n.pendingProps,me.current),et=n,Lt=!0,f=Le,Vn(n.type)?(tu=f,Le=Ht(s.firstChild)):Le=f),nt(e,n,n.pendingProps.children,l),Ko(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Se&&((f=s=Le)&&(s=L0(s,n.type,n.pendingProps,Lt),s!==null?(n.stateNode=s,et=n,Le=Ht(s.firstChild),Lt=!1,f=!0):f=!1),f||Cn(n)),sl(n),f=n.type,p=n.pendingProps,T=e!==null?e.memoizedProps:null,s=p.children,Zr(f,p)?s=null:T!==null&&Zr(f,T)&&(n.flags|=32),n.memoizedState!==null&&(f=Qs(e,n,Qy,null,null,l),Zl._currentValue=f),Ko(e,n),nt(e,n,s,l),n.child;case 6:return e===null&&Se&&((e=l=Le)&&(l=G0(l,n.pendingProps,Lt),l!==null?(n.stateNode=l,et=n,Le=null,e=!0):e=!1),e||Cn(n)),null;case 13:return hf(e,n,l);case 4:return at(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=ai(n,null,s,l):nt(e,n,s,l),n.child;case 11:return af(e,n,n.type,n.pendingProps,l);case 7:return nt(e,n,n.pendingProps,l),n.child;case 8:return nt(e,n,n.pendingProps.children,l),n.child;case 12:return nt(e,n,n.pendingProps.children,l),n.child;case 10:return s=n.pendingProps,xn(n,n.type,s.value),nt(e,n,s.children,l),n.child;case 9:return f=n.type._context,s=n.pendingProps.children,ni(n),f=tt(f),s=s(f),n.flags|=1,nt(e,n,s,l),n.child;case 14:return sf(e,n,n.type,n.pendingProps,l);case 15:return rf(e,n,n.type,n.pendingProps,l);case 19:return yf(e,n,l);case 31:return i0(e,n,l);case 22:return uf(e,n,l,n.pendingProps);case 24:return ni(n),s=tt(ke),e===null?(f=Os(),f===null&&(f=Ue,p=qs(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=l),f=p),n.memoizedState={parent:s,cache:f},Bs(n),xn(n,ke,f)):((e.lanes&l)!==0&&(Ps(e,n),Il(n,null,null,l),Ml()),f=e.memoizedState,p=n.memoizedState,f.parent!==s?(f={parent:s,cache:s},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),xn(n,ke,s)):(s=p.cache,xn(n,ke,s),s!==f.cache&&Hs(n,[ke],l,!0))),nt(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function sn(e){e.flags|=4}function Ar(e,n,l,s,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Jf())e.flags|=8192;else throw oi=Uo,zs}else e.flags&=-16777217}function Sf(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Lp(n))if(Jf())e.flags|=8192;else throw oi=Uo,zs}function Zo(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?$u():536870912,e.lanes|=n,Fi|=n)}function Hl(e,n){if(!Se)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ge(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(n)for(var f=e.child;f!==null;)l|=f.lanes|f.childLanes,s|=f.subtreeFlags&65011712,s|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)l|=f.lanes|f.childLanes,s|=f.subtreeFlags,s|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=s,e.childLanes=l,n}function o0(e,n,l){var s=n.pendingProps;switch(Ds(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(n),null;case 1:return Ge(n),null;case 3:return l=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),nn(ke),ze(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Di(n)?sn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Us())),Ge(n),null;case 26:var f=n.type,p=n.memoizedState;return e===null?(sn(n),p!==null?(Ge(n),Sf(n,p)):(Ge(n),Ar(n,f,null,s,l))):p?p!==e.memoizedState?(sn(n),Ge(n),Sf(n,p)):(Ge(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&sn(n),Ge(n),Ar(n,f,e,s,l)),null;case 27:if(ao(n),l=me.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&sn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Ge(n),null}e=j.current,Di(n)?$c(n):(e=Np(f,s,l),n.stateNode=e,sn(n))}return Ge(n),null;case 5:if(ao(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&sn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Ge(n),null}if(p=j.current,Di(n))$c(n);else{var T=da(me.current);switch(p){case 1:p=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=T.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof s.is=="string"?T.createElement("select",{is:s.is}):T.createElement("select"),s.multiple?p.multiple=!0:s.size&&(p.size=s.size);break;default:p=typeof s.is=="string"?T.createElement(f,{is:s.is}):T.createElement(f)}}p[je]=n,p[ct]=s;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)p.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=p;e:switch(it(p,f,s),f){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&sn(n)}}return Ge(n),Ar(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,l),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&sn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=me.current,Di(n)){if(e=n.stateNode,l=n.memoizedProps,s=null,f=et,f!==null)switch(f.tag){case 27:case 5:s=f.memoizedProps}e[je]=n,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||hp(e.nodeValue,l)),e||Cn(n,!0)}else e=da(e).createTextNode(s),e[je]=n,n.stateNode=e}return Ge(n),null;case 31:if(l=n.memoizedState,e===null||e.memoizedState!==null){if(s=Di(n),l!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[je]=n}else ei(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ge(n),e=!1}else l=Us(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return n.flags&256?(At(n),n):(At(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Ge(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Di(n),s!==null&&s.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[je]=n}else ei(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ge(n),f=!1}else f=Us(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(At(n),n):(At(n),null)}return At(n),(n.flags&128)!==0?(n.lanes=l,n):(l=s!==null,e=e!==null&&e.memoizedState!==null,l&&(s=n.child,f=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(f=s.alternate.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==f&&(s.flags|=2048)),l!==e&&l&&(n.child.flags|=8192),Zo(n,n.updateQueue),Ge(n),null);case 4:return ze(),e===null&&Jr(n.stateNode.containerInfo),Ge(n),null;case 10:return nn(n.type),Ge(n),null;case 19:if(k(Be),s=n.memoizedState,s===null)return Ge(n),null;if(f=(n.flags&128)!==0,p=s.rendering,p===null)if(f)Hl(s,!1);else{if(Oe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(p=qo(e),p!==null){for(n.flags|=128,Hl(s,!1),e=p.updateQueue,n.updateQueue=e,Zo(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)Yc(l,e),l=l.sibling;return K(Be,Be.current&1|2),Se&&en(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&yt()>ta&&(n.flags|=128,f=!0,Hl(s,!1),n.lanes=4194304)}else{if(!f)if(e=qo(p),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,Zo(n,e),Hl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!p.alternate&&!Se)return Ge(n),null}else 2*yt()-s.renderingStartTime>ta&&l!==536870912&&(n.flags|=128,f=!0,Hl(s,!1),n.lanes=4194304);s.isBackwards?(p.sibling=n.child,n.child=p):(e=s.last,e!==null?e.sibling=p:n.child=p,s.last=p)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=yt(),e.sibling=null,l=Be.current,K(Be,f?l&1|2:l&1),Se&&en(n,s.treeForkCount),e):(Ge(n),null);case 22:case 23:return At(n),Ys(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(l&536870912)!==0&&(n.flags&128)===0&&(Ge(n),n.subtreeFlags&6&&(n.flags|=8192)):Ge(n),l=n.updateQueue,l!==null&&Zo(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==l&&(n.flags|=2048),e!==null&&k(ii),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),nn(ke),Ge(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function a0(e,n){switch(Ds(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return nn(ke),ze(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ao(n),null;case 31:if(n.memoizedState!==null){if(At(n),n.alternate===null)throw Error(a(340));ei()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(At(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ei()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return k(Be),null;case 4:return ze(),null;case 10:return nn(n.type),null;case 22:case 23:return At(n),Ys(),e!==null&&k(ii),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return nn(ke),null;case 25:return null;default:return null}}function Tf(e,n){switch(Ds(n),n.tag){case 3:nn(ke),ze();break;case 26:case 27:case 5:ao(n);break;case 4:ze();break;case 31:n.memoizedState!==null&&At(n);break;case 13:At(n);break;case 19:k(Be);break;case 10:nn(n.type);break;case 22:case 23:At(n),Ys(),e!==null&&k(ii);break;case 24:nn(ke)}}function ql(e,n){try{var l=n.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var f=s.next;l=f;do{if((l.tag&e)===e){s=void 0;var p=l.create,T=l.inst;s=p(),T.destroy=s}l=l.next}while(l!==f)}}catch(A){Re(n,n.return,A)}}function Dn(e,n,l){try{var s=n.updateQueue,f=s!==null?s.lastEffect:null;if(f!==null){var p=f.next;s=p;do{if((s.tag&e)===e){var T=s.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,f=n;var x=l,D=A;try{D()}catch(O){Re(f,x,O)}}}s=s.next}while(s!==p)}}catch(O){Re(n,n.return,O)}}function Ef(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{cd(n,l)}catch(s){Re(e,e.return,s)}}}function _f(e,n,l){l.props=ri(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){Re(e,n,s)}}function Vl(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(f){Re(e,n,f)}}function Kt(e,n){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(f){Re(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){Re(e,n,f)}else l.current=null}function Af(e){var n=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(f){Re(e,e.return,f)}}function Cr(e,n,l){try{var s=e.stateNode;b0(s,e.type,l,n),s[ct]=n}catch(f){Re(e,e.return,f)}}function Cf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vn(e.type)||e.tag===4}function xr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nr(e,n,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=$t));else if(s!==4&&(s===27&&Vn(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(Nr(e,n,l),e=e.sibling;e!==null;)Nr(e,n,l),e=e.sibling}function $o(e,n,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(s!==4&&(s===27&&Vn(e.type)&&(l=e.stateNode),e=e.child,e!==null))for($o(e,n,l),e=e.sibling;e!==null;)$o(e,n,l),e=e.sibling}function xf(e){var n=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);it(n,s,l),n[je]=e,n[ct]=l}catch(p){Re(e,e.return,p)}}var rn=!1,Ye=!1,Rr=!1,Nf=typeof WeakSet=="function"?WeakSet:Set,$e=null;function s0(e,n){if(e=e.containerInfo,Kr=va,e=qc(e),Ts(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var f=s.anchorOffset,p=s.focusNode;s=s.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var T=0,A=-1,x=-1,D=0,O=0,P=e,w=null;t:for(;;){for(var H;P!==l||f!==0&&P.nodeType!==3||(A=T+f),P!==p||s!==0&&P.nodeType!==3||(x=T+s),P.nodeType===3&&(T+=P.nodeValue.length),(H=P.firstChild)!==null;)w=P,P=H;for(;;){if(P===e)break t;if(w===l&&++D===f&&(A=T),w===p&&++O===s&&(x=T),(H=P.nextSibling)!==null)break;P=w,w=P.parentNode}P=H}l=A===-1||x===-1?null:{start:A,end:x}}else l=null}l=l||{start:0,end:0}}else l=null;for(Qr={focusedElem:e,selectionRange:l},va=!1,$e=n;$e!==null;)if(n=$e,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,$e=e;else for(;$e!==null;){switch(n=$e,p=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)f=e[l],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,l=n,f=p.memoizedProps,p=p.memoizedState,s=l.stateNode;try{var W=ri(l.type,f);e=s.getSnapshotBeforeUpdate(W,p),s.__reactInternalSnapshotBeforeUpdate=e}catch(le){Re(l,l.return,le)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)Wr(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,$e=e;break}$e=n.return}}function Rf(e,n,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:cn(e,l),s&4&&ql(5,l);break;case 1:if(cn(e,l),s&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(T){Re(l,l.return,T)}else{var f=ri(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Re(l,l.return,T)}}s&64&&Ef(l),s&512&&Vl(l,l.return);break;case 3:if(cn(e,l),s&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{cd(e,n)}catch(T){Re(l,l.return,T)}}break;case 27:n===null&&s&4&&xf(l);case 26:case 5:cn(e,l),n===null&&s&4&&Af(l),s&512&&Vl(l,l.return);break;case 12:cn(e,l);break;case 31:cn(e,l),s&4&&If(e,l);break;case 13:cn(e,l),s&4&&Df(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=g0.bind(null,l),H0(e,l))));break;case 22:if(s=l.memoizedState!==null||rn,!s){n=n!==null&&n.memoizedState!==null||Ye,f=rn;var p=Ye;rn=s,(Ye=n)&&!p?dn(e,l,(l.subtreeFlags&8772)!==0):cn(e,l),rn=f,Ye=p}break;case 30:break;default:cn(e,l)}}function bf(e){var n=e.alternate;n!==null&&(e.alternate=null,bf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&is(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,ft=!1;function un(e,n,l){for(l=l.child;l!==null;)Mf(e,n,l),l=l.sibling}function Mf(e,n,l){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(rl,l)}catch{}switch(l.tag){case 26:Ye||Kt(l,n),un(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ye||Kt(l,n);var s=He,f=ft;Vn(l.type)&&(He=l.stateNode,ft=!1),un(e,n,l),Xl(l.stateNode),He=s,ft=f;break;case 5:Ye||Kt(l,n);case 6:if(s=He,f=ft,He=null,un(e,n,l),He=s,ft=f,He!==null)if(ft)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(l.stateNode)}catch(p){Re(l,n,p)}else try{He.removeChild(l.stateNode)}catch(p){Re(l,n,p)}break;case 18:He!==null&&(ft?(e=He,Ep(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Wi(e)):Ep(He,l.stateNode));break;case 4:s=He,f=ft,He=l.stateNode.containerInfo,ft=!0,un(e,n,l),He=s,ft=f;break;case 0:case 11:case 14:case 15:Dn(2,l,n),Ye||Dn(4,l,n),un(e,n,l);break;case 1:Ye||(Kt(l,n),s=l.stateNode,typeof s.componentWillUnmount=="function"&&_f(l,n,s)),un(e,n,l);break;case 21:un(e,n,l);break;case 22:Ye=(s=Ye)||l.memoizedState!==null,un(e,n,l),Ye=s;break;default:un(e,n,l)}}function If(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Wi(e)}catch(l){Re(n,n.return,l)}}}function Df(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Wi(e)}catch(l){Re(n,n.return,l)}}function r0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Nf),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Nf),n;default:throw Error(a(435,e.tag))}}function Wo(e,n){var l=r0(e);n.forEach(function(s){if(!l.has(s)){l.add(s);var f=y0.bind(null,e,s);s.then(f,f)}})}function pt(e,n){var l=n.deletions;if(l!==null)for(var s=0;s<l.length;s++){var f=l[s],p=e,T=n,A=T;e:for(;A!==null;){switch(A.tag){case 27:if(Vn(A.type)){He=A.stateNode,ft=!1;break e}break;case 5:He=A.stateNode,ft=!1;break e;case 3:case 4:He=A.stateNode.containerInfo,ft=!0;break e}A=A.return}if(He===null)throw Error(a(160));Mf(p,T,f),He=null,ft=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)wf(n,e),n=n.sibling}var Bt=null;function wf(e,n){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pt(n,e),mt(e),s&4&&(Dn(3,e,e.return),ql(3,e),Dn(5,e,e.return));break;case 1:pt(n,e),mt(e),s&512&&(Ye||l===null||Kt(l,l.return)),s&64&&rn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var f=Bt;if(pt(n,e),mt(e),s&512&&(Ye||l===null||Kt(l,l.return)),s&4){var p=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,f=f.ownerDocument||f;t:switch(s){case"title":p=f.getElementsByTagName("title")[0],(!p||p[dl]||p[je]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(s),f.head.insertBefore(p,f.querySelector("head > title"))),it(p,s,l),p[je]=e,Ze(p),s=p;break e;case"link":var T=wp("link","href",f).get(s+(l.href||""));if(T){for(var A=0;A<T.length;A++)if(p=T[A],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(A,1);break t}}p=f.createElement(s),it(p,s,l),f.head.appendChild(p);break;case"meta":if(T=wp("meta","content",f).get(s+(l.content||""))){for(A=0;A<T.length;A++)if(p=T[A],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(A,1);break t}}p=f.createElement(s),it(p,s,l),f.head.appendChild(p);break;default:throw Error(a(468,s))}p[je]=e,Ze(p),s=p}e.stateNode=s}else Up(f,e.type,e.stateNode);else e.stateNode=Dp(f,s,e.memoizedProps);else p!==s?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,s===null?Up(f,e.type,e.stateNode):Dp(f,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Cr(e,e.memoizedProps,l.memoizedProps)}break;case 27:pt(n,e),mt(e),s&512&&(Ye||l===null||Kt(l,l.return)),l!==null&&s&4&&Cr(e,e.memoizedProps,l.memoizedProps);break;case 5:if(pt(n,e),mt(e),s&512&&(Ye||l===null||Kt(l,l.return)),e.flags&32){f=e.stateNode;try{Ei(f,"")}catch(W){Re(e,e.return,W)}}s&4&&e.stateNode!=null&&(f=e.memoizedProps,Cr(e,f,l!==null?l.memoizedProps:f)),s&1024&&(Rr=!0);break;case 6:if(pt(n,e),mt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch(W){Re(e,e.return,W)}}break;case 3:if(ma=null,f=Bt,Bt=fa(n.containerInfo),pt(n,e),Bt=f,mt(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{Wi(n.containerInfo)}catch(W){Re(e,e.return,W)}Rr&&(Rr=!1,Uf(e));break;case 4:s=Bt,Bt=fa(e.stateNode.containerInfo),pt(n,e),mt(e),Bt=s;break;case 12:pt(n,e),mt(e);break;case 31:pt(n,e),mt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Wo(e,s)));break;case 13:pt(n,e),mt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ea=yt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Wo(e,s)));break;case 22:f=e.memoizedState!==null;var x=l!==null&&l.memoizedState!==null,D=rn,O=Ye;if(rn=D||f,Ye=O||x,pt(n,e),Ye=O,rn=D,mt(e),s&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(l===null||x||rn||Ye||ui(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){x=l=n;try{if(p=x.stateNode,f)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=x.stateNode;var P=x.memoizedProps.style,w=P!=null&&P.hasOwnProperty("display")?P.display:null;A.style.display=w==null||typeof w=="boolean"?"":(""+w).trim()}}catch(W){Re(x,x.return,W)}}}else if(n.tag===6){if(l===null){x=n;try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(W){Re(x,x.return,W)}}}else if(n.tag===18){if(l===null){x=n;try{var H=x.stateNode;f?_p(H,!0):_p(x.stateNode,!1)}catch(W){Re(x,x.return,W)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,Wo(e,l))));break;case 19:pt(n,e),mt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Wo(e,s)));break;case 30:break;case 21:break;default:pt(n,e),mt(e)}}function mt(e){var n=e.flags;if(n&2){try{for(var l,s=e.return;s!==null;){if(Cf(s)){l=s;break}s=s.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var f=l.stateNode,p=xr(e);$o(e,p,f);break;case 5:var T=l.stateNode;l.flags&32&&(Ei(T,""),l.flags&=-33);var A=xr(e);$o(e,A,T);break;case 3:case 4:var x=l.stateNode.containerInfo,D=xr(e);Nr(e,D,x);break;default:throw Error(a(161))}}catch(O){Re(e,e.return,O)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Uf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Uf(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function cn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Rf(e,n.alternate,n),n=n.sibling}function ui(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Dn(4,n,n.return),ui(n);break;case 1:Kt(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&_f(n,n.return,l),ui(n);break;case 27:Xl(n.stateNode);case 26:case 5:Kt(n,n.return),ui(n);break;case 22:n.memoizedState===null&&ui(n);break;case 30:ui(n);break;default:ui(n)}e=e.sibling}}function dn(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,f=e,p=n,T=p.flags;switch(p.tag){case 0:case 11:case 15:dn(f,p,l),ql(4,p);break;case 1:if(dn(f,p,l),s=p,f=s.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(D){Re(s,s.return,D)}if(s=p,f=s.updateQueue,f!==null){var A=s.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)ud(x[f],A)}catch(D){Re(s,s.return,D)}}l&&T&64&&Ef(p),Vl(p,p.return);break;case 27:xf(p);case 26:case 5:dn(f,p,l),l&&s===null&&T&4&&Af(p),Vl(p,p.return);break;case 12:dn(f,p,l);break;case 31:dn(f,p,l),l&&T&4&&If(f,p);break;case 13:dn(f,p,l),l&&T&4&&Df(f,p);break;case 22:p.memoizedState===null&&dn(f,p,l),Vl(p,p.return);break;case 30:break;default:dn(f,p,l)}n=n.sibling}}function br(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Cl(l))}function Mr(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Cl(e))}function Pt(e,n,l,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Lf(e,n,l,s),n=n.sibling}function Lf(e,n,l,s){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Pt(e,n,l,s),f&2048&&ql(9,n);break;case 1:Pt(e,n,l,s);break;case 3:Pt(e,n,l,s),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Cl(e)));break;case 12:if(f&2048){Pt(e,n,l,s),e=n.stateNode;try{var p=n.memoizedProps,T=p.id,A=p.onPostCommit;typeof A=="function"&&A(T,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){Re(n,n.return,x)}}else Pt(e,n,l,s);break;case 31:Pt(e,n,l,s);break;case 13:Pt(e,n,l,s);break;case 23:break;case 22:p=n.stateNode,T=n.alternate,n.memoizedState!==null?p._visibility&2?Pt(e,n,l,s):Ol(e,n):p._visibility&2?Pt(e,n,l,s):(p._visibility|=2,Bi(e,n,l,s,(n.subtreeFlags&10256)!==0||!1)),f&2048&&br(T,n);break;case 24:Pt(e,n,l,s),f&2048&&Mr(n.alternate,n);break;default:Pt(e,n,l,s)}}function Bi(e,n,l,s,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var p=e,T=n,A=l,x=s,D=T.flags;switch(T.tag){case 0:case 11:case 15:Bi(p,T,A,x,f),ql(8,T);break;case 23:break;case 22:var O=T.stateNode;T.memoizedState!==null?O._visibility&2?Bi(p,T,A,x,f):Ol(p,T):(O._visibility|=2,Bi(p,T,A,x,f)),f&&D&2048&&br(T.alternate,T);break;case 24:Bi(p,T,A,x,f),f&&D&2048&&Mr(T.alternate,T);break;default:Bi(p,T,A,x,f)}n=n.sibling}}function Ol(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,s=n,f=s.flags;switch(s.tag){case 22:Ol(l,s),f&2048&&br(s.alternate,s);break;case 24:Ol(l,s),f&2048&&Mr(s.alternate,s);break;default:Ol(l,s)}n=n.sibling}}var zl=8192;function Pi(e,n,l){if(e.subtreeFlags&zl)for(e=e.child;e!==null;)Gf(e,n,l),e=e.sibling}function Gf(e,n,l){switch(e.tag){case 26:Pi(e,n,l),e.flags&zl&&e.memoizedState!==null&&K0(l,Bt,e.memoizedState,e.memoizedProps);break;case 5:Pi(e,n,l);break;case 3:case 4:var s=Bt;Bt=fa(e.stateNode.containerInfo),Pi(e,n,l),Bt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=zl,zl=16777216,Pi(e,n,l),zl=s):Pi(e,n,l));break;default:Pi(e,n,l)}}function Hf(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Bl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];$e=s,Vf(s,e)}Hf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)qf(e),e=e.sibling}function qf(e){switch(e.tag){case 0:case 11:case 15:Bl(e),e.flags&2048&&Dn(9,e,e.return);break;case 3:Bl(e);break;case 12:Bl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,jo(e)):Bl(e);break;default:Bl(e)}}function jo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];$e=s,Vf(s,e)}Hf(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Dn(8,n,n.return),jo(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,jo(n));break;default:jo(n)}e=e.sibling}}function Vf(e,n){for(;$e!==null;){var l=$e;switch(l.tag){case 0:case 11:case 15:Dn(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Cl(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,$e=s;else e:for(l=e;$e!==null;){s=$e;var f=s.sibling,p=s.return;if(bf(s),s===l){$e=null;break e}if(f!==null){f.return=p,$e=f;break e}$e=p}}}var u0={getCacheForType:function(e){var n=tt(ke),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l},cacheSignal:function(){return tt(ke).controller.signal}},c0=typeof WeakMap=="function"?WeakMap:Map,Ae=0,Ue=null,he=null,ye=0,Ne=0,Ct=null,wn=!1,ki=!1,Ir=!1,fn=0,Oe=0,Un=0,ci=0,Dr=0,xt=0,Fi=0,Pl=null,ht=null,wr=!1,ea=0,Of=0,ta=1/0,na=null,Ln=null,Qe=0,Gn=null,Ji=null,pn=0,Ur=0,Lr=null,zf=null,kl=0,Gr=null;function Nt(){return(Ae&2)!==0&&ye!==0?ye&-ye:q.T!==null?Br():tc()}function Bf(){if(xt===0)if((ye&536870912)===0||Se){var e=uo;uo<<=1,(uo&3932160)===0&&(uo=262144),xt=e}else xt=536870912;return e=_t.current,e!==null&&(e.flags|=32),xt}function gt(e,n,l){(e===Ue&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)&&(Yi(e,0),Hn(e,ye,xt,!1)),cl(e,l),((Ae&2)===0||e!==Ue)&&(e===Ue&&((Ae&2)===0&&(ci|=l),Oe===4&&Hn(e,ye,xt,!1)),Qt(e))}function Pf(e,n,l){if((Ae&6)!==0)throw Error(a(327));var s=!l&&(n&127)===0&&(n&e.expiredLanes)===0||ul(e,n),f=s?p0(e,n):qr(e,n,!0),p=s;do{if(f===0){ki&&!s&&Hn(e,n,0,!1);break}else{if(l=e.current.alternate,p&&!d0(l)){f=qr(e,n,!1),p=!1;continue}if(f===2){if(p=n,e.errorRecoveryDisabledLanes&p)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var A=e;f=Pl;var x=A.current.memoizedState.isDehydrated;if(x&&(Yi(A,T).flags|=256),T=qr(A,T,!1),T!==2){if(Ir&&!x){A.errorRecoveryDisabledLanes|=p,ci|=p,f=4;break e}p=ht,ht=f,p!==null&&(ht===null?ht=p:ht.push.apply(ht,p))}f=T}if(p=!1,f!==2)continue}}if(f===1){Yi(e,0),Hn(e,n,0,!0);break}e:{switch(s=e,p=f,p){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Hn(s,n,xt,!wn);break e;case 2:ht=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(f=ea+300-yt(),10<f)){if(Hn(s,n,xt,!wn),fo(s,0,!0)!==0)break e;pn=n,s.timeoutHandle=Sp(kf.bind(null,s,l,ht,na,wr,n,xt,ci,Fi,wn,p,"Throttled",-0,0),f);break e}kf(s,l,ht,na,wr,n,xt,ci,Fi,wn,p,null,-0,0)}}break}while(!0);Qt(e)}function kf(e,n,l,s,f,p,T,A,x,D,O,P,w,H){if(e.timeoutHandle=-1,P=n.subtreeFlags,P&8192||(P&16785408)===16785408){P={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$t},Gf(n,p,P);var W=(p&62914560)===p?ea-yt():(p&4194048)===p?Of-yt():0;if(W=Q0(P,W),W!==null){pn=p,e.cancelPendingCommit=W($f.bind(null,e,n,p,l,s,f,T,A,x,O,P,null,w,H)),Hn(e,p,T,!D);return}}$f(e,n,p,l,s,f,T,A,x)}function d0(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var f=l[s],p=f.getSnapshot;f=f.value;try{if(!Tt(p(),f))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Hn(e,n,l,s){n&=~Dr,n&=~ci,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var f=n;0<f;){var p=31-St(f),T=1<<p;s[p]=-1,f&=~T}l!==0&&Wu(e,l,n)}function ia(){return(Ae&6)===0?(Fl(0),!1):!0}function Hr(){if(he!==null){if(Ne===0)var e=he.return;else e=he,tn=ti=null,Ws(e),Hi=null,Nl=0,e=he;for(;e!==null;)Tf(e.alternate,e),e=e.return;he=null}}function Yi(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,D0(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),pn=0,Hr(),Ue=e,he=l=jt(e.current,null),ye=n,Ne=0,Ct=null,wn=!1,ki=ul(e,n),Ir=!1,Fi=xt=Dr=ci=Un=Oe=0,ht=Pl=null,wr=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var f=31-St(s),p=1<<f;n|=e[f],s&=~p}return fn=n,Co(),l}function Ff(e,n){ue=null,q.H=Ll,n===Gi||n===wo?(n=od(),Ne=3):n===zs?(n=od(),Ne=4):Ne=n===mr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ct=n,he===null&&(Oe=1,Yo(e,Dt(n,e.current)))}function Jf(){var e=_t.current;return e===null?!0:(ye&4194048)===ye?Gt===null:(ye&62914560)===ye||(ye&536870912)!==0?e===Gt:!1}function Yf(){var e=q.H;return q.H=Ll,e===null?Ll:e}function Xf(){var e=q.A;return q.A=u0,e}function la(){Oe=4,wn||(ye&4194048)!==ye&&_t.current!==null||(ki=!0),(Un&134217727)===0&&(ci&134217727)===0||Ue===null||Hn(Ue,ye,xt,!1)}function qr(e,n,l){var s=Ae;Ae|=2;var f=Yf(),p=Xf();(Ue!==e||ye!==n)&&(na=null,Yi(e,n)),n=!1;var T=Oe;e:do try{if(Ne!==0&&he!==null){var A=he,x=Ct;switch(Ne){case 8:Hr(),T=6;break e;case 3:case 2:case 9:case 6:_t.current===null&&(n=!0);var D=Ne;if(Ne=0,Ct=null,Xi(e,A,x,D),l&&ki){T=0;break e}break;default:D=Ne,Ne=0,Ct=null,Xi(e,A,x,D)}}f0(),T=Oe;break}catch(O){Ff(e,O)}while(!0);return n&&e.shellSuspendCounter++,tn=ti=null,Ae=s,q.H=f,q.A=p,he===null&&(Ue=null,ye=0,Co()),T}function f0(){for(;he!==null;)Kf(he)}function p0(e,n){var l=Ae;Ae|=2;var s=Yf(),f=Xf();Ue!==e||ye!==n?(na=null,ta=yt()+500,Yi(e,n)):ki=ul(e,n);e:do try{if(Ne!==0&&he!==null){n=he;var p=Ct;t:switch(Ne){case 1:Ne=0,Ct=null,Xi(e,n,p,1);break;case 2:case 9:if(id(p)){Ne=0,Ct=null,Qf(n);break}n=function(){Ne!==2&&Ne!==9||Ue!==e||(Ne=7),Qt(e)},p.then(n,n);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:id(p)?(Ne=0,Ct=null,Qf(n)):(Ne=0,Ct=null,Xi(e,n,p,7));break;case 5:var T=null;switch(he.tag){case 26:T=he.memoizedState;case 5:case 27:var A=he;if(T?Lp(T):A.stateNode.complete){Ne=0,Ct=null;var x=A.sibling;if(x!==null)he=x;else{var D=A.return;D!==null?(he=D,oa(D)):he=null}break t}}Ne=0,Ct=null,Xi(e,n,p,5);break;case 6:Ne=0,Ct=null,Xi(e,n,p,6);break;case 8:Hr(),Oe=6;break e;default:throw Error(a(462))}}m0();break}catch(O){Ff(e,O)}while(!0);return tn=ti=null,q.H=s,q.A=f,Ae=l,he!==null?0:(Ue=null,ye=0,Co(),Oe)}function m0(){for(;he!==null&&!qg();)Kf(he)}function Kf(e){var n=vf(e.alternate,e,fn);e.memoizedProps=e.pendingProps,n===null?oa(e):he=n}function Qf(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=ff(l,n,n.pendingProps,n.type,void 0,ye);break;case 11:n=ff(l,n,n.pendingProps,n.type.render,n.ref,ye);break;case 5:Ws(n);default:Tf(l,n),n=he=Yc(n,fn),n=vf(l,n,fn)}e.memoizedProps=e.pendingProps,n===null?oa(e):he=n}function Xi(e,n,l,s){tn=ti=null,Ws(n),Hi=null,Nl=0;var f=n.return;try{if(n0(e,f,n,l,ye)){Oe=1,Yo(e,Dt(l,e.current)),he=null;return}}catch(p){if(f!==null)throw he=f,p;Oe=1,Yo(e,Dt(l,e.current)),he=null;return}n.flags&32768?(Se||s===1?e=!0:ki||(ye&536870912)!==0?e=!1:(wn=e=!0,(s===2||s===9||s===3||s===6)&&(s=_t.current,s!==null&&s.tag===13&&(s.flags|=16384))),Zf(n,e)):oa(n)}function oa(e){var n=e;do{if((n.flags&32768)!==0){Zf(n,wn);return}e=n.return;var l=o0(n.alternate,n,fn);if(l!==null){he=l;return}if(n=n.sibling,n!==null){he=n;return}he=n=e}while(n!==null);Oe===0&&(Oe=5)}function Zf(e,n){do{var l=a0(e.alternate,e);if(l!==null){l.flags&=32767,he=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){he=e;return}he=e=l}while(e!==null);Oe=6,he=null}function $f(e,n,l,s,f,p,T,A,x){e.cancelPendingCommit=null;do aa();while(Qe!==0);if((Ae&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(p=n.lanes|n.childLanes,p|=xs,Xg(e,l,p,T,A,x),e===Ue&&(he=Ue=null,ye=0),Ji=n,Gn=e,pn=l,Ur=p,Lr=f,zf=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,v0(so,function(){return np(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=q.T,q.T=null,f=J.p,J.p=2,T=Ae,Ae|=4;try{s0(e,n,l)}finally{Ae=T,J.p=f,q.T=s}}Qe=1,Wf(),jf(),ep()}}function Wf(){if(Qe===1){Qe=0;var e=Gn,n=Ji,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=q.T,q.T=null;var s=J.p;J.p=2;var f=Ae;Ae|=4;try{wf(n,e);var p=Qr,T=qc(e.containerInfo),A=p.focusedElem,x=p.selectionRange;if(T!==A&&A&&A.ownerDocument&&Hc(A.ownerDocument.documentElement,A)){if(x!==null&&Ts(A)){var D=x.start,O=x.end;if(O===void 0&&(O=D),"selectionStart"in A)A.selectionStart=D,A.selectionEnd=Math.min(O,A.value.length);else{var P=A.ownerDocument||document,w=P&&P.defaultView||window;if(w.getSelection){var H=w.getSelection(),W=A.textContent.length,le=Math.min(x.start,W),De=x.end===void 0?le:Math.min(x.end,W);!H.extend&&le>De&&(T=De,De=le,le=T);var b=Gc(A,le),N=Gc(A,De);if(b&&N&&(H.rangeCount!==1||H.anchorNode!==b.node||H.anchorOffset!==b.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var I=P.createRange();I.setStart(b.node,b.offset),H.removeAllRanges(),le>De?(H.addRange(I),H.extend(N.node,N.offset)):(I.setEnd(N.node,N.offset),H.addRange(I))}}}}for(P=[],H=A;H=H.parentNode;)H.nodeType===1&&P.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<P.length;A++){var B=P[A];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}va=!!Kr,Qr=Kr=null}finally{Ae=f,J.p=s,q.T=l}}e.current=n,Qe=2}}function jf(){if(Qe===2){Qe=0;var e=Gn,n=Ji,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=q.T,q.T=null;var s=J.p;J.p=2;var f=Ae;Ae|=4;try{Rf(e,n.alternate,n)}finally{Ae=f,J.p=s,q.T=l}}Qe=3}}function ep(){if(Qe===4||Qe===3){Qe=0,Vg();var e=Gn,n=Ji,l=pn,s=zf;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Qe=5:(Qe=0,Ji=Gn=null,tp(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Ln=null),ts(l),n=n.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(rl,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=q.T,f=J.p,J.p=2,q.T=null;try{for(var p=e.onRecoverableError,T=0;T<s.length;T++){var A=s[T];p(A.value,{componentStack:A.stack})}}finally{q.T=n,J.p=f}}(pn&3)!==0&&aa(),Qt(e),f=e.pendingLanes,(l&261930)!==0&&(f&42)!==0?e===Gr?kl++:(kl=0,Gr=e):kl=0,Fl(0)}}function tp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Cl(n)))}function aa(){return Wf(),jf(),ep(),np()}function np(){if(Qe!==5)return!1;var e=Gn,n=Ur;Ur=0;var l=ts(pn),s=q.T,f=J.p;try{J.p=32>l?32:l,q.T=null,l=Lr,Lr=null;var p=Gn,T=pn;if(Qe=0,Ji=Gn=null,pn=0,(Ae&6)!==0)throw Error(a(331));var A=Ae;if(Ae|=4,qf(p.current),Lf(p,p.current,T,l),Ae=A,Fl(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(rl,p)}catch{}return!0}finally{J.p=f,q.T=s,tp(e,n)}}function ip(e,n,l){n=Dt(l,n),n=pr(e.stateNode,n,2),e=bn(e,n,2),e!==null&&(cl(e,2),Qt(e))}function Re(e,n,l){if(e.tag===3)ip(e,e,l);else for(;n!==null;){if(n.tag===3){ip(n,e,l);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ln===null||!Ln.has(s))){e=Dt(l,e),l=lf(2),s=bn(n,l,2),s!==null&&(of(l,s,n,e),cl(s,2),Qt(s));break}}n=n.return}}function Vr(e,n,l){var s=e.pingCache;if(s===null){s=e.pingCache=new c0;var f=new Set;s.set(n,f)}else f=s.get(n),f===void 0&&(f=new Set,s.set(n,f));f.has(l)||(Ir=!0,f.add(l),e=h0.bind(null,e,n,l),n.then(e,e))}function h0(e,n,l){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ue===e&&(ye&l)===l&&(Oe===4||Oe===3&&(ye&62914560)===ye&&300>yt()-ea?(Ae&2)===0&&Yi(e,0):Dr|=l,Fi===ye&&(Fi=0)),Qt(e)}function lp(e,n){n===0&&(n=$u()),e=Wn(e,n),e!==null&&(cl(e,n),Qt(e))}function g0(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),lp(e,l)}function y0(e,n){var l=0;switch(e.tag){case 31:case 13:var s=e.stateNode,f=e.memoizedState;f!==null&&(l=f.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),lp(e,l)}function v0(e,n){return $a(e,n)}var sa=null,Ki=null,Or=!1,ra=!1,zr=!1,qn=0;function Qt(e){e!==Ki&&e.next===null&&(Ki===null?sa=Ki=e:Ki=Ki.next=e),ra=!0,Or||(Or=!0,T0())}function Fl(e,n){if(!zr&&ra){zr=!0;do for(var l=!1,s=sa;s!==null;){if(e!==0){var f=s.pendingLanes;if(f===0)var p=0;else{var T=s.suspendedLanes,A=s.pingedLanes;p=(1<<31-St(42|e)+1)-1,p&=f&~(T&~A),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,rp(s,p))}else p=ye,p=fo(s,s===Ue?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(p&3)===0||ul(s,p)||(l=!0,rp(s,p));s=s.next}while(l);zr=!1}}function S0(){op()}function op(){ra=Or=!1;var e=0;qn!==0&&I0()&&(e=qn);for(var n=yt(),l=null,s=sa;s!==null;){var f=s.next,p=ap(s,n);p===0?(s.next=null,l===null?sa=f:l.next=f,f===null&&(Ki=l)):(l=s,(e!==0||(p&3)!==0)&&(ra=!0)),s=f}Qe!==0&&Qe!==5||Fl(e),qn!==0&&(qn=0)}function ap(e,n){for(var l=e.suspendedLanes,s=e.pingedLanes,f=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var T=31-St(p),A=1<<T,x=f[T];x===-1?((A&l)===0||(A&s)!==0)&&(f[T]=Yg(A,n)):x<=n&&(e.expiredLanes|=A),p&=~A}if(n=Ue,l=ye,l=fo(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===n&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Wa(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||ul(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(s!==null&&Wa(s),ts(l)){case 2:case 8:l=Qu;break;case 32:l=so;break;case 268435456:l=Zu;break;default:l=so}return s=sp.bind(null,e),l=$a(l,s),e.callbackPriority=n,e.callbackNode=l,n}return s!==null&&s!==null&&Wa(s),e.callbackPriority=2,e.callbackNode=null,2}function sp(e,n){if(Qe!==0&&Qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(aa()&&e.callbackNode!==l)return null;var s=ye;return s=fo(e,e===Ue?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Pf(e,s,n),ap(e,yt()),e.callbackNode!=null&&e.callbackNode===l?sp.bind(null,e):null)}function rp(e,n){if(aa())return null;Pf(e,n,!0)}function T0(){w0(function(){(Ae&6)!==0?$a(Ku,S0):op()})}function Br(){if(qn===0){var e=Ui;e===0&&(e=ro,ro<<=1,(ro&261888)===0&&(ro=256)),qn=e}return qn}function up(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:go(""+e)}function cp(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function E0(e,n,l,s,f){if(n==="submit"&&l&&l.stateNode===f){var p=up((f[ct]||null).action),T=s.submitter;T&&(n=(n=T[ct]||null)?up(n.formAction):T.getAttribute("formAction"),n!==null&&(p=n,T=null));var A=new To("action","action",null,s,f);e.push({event:A,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(qn!==0){var x=T?cp(f,T):new FormData(f);sr(l,{pending:!0,data:x,method:f.method,action:p},null,x)}}else typeof p=="function"&&(A.preventDefault(),x=T?cp(f,T):new FormData(f),sr(l,{pending:!0,data:x,method:f.method,action:p},p,x))},currentTarget:f}]})}}for(var Pr=0;Pr<Cs.length;Pr++){var kr=Cs[Pr],_0=kr.toLowerCase(),A0=kr[0].toUpperCase()+kr.slice(1);zt(_0,"on"+A0)}zt(zc,"onAnimationEnd"),zt(Bc,"onAnimationIteration"),zt(Pc,"onAnimationStart"),zt("dblclick","onDoubleClick"),zt("focusin","onFocus"),zt("focusout","onBlur"),zt(Oy,"onTransitionRun"),zt(zy,"onTransitionStart"),zt(By,"onTransitionCancel"),zt(kc,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jl));function dp(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],f=s.event;s=s.listeners;e:{var p=void 0;if(n)for(var T=s.length-1;0<=T;T--){var A=s[T],x=A.instance,D=A.currentTarget;if(A=A.listener,x!==p&&f.isPropagationStopped())break e;p=A,f.currentTarget=D;try{p(f)}catch(O){Ao(O)}f.currentTarget=null,p=x}else for(T=0;T<s.length;T++){if(A=s[T],x=A.instance,D=A.currentTarget,A=A.listener,x!==p&&f.isPropagationStopped())break e;p=A,f.currentTarget=D;try{p(f)}catch(O){Ao(O)}f.currentTarget=null,p=x}}}}function ge(e,n){var l=n[ns];l===void 0&&(l=n[ns]=new Set);var s=e+"__bubble";l.has(s)||(fp(n,e,2,!1),l.add(s))}function Fr(e,n,l){var s=0;n&&(s|=4),fp(l,e,s,n)}var ua="_reactListening"+Math.random().toString(36).slice(2);function Jr(e){if(!e[ua]){e[ua]=!0,lc.forEach(function(l){l!=="selectionchange"&&(C0.has(l)||Fr(l,!1,e),Fr(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ua]||(n[ua]=!0,Fr("selectionchange",!1,n))}}function fp(e,n,l,s){switch(Bp(n)){case 2:var f=W0;break;case 8:f=j0;break;default:f=au}l=f.bind(null,n,l,e),f=void 0,!ds||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),s?f!==void 0?e.addEventListener(n,l,{capture:!0,passive:f}):e.addEventListener(n,l,!0):f!==void 0?e.addEventListener(n,l,{passive:f}):e.addEventListener(n,l,!1)}function Yr(e,n,l,s,f){var p=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var T=s.tag;if(T===3||T===4){var A=s.stateNode.containerInfo;if(A===f)break;if(T===4)for(T=s.return;T!==null;){var x=T.tag;if((x===3||x===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;A!==null;){if(T=gi(A),T===null)return;if(x=T.tag,x===5||x===6||x===26||x===27){s=p=T;continue e}A=A.parentNode}}s=s.return}gc(function(){var D=p,O=us(l),P=[];e:{var w=Fc.get(e);if(w!==void 0){var H=To,W=e;switch(e){case"keypress":if(vo(l)===0)break e;case"keydown":case"keyup":H=yy;break;case"focusin":W="focus",H=hs;break;case"focusout":W="blur",H=hs;break;case"beforeblur":case"afterblur":H=hs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Sc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=oy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Ty;break;case zc:case Bc:case Pc:H=ry;break;case kc:H=_y;break;case"scroll":case"scrollend":H=iy;break;case"wheel":H=Cy;break;case"copy":case"cut":case"paste":H=cy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ec;break;case"toggle":case"beforetoggle":H=Ny}var le=(n&4)!==0,De=!le&&(e==="scroll"||e==="scrollend"),b=le?w!==null?w+"Capture":null:w;le=[];for(var N=D,I;N!==null;){var B=N;if(I=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||I===null||b===null||(B=pl(N,b),B!=null&&le.push(Yl(N,B,I))),De)break;N=N.return}0<le.length&&(w=new H(w,W,null,l,O),P.push({event:w,listeners:le}))}}if((n&7)===0){e:{if(w=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",w&&l!==rs&&(W=l.relatedTarget||l.fromElement)&&(gi(W)||W[hi]))break e;if((H||w)&&(w=O.window===O?O:(w=O.ownerDocument)?w.defaultView||w.parentWindow:window,H?(W=l.relatedTarget||l.toElement,H=D,W=W?gi(W):null,W!==null&&(De=d(W),le=W.tag,W!==De||le!==5&&le!==27&&le!==6)&&(W=null)):(H=null,W=D),H!==W)){if(le=Sc,B="onMouseLeave",b="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(le=Ec,B="onPointerLeave",b="onPointerEnter",N="pointer"),De=H==null?w:fl(H),I=W==null?w:fl(W),w=new le(B,N+"leave",H,l,O),w.target=De,w.relatedTarget=I,B=null,gi(O)===D&&(le=new le(b,N+"enter",W,l,O),le.target=I,le.relatedTarget=De,B=le),De=B,H&&W)t:{for(le=x0,b=H,N=W,I=0,B=b;B;B=le(B))I++;B=0;for(var ie=N;ie;ie=le(ie))B++;for(;0<I-B;)b=le(b),I--;for(;0<B-I;)N=le(N),B--;for(;I--;){if(b===N||N!==null&&b===N.alternate){le=b;break t}b=le(b),N=le(N)}le=null}else le=null;H!==null&&pp(P,w,H,le,!1),W!==null&&De!==null&&pp(P,De,W,le,!0)}}e:{if(w=D?fl(D):window,H=w.nodeName&&w.nodeName.toLowerCase(),H==="select"||H==="input"&&w.type==="file")var Te=Mc;else if(Rc(w))if(Ic)Te=Hy;else{Te=Ly;var ee=Uy}else H=w.nodeName,!H||H.toLowerCase()!=="input"||w.type!=="checkbox"&&w.type!=="radio"?D&&ss(D.elementType)&&(Te=Mc):Te=Gy;if(Te&&(Te=Te(e,D))){bc(P,Te,l,O);break e}ee&&ee(e,w,D),e==="focusout"&&D&&w.type==="number"&&D.memoizedProps.value!=null&&as(w,"number",w.value)}switch(ee=D?fl(D):window,e){case"focusin":(Rc(ee)||ee.contentEditable==="true")&&(xi=ee,Es=D,El=null);break;case"focusout":El=Es=xi=null;break;case"mousedown":_s=!0;break;case"contextmenu":case"mouseup":case"dragend":_s=!1,Vc(P,l,O);break;case"selectionchange":if(Vy)break;case"keydown":case"keyup":Vc(P,l,O)}var ce;if(ys)e:{switch(e){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Ci?xc(e,l)&&(ve="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(ve="onCompositionStart");ve&&(_c&&l.locale!=="ko"&&(Ci||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Ci&&(ce=yc()):(En=O,fs="value"in En?En.value:En.textContent,Ci=!0)),ee=ca(D,ve),0<ee.length&&(ve=new Tc(ve,e,null,l,O),P.push({event:ve,listeners:ee}),ce?ve.data=ce:(ce=Nc(l),ce!==null&&(ve.data=ce)))),(ce=by?My(e,l):Iy(e,l))&&(ve=ca(D,"onBeforeInput"),0<ve.length&&(ee=new Tc("onBeforeInput","beforeinput",null,l,O),P.push({event:ee,listeners:ve}),ee.data=ce)),E0(P,e,D,l,O)}dp(P,n)})}function Yl(e,n,l){return{instance:e,listener:n,currentTarget:l}}function ca(e,n){for(var l=n+"Capture",s=[];e!==null;){var f=e,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=pl(e,l),f!=null&&s.unshift(Yl(e,f,p)),f=pl(e,n),f!=null&&s.push(Yl(e,f,p))),e.tag===3)return s;e=e.return}return[]}function x0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function pp(e,n,l,s,f){for(var p=n._reactName,T=[];l!==null&&l!==s;){var A=l,x=A.alternate,D=A.stateNode;if(A=A.tag,x!==null&&x===s)break;A!==5&&A!==26&&A!==27||D===null||(x=D,f?(D=pl(l,p),D!=null&&T.unshift(Yl(l,D,x))):f||(D=pl(l,p),D!=null&&T.push(Yl(l,D,x)))),l=l.return}T.length!==0&&e.push({event:n,listeners:T})}var N0=/\r\n?/g,R0=/\u0000|\uFFFD/g;function mp(e){return(typeof e=="string"?e:""+e).replace(N0,`
`).replace(R0,"")}function hp(e,n){return n=mp(n),mp(e)===n}function Ie(e,n,l,s,f,p){switch(l){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||Ei(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&Ei(e,""+s);break;case"className":mo(e,"class",s);break;case"tabIndex":mo(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":mo(e,l,s);break;case"style":mc(e,s,p);break;case"data":if(n!=="object"){mo(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=go(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(n!=="input"&&Ie(e,n,"name",f.name,f,null),Ie(e,n,"formEncType",f.formEncType,f,null),Ie(e,n,"formMethod",f.formMethod,f,null),Ie(e,n,"formTarget",f.formTarget,f,null)):(Ie(e,n,"encType",f.encType,f,null),Ie(e,n,"method",f.method,f,null),Ie(e,n,"target",f.target,f,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=go(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=$t);break;case"onScroll":s!=null&&ge("scroll",e);break;case"onScrollEnd":s!=null&&ge("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=go(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":ge("beforetoggle",e),ge("toggle",e),po(e,"popover",s);break;case"xlinkActuate":Zt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Zt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Zt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Zt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Zt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Zt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":po(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ty.get(l)||l,po(e,l,s))}}function Xr(e,n,l,s,f,p){switch(l){case"style":mc(e,s,p);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"children":typeof s=="string"?Ei(e,s):(typeof s=="number"||typeof s=="bigint")&&Ei(e,""+s);break;case"onScroll":s!=null&&ge("scroll",e);break;case"onScrollEnd":s!=null&&ge("scrollend",e);break;case"onClick":s!=null&&(e.onclick=$t);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),n=l.slice(2,f?l.length-7:void 0),p=e[ct]||null,p=p!=null?p[l]:null,typeof p=="function"&&e.removeEventListener(n,p,f),typeof s=="function")){typeof p!="function"&&p!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,s,f);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):po(e,l,s)}}}function it(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",e),ge("load",e);var s=!1,f=!1,p;for(p in l)if(l.hasOwnProperty(p)){var T=l[p];if(T!=null)switch(p){case"src":s=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ie(e,n,p,T,l,null)}}f&&Ie(e,n,"srcSet",l.srcSet,l,null),s&&Ie(e,n,"src",l.src,l,null);return;case"input":ge("invalid",e);var A=p=T=f=null,x=null,D=null;for(s in l)if(l.hasOwnProperty(s)){var O=l[s];if(O!=null)switch(s){case"name":f=O;break;case"type":T=O;break;case"checked":x=O;break;case"defaultChecked":D=O;break;case"value":p=O;break;case"defaultValue":A=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(a(137,n));break;default:Ie(e,n,s,O,l,null)}}cc(e,p,A,x,D,T,f,!1);return;case"select":ge("invalid",e),s=T=p=null;for(f in l)if(l.hasOwnProperty(f)&&(A=l[f],A!=null))switch(f){case"value":p=A;break;case"defaultValue":T=A;break;case"multiple":s=A;default:Ie(e,n,f,A,l,null)}n=p,l=T,e.multiple=!!s,n!=null?Ti(e,!!s,n,!1):l!=null&&Ti(e,!!s,l,!0);return;case"textarea":ge("invalid",e),p=f=s=null;for(T in l)if(l.hasOwnProperty(T)&&(A=l[T],A!=null))switch(T){case"value":s=A;break;case"defaultValue":f=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(a(91));break;default:Ie(e,n,T,A,l,null)}fc(e,s,f,p);return;case"option":for(x in l)if(l.hasOwnProperty(x)&&(s=l[x],s!=null))switch(x){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ie(e,n,x,s,l,null)}return;case"dialog":ge("beforetoggle",e),ge("toggle",e),ge("cancel",e),ge("close",e);break;case"iframe":case"object":ge("load",e);break;case"video":case"audio":for(s=0;s<Jl.length;s++)ge(Jl[s],e);break;case"image":ge("error",e),ge("load",e);break;case"details":ge("toggle",e);break;case"embed":case"source":case"link":ge("error",e),ge("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in l)if(l.hasOwnProperty(D)&&(s=l[D],s!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ie(e,n,D,s,l,null)}return;default:if(ss(n)){for(O in l)l.hasOwnProperty(O)&&(s=l[O],s!==void 0&&Xr(e,n,O,s,l,void 0));return}}for(A in l)l.hasOwnProperty(A)&&(s=l[A],s!=null&&Ie(e,n,A,s,l,null))}function b0(e,n,l,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,T=null,A=null,x=null,D=null,O=null;for(H in l){var P=l[H];if(l.hasOwnProperty(H)&&P!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":x=P;default:s.hasOwnProperty(H)||Ie(e,n,H,null,s,P)}}for(var w in s){var H=s[w];if(P=l[w],s.hasOwnProperty(w)&&(H!=null||P!=null))switch(w){case"type":p=H;break;case"name":f=H;break;case"checked":D=H;break;case"defaultChecked":O=H;break;case"value":T=H;break;case"defaultValue":A=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==P&&Ie(e,n,w,H,s,P)}}os(e,T,A,x,D,O,p,f);return;case"select":H=T=A=w=null;for(p in l)if(x=l[p],l.hasOwnProperty(p)&&x!=null)switch(p){case"value":break;case"multiple":H=x;default:s.hasOwnProperty(p)||Ie(e,n,p,null,s,x)}for(f in s)if(p=s[f],x=l[f],s.hasOwnProperty(f)&&(p!=null||x!=null))switch(f){case"value":w=p;break;case"defaultValue":A=p;break;case"multiple":T=p;default:p!==x&&Ie(e,n,f,p,s,x)}n=A,l=T,s=H,w!=null?Ti(e,!!l,w,!1):!!s!=!!l&&(n!=null?Ti(e,!!l,n,!0):Ti(e,!!l,l?[]:"",!1));return;case"textarea":H=w=null;for(A in l)if(f=l[A],l.hasOwnProperty(A)&&f!=null&&!s.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Ie(e,n,A,null,s,f)}for(T in s)if(f=s[T],p=l[T],s.hasOwnProperty(T)&&(f!=null||p!=null))switch(T){case"value":w=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==p&&Ie(e,n,T,f,s,p)}dc(e,w,H);return;case"option":for(var W in l)if(w=l[W],l.hasOwnProperty(W)&&w!=null&&!s.hasOwnProperty(W))switch(W){case"selected":e.selected=!1;break;default:Ie(e,n,W,null,s,w)}for(x in s)if(w=s[x],H=l[x],s.hasOwnProperty(x)&&w!==H&&(w!=null||H!=null))switch(x){case"selected":e.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:Ie(e,n,x,w,s,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in l)w=l[le],l.hasOwnProperty(le)&&w!=null&&!s.hasOwnProperty(le)&&Ie(e,n,le,null,s,w);for(D in s)if(w=s[D],H=l[D],s.hasOwnProperty(D)&&w!==H&&(w!=null||H!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(137,n));break;default:Ie(e,n,D,w,s,H)}return;default:if(ss(n)){for(var De in l)w=l[De],l.hasOwnProperty(De)&&w!==void 0&&!s.hasOwnProperty(De)&&Xr(e,n,De,void 0,s,w);for(O in s)w=s[O],H=l[O],!s.hasOwnProperty(O)||w===H||w===void 0&&H===void 0||Xr(e,n,O,w,s,H);return}}for(var b in l)w=l[b],l.hasOwnProperty(b)&&w!=null&&!s.hasOwnProperty(b)&&Ie(e,n,b,null,s,w);for(P in s)w=s[P],H=l[P],!s.hasOwnProperty(P)||w===H||w==null&&H==null||Ie(e,n,P,w,s,H)}function gp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function M0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,l=performance.getEntriesByType("resource"),s=0;s<l.length;s++){var f=l[s],p=f.transferSize,T=f.initiatorType,A=f.duration;if(p&&A&&gp(T)){for(T=0,A=f.responseEnd,s+=1;s<l.length;s++){var x=l[s],D=x.startTime;if(D>A)break;var O=x.transferSize,P=x.initiatorType;O&&gp(P)&&(x=x.responseEnd,T+=O*(x<A?1:(A-D)/(x-D)))}if(--s,n+=8*(p+T)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Kr=null,Qr=null;function da(e){return e.nodeType===9?e:e.ownerDocument}function yp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Zr(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var $r=null;function I0(){var e=window.event;return e&&e.type==="popstate"?e===$r?!1:($r=e,!0):($r=null,!1)}var Sp=typeof setTimeout=="function"?setTimeout:void 0,D0=typeof clearTimeout=="function"?clearTimeout:void 0,Tp=typeof Promise=="function"?Promise:void 0,w0=typeof queueMicrotask=="function"?queueMicrotask:typeof Tp<"u"?function(e){return Tp.resolve(null).then(e).catch(U0)}:Sp;function U0(e){setTimeout(function(){throw e})}function Vn(e){return e==="head"}function Ep(e,n){var l=n,s=0;do{var f=l.nextSibling;if(e.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"||l==="/&"){if(s===0){e.removeChild(f),Wi(n);return}s--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")s++;else if(l==="html")Xl(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Xl(l);for(var p=l.firstChild;p;){var T=p.nextSibling,A=p.nodeName;p[dl]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=T}}else l==="body"&&Xl(e.ownerDocument.body);l=f}while(l);Wi(n)}function _p(e,n){var l=e;e=0;do{var s=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=s}while(l)}function Wr(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Wr(l),is(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function L0(e,n,l,s){for(;e.nodeType===1;){var f=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[dl])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=Ht(e.nextSibling),e===null)break}return null}function G0(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Ht(e.nextSibling),e===null))return null;return e}function Ap(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ht(e.nextSibling),e===null))return null;return e}function jr(e){return e.data==="$?"||e.data==="$~"}function eu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function H0(e,n){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||l.readyState!=="loading")n();else{var s=function(){n(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Ht(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var tu=null;function Cp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(n===0)return Ht(e.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}e=e.nextSibling}return null}function xp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return e;n--}else l!=="/$"&&l!=="/&"||n++}e=e.previousSibling}return null}function Np(e,n,l){switch(n=da(l),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Xl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);is(e)}var qt=new Map,Rp=new Set;function fa(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var mn=J.d;J.d={f:q0,r:V0,D:O0,C:z0,L:B0,m:P0,X:F0,S:k0,M:J0};function q0(){var e=mn.f(),n=ia();return e||n}function V0(e){var n=yi(e);n!==null&&n.tag===5&&n.type==="form"?kd(n):mn.r(e)}var Qi=typeof document>"u"?null:document;function bp(e,n,l){var s=Qi;if(s&&typeof n=="string"&&n){var f=Mt(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),Rp.has(f)||(Rp.add(f),e={rel:e,crossOrigin:l,href:n},s.querySelector(f)===null&&(n=s.createElement("link"),it(n,"link",e),Ze(n),s.head.appendChild(n)))}}function O0(e){mn.D(e),bp("dns-prefetch",e,null)}function z0(e,n){mn.C(e,n),bp("preconnect",e,n)}function B0(e,n,l){mn.L(e,n,l);var s=Qi;if(s&&e&&n){var f='link[rel="preload"][as="'+Mt(n)+'"]';n==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+Mt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+Mt(l.imageSizes)+'"]')):f+='[href="'+Mt(e)+'"]';var p=f;switch(n){case"style":p=Zi(e);break;case"script":p=$i(e)}qt.has(p)||(e=E({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),qt.set(p,e),s.querySelector(f)!==null||n==="style"&&s.querySelector(Kl(p))||n==="script"&&s.querySelector(Ql(p))||(n=s.createElement("link"),it(n,"link",e),Ze(n),s.head.appendChild(n)))}}function P0(e,n){mn.m(e,n);var l=Qi;if(l&&e){var s=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Mt(s)+'"][href="'+Mt(e)+'"]',p=f;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=$i(e)}if(!qt.has(p)&&(e=E({rel:"modulepreload",href:e},n),qt.set(p,e),l.querySelector(f)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ql(p)))return}s=l.createElement("link"),it(s,"link",e),Ze(s),l.head.appendChild(s)}}}function k0(e,n,l){mn.S(e,n,l);var s=Qi;if(s&&e){var f=vi(s).hoistableStyles,p=Zi(e);n=n||"default";var T=f.get(p);if(!T){var A={loading:0,preload:null};if(T=s.querySelector(Kl(p)))A.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},l),(l=qt.get(p))&&nu(e,l);var x=T=s.createElement("link");Ze(x),it(x,"link",e),x._p=new Promise(function(D,O){x.onload=D,x.onerror=O}),x.addEventListener("load",function(){A.loading|=1}),x.addEventListener("error",function(){A.loading|=2}),A.loading|=4,pa(T,n,s)}T={type:"stylesheet",instance:T,count:1,state:A},f.set(p,T)}}}function F0(e,n){mn.X(e,n);var l=Qi;if(l&&e){var s=vi(l).hoistableScripts,f=$i(e),p=s.get(f);p||(p=l.querySelector(Ql(f)),p||(e=E({src:e,async:!0},n),(n=qt.get(f))&&iu(e,n),p=l.createElement("script"),Ze(p),it(p,"link",e),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},s.set(f,p))}}function J0(e,n){mn.M(e,n);var l=Qi;if(l&&e){var s=vi(l).hoistableScripts,f=$i(e),p=s.get(f);p||(p=l.querySelector(Ql(f)),p||(e=E({src:e,async:!0,type:"module"},n),(n=qt.get(f))&&iu(e,n),p=l.createElement("script"),Ze(p),it(p,"link",e),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},s.set(f,p))}}function Mp(e,n,l,s){var f=(f=me.current)?fa(f):null;if(!f)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=Zi(l.href),l=vi(f).hoistableStyles,s=l.get(n),s||(s={type:"style",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Zi(l.href);var p=vi(f).hoistableStyles,T=p.get(e);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,T),(p=f.querySelector(Kl(e)))&&!p._p&&(T.instance=p,T.state.loading=5),qt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},qt.set(e,l),p||Y0(f,e,l,T.state))),n&&s===null)throw Error(a(528,""));return T}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=$i(l),l=vi(f).hoistableScripts,s=l.get(n),s||(s={type:"script",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Zi(e){return'href="'+Mt(e)+'"'}function Kl(e){return'link[rel="stylesheet"]['+e+"]"}function Ip(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function Y0(e,n,l,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),it(n,"link",l),Ze(n),e.head.appendChild(n))}function $i(e){return'[src="'+Mt(e)+'"]'}function Ql(e){return"script[async]"+e}function Dp(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+Mt(l.href)+'"]');if(s)return n.instance=s,Ze(s),s;var f=E({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Ze(s),it(s,"style",f),pa(s,l.precedence,e),n.instance=s;case"stylesheet":f=Zi(l.href);var p=e.querySelector(Kl(f));if(p)return n.state.loading|=4,n.instance=p,Ze(p),p;s=Ip(l),(f=qt.get(f))&&nu(s,f),p=(e.ownerDocument||e).createElement("link"),Ze(p);var T=p;return T._p=new Promise(function(A,x){T.onload=A,T.onerror=x}),it(p,"link",s),n.state.loading|=4,pa(p,l.precedence,e),n.instance=p;case"script":return p=$i(l.src),(f=e.querySelector(Ql(p)))?(n.instance=f,Ze(f),f):(s=l,(f=qt.get(p))&&(s=E({},l),iu(s,f)),e=e.ownerDocument||e,f=e.createElement("script"),Ze(f),it(f,"link",s),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,pa(s,l.precedence,e));return n.instance}function pa(e,n,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=s.length?s[s.length-1]:null,p=f,T=0;T<s.length;T++){var A=s[T];if(A.dataset.precedence===n)p=A;else if(p!==f)break}p?p.parentNode.insertBefore(e,p.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function nu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function iu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ma=null;function wp(e,n,l){if(ma===null){var s=new Map,f=ma=new Map;f.set(l,s)}else f=ma,s=f.get(l),s||(s=new Map,f.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),f=0;f<l.length;f++){var p=l[f];if(!(p[dl]||p[je]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(n)||"";T=e+T;var A=s.get(T);A?A.push(p):s.set(T,[p])}}return s}function Up(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function X0(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Lp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function K0(e,n,l,s){if(l.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var f=Zi(s.href),p=n.querySelector(Kl(f));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ha.bind(e),n.then(e,e)),l.state.loading|=4,l.instance=p,Ze(p);return}p=n.ownerDocument||n,s=Ip(s),(f=qt.get(f))&&nu(s,f),p=p.createElement("link"),Ze(p);var T=p;T._p=new Promise(function(A,x){T.onload=A,T.onerror=x}),it(p,"link",s),l.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=ha.bind(e),n.addEventListener("load",l),n.addEventListener("error",l))}}var lu=0;function Q0(e,n){return e.stylesheets&&e.count===0&&ya(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var s=setTimeout(function(){if(e.stylesheets&&ya(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+n);0<e.imgBytes&&lu===0&&(lu=62500*M0());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ya(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>lu?50:800)+n);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(f)}}:null}function ha(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ya(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ga=null;function ya(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ga=new Map,n.forEach(Z0,e),ga=null,ha.call(e))}function Z0(e,n){if(!(n.state.loading&4)){var l=ga.get(e);if(l)var s=l.get(null);else{l=new Map,ga.set(e,l);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var T=f[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),s=T)}s&&l.set(null,s)}f=n.instance,T=f.getAttribute("data-precedence"),p=l.get(T)||s,p===s&&l.set(null,f),l.set(T,f),this.count++,s=ha.bind(this),f.addEventListener("load",s),f.addEventListener("error",s),p?p.parentNode.insertBefore(f,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var Zl={$$typeof:F,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function $0(e,n,l,s,f,p,T,A,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ja(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ja(0),this.hiddenUpdates=ja(null),this.identifierPrefix=s,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Gp(e,n,l,s,f,p,T,A,x,D,O,P){return e=new $0(e,n,l,T,x,D,O,P,A),n=1,p===!0&&(n|=24),p=Et(3,null,null,n),e.current=p,p.stateNode=e,n=qs(),n.refCount++,e.pooledCache=n,n.refCount++,p.memoizedState={element:s,isDehydrated:l,cache:n},Bs(p),e}function Hp(e){return e?(e=bi,e):bi}function qp(e,n,l,s,f,p){f=Hp(f),s.context===null?s.context=f:s.pendingContext=f,s=Rn(n),s.payload={element:l},p=p===void 0?null:p,p!==null&&(s.callback=p),l=bn(e,s,n),l!==null&&(gt(l,e,n),bl(l,e,n))}function Vp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function ou(e,n){Vp(e,n),(e=e.alternate)&&Vp(e,n)}function Op(e){if(e.tag===13||e.tag===31){var n=Wn(e,67108864);n!==null&&gt(n,e,67108864),ou(e,67108864)}}function zp(e){if(e.tag===13||e.tag===31){var n=Nt();n=es(n);var l=Wn(e,n);l!==null&&gt(l,e,n),ou(e,n)}}var va=!0;function W0(e,n,l,s){var f=q.T;q.T=null;var p=J.p;try{J.p=2,au(e,n,l,s)}finally{J.p=p,q.T=f}}function j0(e,n,l,s){var f=q.T;q.T=null;var p=J.p;try{J.p=8,au(e,n,l,s)}finally{J.p=p,q.T=f}}function au(e,n,l,s){if(va){var f=su(s);if(f===null)Yr(e,n,s,Sa,l),Pp(e,s);else if(tv(f,e,n,l,s))s.stopPropagation();else if(Pp(e,s),n&4&&-1<ev.indexOf(e)){for(;f!==null;){var p=yi(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=Xn(p.pendingLanes);if(T!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var x=1<<31-St(T);A.entanglements[1]|=x,T&=~x}Qt(p),(Ae&6)===0&&(ta=yt()+500,Fl(0))}}break;case 31:case 13:A=Wn(p,2),A!==null&&gt(A,p,2),ia(),ou(p,2)}if(p=su(s),p===null&&Yr(e,n,s,Sa,l),p===f)break;f=p}f!==null&&s.stopPropagation()}else Yr(e,n,s,null,l)}}function su(e){return e=us(e),ru(e)}var Sa=null;function ru(e){if(Sa=null,e=gi(e),e!==null){var n=d(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=m(n),e!==null)return e;e=null}else if(l===31){if(e=g(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Sa=e,null}function Bp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Og()){case Ku:return 2;case Qu:return 8;case so:case zg:return 32;case Zu:return 268435456;default:return 32}default:return 32}}var uu=!1,On=null,zn=null,Bn=null,$l=new Map,Wl=new Map,Pn=[],ev="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pp(e,n){switch(e){case"focusin":case"focusout":On=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":$l.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(n.pointerId)}}function jl(e,n,l,s,f,p){return e===null||e.nativeEvent!==p?(e={blockedOn:n,domEventName:l,eventSystemFlags:s,nativeEvent:p,targetContainers:[f]},n!==null&&(n=yi(n),n!==null&&Op(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function tv(e,n,l,s,f){switch(n){case"focusin":return On=jl(On,e,n,l,s,f),!0;case"dragenter":return zn=jl(zn,e,n,l,s,f),!0;case"mouseover":return Bn=jl(Bn,e,n,l,s,f),!0;case"pointerover":var p=f.pointerId;return $l.set(p,jl($l.get(p)||null,e,n,l,s,f)),!0;case"gotpointercapture":return p=f.pointerId,Wl.set(p,jl(Wl.get(p)||null,e,n,l,s,f)),!0}return!1}function kp(e){var n=gi(e.target);if(n!==null){var l=d(n);if(l!==null){if(n=l.tag,n===13){if(n=m(l),n!==null){e.blockedOn=n,nc(e.priority,function(){zp(l)});return}}else if(n===31){if(n=g(l),n!==null){e.blockedOn=n,nc(e.priority,function(){zp(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ta(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=su(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);rs=s,l.target.dispatchEvent(s),rs=null}else return n=yi(l),n!==null&&Op(n),e.blockedOn=l,!1;n.shift()}return!0}function Fp(e,n,l){Ta(e)&&l.delete(n)}function nv(){uu=!1,On!==null&&Ta(On)&&(On=null),zn!==null&&Ta(zn)&&(zn=null),Bn!==null&&Ta(Bn)&&(Bn=null),$l.forEach(Fp),Wl.forEach(Fp)}function Ea(e,n){e.blockedOn===n&&(e.blockedOn=null,uu||(uu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,nv)))}var _a=null;function Jp(e){_a!==e&&(_a=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){_a===e&&(_a=null);for(var n=0;n<e.length;n+=3){var l=e[n],s=e[n+1],f=e[n+2];if(typeof s!="function"){if(ru(s||l)===null)continue;break}var p=yi(l);p!==null&&(e.splice(n,3),n-=3,sr(p,{pending:!0,data:f,method:l.method,action:s},s,f))}}))}function Wi(e){function n(x){return Ea(x,e)}On!==null&&Ea(On,e),zn!==null&&Ea(zn,e),Bn!==null&&Ea(Bn,e),$l.forEach(n),Wl.forEach(n);for(var l=0;l<Pn.length;l++){var s=Pn[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Pn.length&&(l=Pn[0],l.blockedOn===null);)kp(l),l.blockedOn===null&&Pn.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var f=l[s],p=l[s+1],T=f[ct]||null;if(typeof p=="function")T||Jp(l);else if(T){var A=null;if(p&&p.hasAttribute("formAction")){if(f=p,T=p[ct]||null)A=T.formAction;else if(ru(f)!==null)continue}else A=T.action;typeof A=="function"?l[s+1]=A:(l.splice(s,3),s-=3),Jp(l)}}}function Yp(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),s||setTimeout(l,20)}function l(){if(!s&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function cu(e){this._internalRoot=e}Aa.prototype.render=cu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var l=n.current,s=Nt();qp(l,s,e,n,null,null)},Aa.prototype.unmount=cu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;qp(e.current,2,null,e,null,null),ia(),n[hi]=null}};function Aa(e){this._internalRoot=e}Aa.prototype.unstable_scheduleHydration=function(e){if(e){var n=tc();e={blockedOn:null,target:e,priority:n};for(var l=0;l<Pn.length&&n!==0&&n<Pn[l].priority;l++);Pn.splice(l,0,e),l===0&&kp(e)}};var Xp=t.version;if(Xp!=="19.2.3")throw Error(a(527,Xp,"19.2.3"));J.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=h(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var iv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ca=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ca.isDisabled&&Ca.supportsFiber)try{rl=Ca.inject(iv),vt=Ca}catch{}}return to.createRoot=function(e,n){if(!r(e))throw Error(a(299));var l=!1,s="",f=jd,p=ef,T=tf;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Gp(e,1,!1,null,null,l,s,null,f,p,T,Yp),e[hi]=n.current,Jr(e),new cu(n)},to.hydrateRoot=function(e,n,l){if(!r(e))throw Error(a(299));var s=!1,f="",p=jd,T=ef,A=tf,x=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError),l.formState!==void 0&&(x=l.formState)),n=Gp(e,1,!0,n,l??null,s,f,x,p,T,A,Yp),n.context=Hp(null),l=n.current,s=Nt(),s=es(s),f=Rn(s),f.callback=null,bn(l,f,s),l=s,n.current.lanes=l,cl(n,l),Qt(n),e[hi]=n.current,Jr(e),new Aa(n)},to.version="19.2.3",to}var im;function mv(){if(im)return pu.exports;im=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),pu.exports=pv(),pu.exports}var hv=mv();const gv=zh(hv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vv=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,o,a)=>a?a.toUpperCase():o.toLowerCase()),lm=i=>{const t=vv(i);return t.charAt(0).toUpperCase()+t.slice(1)},Bh=(...i)=>i.filter((t,o,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===o).join(" ").trim(),Sv=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Tv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=qe.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:r="",children:d,iconNode:m,...g},y)=>qe.createElement("svg",{ref:y,...Tv,width:t,height:t,stroke:i,strokeWidth:a?Number(o)*24/Number(t):o,className:Bh("lucide",r),...!d&&!Sv(g)&&{"aria-hidden":"true"},...g},[...m.map(([h,v])=>qe.createElement(h,v)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=(i,t)=>{const o=qe.forwardRef(({className:a,...r},d)=>qe.createElement(Ev,{ref:d,iconNode:t,className:Bh(`lucide-${yv(lm(i))}`,`lucide-${i}`,a),...r}));return o.displayName=lm(i),o};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],om=Xe("brain-circuit",_v);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Cv=Xe("camera",Av);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Nv=Xe("car",xv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],bv=Xe("eye-off",Rv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Iv=Xe("globe",Mv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],wv=Xe("history",Dv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Lv=Xe("house",Uv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Hv=Xe("link",Gv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],Vv=Xe("lock-open",qv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],xa=Xe("lock",Ov);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Bv=Xe("log-out",zv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Su=Xe("plus",Pv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],am=Xe("printer",kv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Jv=Xe("save",Fv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Xv=Xe("search",Yv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ph=Xe("shield",Kv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Zv=Xe("smartphone",Qv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Wv=Xe("triangle-alert",$v);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Oa=Xe("user-plus",jv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],tS=Xe("x",eS);var oo=(i=>(i.OS7="Departamento Antidrogas OS7",i.SEBV="Departamento Encargo y Bsqueda de Personas y Vehculos SEBV",i.OS9="Departamento de Investigacin de Organizaciones Criminales OS9",i.CAODI_SUR="CAODI Zona Centro Sur",i.CAODI_NORTE="CAODI Zona Norte",i.LABOCAR="Labocar",i.OTHER="Otro / Unidad Territorial",i))(oo||{});const Tu=["Arica y Parinacota","Tarapac","Antofagasta","Atacama","Coquimbo","Valparaso","Metropolitana","O'Higgins","Maule","uble","Biobo","Araucana","Los Ros","Los Lagos","Aysn","Magallanes"];var pi=(i=>(i.LOW="Bajo",i.MEDIUM="Medio",i.HIGH="Alto",i.EXTREME="Extremo - Peligroso",i))(pi||{}),nS={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let iS,lS;function oS(){return{geminiUrl:iS,vertexUrl:lS}}function aS(i,t,o,a){var r,d;if(!(i!=null&&i.baseUrl)){const m=oS();return t?(r=m.vertexUrl)!==null&&r!==void 0?r:o:(d=m.geminiUrl)!==null&&d!==void 0?d:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yn{}function Q(i,t){const o=/\{([^}]+)\}/g;return i.replace(o,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const d=t[r];return d!=null?String(d):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,t,o){for(let d=0;d<t.length-1;d++){const m=t[d];if(m.endsWith("[]")){const g=m.slice(0,-2);if(!(g in i))if(Array.isArray(o))i[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(o))for(let h=0;h<y.length;h++){const v=y[h];c(v,t.slice(d+1),o[h])}else for(const h of y)c(h,t.slice(d+1),o)}return}else if(m.endsWith("[0]")){const g=m.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];c(y[0],t.slice(d+1),o);return}(!i[m]||typeof i[m]!="object")&&(i[m]={}),i=i[m]}const a=t[t.length-1],r=i[a];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[a]=o}function u(i,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return o;const r=t[a];if(r.endsWith("[]")){const d=r.slice(0,-2);if(d in i){const m=i[d];return Array.isArray(m)?m.map(g=>u(g,t.slice(a+1),o)):o}else return o}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return o;throw a}}function sS(i,t){for(const[o,a]of Object.entries(t)){const r=o.split("."),d=a.split("."),m=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&d.length>g)for(let y=g;y<d.length;y++){const h=d[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&m.add(h)}Eu(i,r,d,0,m)}}function Eu(i,t,o,a,r){if(a>=t.length||typeof i!="object"||i===null)return;const d=t[a];if(d.endsWith("[]")){const m=d.slice(0,-2),g=i;if(m in g&&Array.isArray(g[m]))for(const y of g[m])Eu(y,t,o,a+1,r)}else if(d==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const m=i,g=Object.keys(m).filter(h=>!h.startsWith("_")&&!r.has(h)),y={};for(const h of g)y[h]=m[h];for(const[h,v]of Object.entries(y)){const E=[];for(const _ of o.slice(a))_==="*"?E.push(h):E.push(_);c(m,E,v)}for(const h of g)delete m[h]}}else{const m=i;d in m&&Eu(m[d],t,o,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hu(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rS(i){const t={},o=u(i,["operationName"]);o!=null&&c(t,["operationName"],o);const a=u(i,["resourceName"]);return a!=null&&c(t,["_url","resourceName"],a),t}function uS(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response","generateVideoResponse"]);return m!=null&&c(t,["response"],dS(m)),t}function cS(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response"]);return m!=null&&c(t,["response"],fS(m)),t}function dS(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>pS(m))),c(t,["generatedVideos"],d)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function fS(i){const t={},o=u(i,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>mS(m))),c(t,["generatedVideos"],d)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function pS(i){const t={},o=u(i,["video"]);return o!=null&&c(t,["video"],TS(o)),t}function mS(i){const t={},o=u(i,["_self"]);return o!=null&&c(t,["video"],ES(o)),t}function hS(i){const t={},o=u(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function gS(i){const t={},o=u(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function yS(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response"]);return m!=null&&c(t,["response"],vS(m)),t}function vS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function kh(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response"]);return m!=null&&c(t,["response"],SS(m)),t}function SS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function TS(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],Hu(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function ES(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],Hu(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var sm;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(sm||(sm={}));var rm;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(rm||(rm={}));var um;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(um||(um={}));var Fn;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(Fn||(Fn={}));var cm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(cm||(cm={}));var dm;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(dm||(dm={}));var fm;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(fm||(fm={}));var pm;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(pm||(pm={}));var mm;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(mm||(mm={}));var hm;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(hm||(hm={}));var gm;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(gm||(gm={}));var ym;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(ym||(ym={}));var vm;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(vm||(vm={}));var Sm;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(Sm||(Sm={}));var Tm;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Tm||(Tm={}));var Em;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Em||(Em={}));var _m;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(_m||(_m={}));var Am;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(Am||(Am={}));var Cm;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Cm||(Cm={}));var Ua;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Ua||(Ua={}));var xm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(xm||(xm={}));var Nm;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Nm||(Nm={}));var Rm;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Rm||(Rm={}));var _u;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(_u||(_u={}));var bm;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(bm||(bm={}));var Mm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Mm||(Mm={}));var Im;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Im||(Im={}));var Dm;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(Dm||(Dm={}));var wm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(wm||(wm={}));var Um;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Um||(Um={}));var Lm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Lm||(Lm={}));var Gm;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Gm||(Gm={}));var Hm;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Hm||(Hm={}));var qm;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(qm||(qm={}));var Vm;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Vm||(Vm={}));var Om;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Om||(Om={}));var zm;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(zm||(zm={}));var Bm;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Bm||(Bm={}));var Pm;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Pm||(Pm={}));var km;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(km||(km={}));var Fm;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Fm||(Fm={}));var Jm;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Jm||(Jm={}));var Ym;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Ym||(Ym={}));var Xm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Xm||(Xm={}));var Km;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Km||(Km={}));var Qm;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(Qm||(Qm={}));var Zm;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Zm||(Zm={}));var $m;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})($m||($m={}));var Wm;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Wm||(Wm={}));var jm;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(jm||(jm={}));var eh;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(eh||(eh={}));var th;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(th||(th={}));var nh;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(nh||(nh={}));var ih;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ih||(ih={}));var lh;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(lh||(lh={}));var el;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(el||(el={}));class Au{constructor(t){const o={};for(const a of t.headers.entries())o[a[0]]=a[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class no{get text(){var t,o,a,r,d,m,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const E=[];for(const _ of(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[C,U]of Object.entries(_))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(U!==null||U!==void 0)&&E.push(C);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;v=!0,h+=_.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var t,o,a,r,d,m,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const E of(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[_,C]of Object.entries(E))_!=="inlineData"&&(C!==null||C!==void 0)&&v.push(_);E.inlineData&&typeof E.inlineData.data=="string"&&(h+=atob(E.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,o,a,r,d,m,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,o,a,r,d,m,g,y,h;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,o,a,r,d,m,g,y,h;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class oh{}class ah{}class _S{}class AS{}class CS{}class xS{}class sh{}class rh{}class uh{}class NS{}class La{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new La;let r;const d=t;return o?r=cS(d):r=uS(d),Object.assign(a,r),a}}class ch{}class dh{}class fh{}class ph{}class RS{}class bS{}class MS{}class qu{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new qu,d=yS(t);return Object.assign(a,d),a}}class IS{}class DS{}class wS{}class mh{}class US{get text(){var t,o,a;let r="",d=!1;const m=[];for(const g of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&m.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,r+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?r:void 0}get data(){var t,o,a;let r="";const d=[];for(const m of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(m))g!=="inlineData"&&y!==null&&d.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(r+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class LS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Vu{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Vu,d=kh(t);return Object.assign(a,d),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _e(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Fh(i,t){const o=_e(i,t);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function Jh(i){return Array.isArray(i)?i.map(t=>Ga(t)):[Ga(i)]}function Ga(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Yh(i){const t=Ga(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Xh(i){const t=Ga(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function hh(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function Kh(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>hh(t)):[hh(i)]}function Cu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function gh(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function yh(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function ot(i){if(i==null)throw new Error("ContentUnion is required");return Cu(i)?i:{role:"user",parts:Kh(i)}}function Ou(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const a=ot(o);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const o=ot(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>ot(o)):[ot(t)]}function Vt(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(gh(i)||yh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ot(i)]}const t=[],o=[],a=Cu(i[0]);for(const r of i){const d=Cu(r);if(d!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)t.push(r);else{if(gh(r)||yh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return a||t.push({role:"user",parts:Kh(o)}),t}function GS(i,t){i.includes("null")&&(t.nullable=!0);const o=i.filter(a=>a!=="null");if(o.length===1)t.type=Object.values(Fn).includes(o[0].toUpperCase())?o[0].toUpperCase():Fn.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of o)t.anyOf.push({type:Object.values(Fn).includes(a.toUpperCase())?a.toUpperCase():Fn.TYPE_UNSPECIFIED})}}function nl(i){const t={},o=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=i.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(t.nullable=!0,i=d[1]):d[1].type==="null"&&(t.nullable=!0,i=d[0])),i.type instanceof Array&&GS(i.type,t);for(const[m,g]of Object.entries(i))if(g!=null)if(m=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(Fn).includes(g.toUpperCase())?g.toUpperCase():Fn.TYPE_UNSPECIFIED}else if(o.includes(m))t[m]=nl(g);else if(a.includes(m)){const y=[];for(const h of g){if(h.type=="null"){t.nullable=!0;continue}y.push(nl(h))}t[m]=y}else if(r.includes(m)){const y={};for(const[h,v]of Object.entries(g))y[h]=nl(v);t[m]=y}else{if(m==="additionalProperties")continue;t[m]=g}return t}function zu(i){return nl(i)}function Bu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Pu(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function ll(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=nl(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=nl(t.response));return i}function ol(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of i)t.push(o);return t}function HS(i,t,o,a=1){const r=!t.startsWith(`${o}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${t}`:t:r?`${o}/${t}`:t}function vn(i,t){if(typeof t!="string")throw new Error("name must be a string");return HS(i,t,"cachedContents")}function Qh(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Jn(i){return Hu(i)}function qS(i){return i!=null&&typeof i=="object"&&"name"in i}function VS(i){return i!=null&&typeof i=="object"&&"video"in i}function OS(i){return i!=null&&typeof i=="object"&&"uri"in i}function Zh(i){var t;let o;if(qS(i)&&(o=i.name),!(OS(i)&&(o=i.uri,o===void 0))&&!(VS(i)&&(o=(t=i.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function $h(i,t){let o;return i.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function Wh(i){for(const t of["models","tunedModels","publisherModels"])if(zS(i,t))return i[t];return[]}function zS(i,t){return i!==null&&typeof i=="object"&&t in i}function BS(i,t={}){const o=i,a={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(a.responseJsonSchema=o.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function PS(i,t={}){const o=[],a=new Set;for(const r of i){const d=r.name;if(a.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);a.add(d);const m=BS(r,t);m.functionDeclarations&&o.push(...m.functionDeclarations)}return{functionDeclarations:o}}function jh(i,t){let o;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const a=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function kS(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function eg(i){if(typeof i!="object"||i===null)return{};const t=i,o=t.inlinedResponses;if(typeof o!="object"||o===null)return i;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let d=!1;for(const m of r){if(typeof m!="object"||m===null)continue;const y=m.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){d=!0;break}}return d&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function al(i,t){const o=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function tg(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FS(i){const t={},o=u(i,["responsesFile"]);o!=null&&c(t,["fileName"],o);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>CT(m))),c(t,["inlinedResponses"],d)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["inlinedEmbedContentResponses"],d)}return t}function JS(i){const t={},o=u(i,["predictionsFormat"]);o!=null&&c(t,["format"],o);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function YS(i){const t={},o=u(i,["format"]);o!=null&&c(t,["predictionsFormat"],o);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Da(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata","displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&c(t,["state"],tg(r));const d=u(i,["metadata","createTime"]);d!=null&&c(t,["createTime"],d);const m=u(i,["metadata","endTime"]);m!=null&&c(t,["endTime"],m);const g=u(i,["metadata","updateTime"]);g!=null&&c(t,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&c(t,["model"],y);const h=u(i,["metadata","output"]);return h!=null&&c(t,["dest"],FS(eg(h))),t}function xu(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["state"]);r!=null&&c(t,["state"],tg(r));const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["createTime"]);m!=null&&c(t,["createTime"],m);const g=u(i,["startTime"]);g!=null&&c(t,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(t,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(t,["updateTime"],h);const v=u(i,["model"]);v!=null&&c(t,["model"],v);const E=u(i,["inputConfig"]);E!=null&&c(t,["src"],XS(E));const _=u(i,["outputConfig"]);_!=null&&c(t,["dest"],JS(eg(_)));const C=u(i,["completionStats"]);return C!=null&&c(t,["completionStats"],C),t}function XS(i){const t={},o=u(i,["instancesFormat"]);o!=null&&c(t,["format"],o);const a=u(i,["gcsSource","uris"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function KS(i,t){const o={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&c(o,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>AT(i,m))),c(o,["requests","requests"],d)}return o}function QS(i){const t={},o=u(i,["format"]);o!=null&&c(t,["instancesFormat"],o);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function ZS(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function $S(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],al(i,a)),o}function WS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],al(i,a)),o}function jS(i){const t={},o=u(i,["content"]);o!=null&&c(t,["content"],o);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],eT(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const d=u(i,["finishReason"]);d!=null&&c(t,["finishReason"],d);const m=u(i,["avgLogprobs"]);m!=null&&c(t,["avgLogprobs"],m);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const v=u(i,["safetyRatings"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(C=>C)),c(t,["safetyRatings"],_)}const E=u(i,["urlContextMetadata"]);return E!=null&&c(t,["urlContextMetadata"],E),t}function eT(i){const t={},o=u(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function ng(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>DT(d))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function tT(i,t){const o={},a=u(i,["displayName"]);if(t!==void 0&&a!=null&&c(t,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function nT(i,t){const o={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],YS(kS(r))),o}function vh(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],_e(i,a));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],KS(i,jh(i,r)));const d=u(t,["config"]);return d!=null&&tT(d,o),o}function iT(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],_e(i,a));const r=u(t,["src"]);r!=null&&c(o,["inputConfig"],QS(jh(i,r)));const d=u(t,["config"]);return d!=null&&nT(d,o),o}function lT(i,t){const o={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["batch","displayName"],a),o}function oT(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],_e(i,a));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],fT(i,r));const d=u(t,["config"]);return d!=null&&lT(d,o),o}function aT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],al(i,a)),o}function sT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],al(i,a)),o}function rT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);return d!=null&&c(t,["error"],d),t}function uT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);return d!=null&&c(t,["error"],d),t}function cT(i,t){const o={},a=u(t,["contents"]);if(a!=null){let d=Ou(i,a);Array.isArray(d)&&(d=d.map(m=>m)),c(o,["requests[]","request","content"],d)}const r=u(t,["config"]);return r!=null&&(c(o,["_self"],dT(r,o)),sS(o,{"requests[].*":"requests[].request.*"})),o}function dT(i,t){const o={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const d=u(i,["outputDimensionality"]);if(t!==void 0&&d!=null&&c(t,["requests[]","outputDimensionality"],d),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function fT(i,t){const o={},a=u(t,["fileName"]);a!=null&&c(o,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&c(o,["requests"],cT(i,r)),o}function pT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function mT(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function hT(i){const t={},o=u(i,["mode"]);o!=null&&c(t,["mode"],o);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function gT(i,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],ng(ot(r)));const d=u(t,["temperature"]);d!=null&&c(a,["temperature"],d);const m=u(t,["topP"]);m!=null&&c(a,["topP"],m);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const E=u(t,["responseLogprobs"]);E!=null&&c(a,["responseLogprobs"],E);const _=u(t,["logprobs"]);_!=null&&c(a,["logprobs"],_);const C=u(t,["presencePenalty"]);C!=null&&c(a,["presencePenalty"],C);const U=u(t,["frequencyPenalty"]);U!=null&&c(a,["frequencyPenalty"],U);const G=u(t,["seed"]);G!=null&&c(a,["seed"],G);const L=u(t,["responseMimeType"]);L!=null&&c(a,["responseMimeType"],L);const V=u(t,["responseSchema"]);V!=null&&c(a,["responseSchema"],zu(V));const Z=u(t,["responseJsonSchema"]);if(Z!=null&&c(a,["responseJsonSchema"],Z),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=u(t,["safetySettings"]);if(o!==void 0&&F!=null){let z=F;Array.isArray(z)&&(z=z.map(xe=>wT(xe))),c(o,["safetySettings"],z)}const $=u(t,["tools"]);if(o!==void 0&&$!=null){let z=ol($);Array.isArray(z)&&(z=z.map(xe=>LT(ll(xe)))),c(o,["tools"],z)}const te=u(t,["toolConfig"]);if(o!==void 0&&te!=null&&c(o,["toolConfig"],UT(te)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ne=u(t,["cachedContent"]);o!==void 0&&ne!=null&&c(o,["cachedContent"],vn(i,ne));const Y=u(t,["responseModalities"]);Y!=null&&c(a,["responseModalities"],Y);const fe=u(t,["mediaResolution"]);fe!=null&&c(a,["mediaResolution"],fe);const X=u(t,["speechConfig"]);if(X!=null&&c(a,["speechConfig"],Bu(X)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const de=u(t,["thinkingConfig"]);de!=null&&c(a,["thinkingConfig"],de);const pe=u(t,["imageConfig"]);pe!=null&&c(a,["imageConfig"],_T(pe));const M=u(t,["enableEnhancedCivicAnswers"]);return M!=null&&c(a,["enableEnhancedCivicAnswers"],M),a}function yT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>jS(h))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const d=u(i,["promptFeedback"]);d!=null&&c(t,["promptFeedback"],d);const m=u(i,["responseId"]);m!=null&&c(t,["responseId"],m);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function vT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],al(i,a)),o}function ST(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],al(i,a)),o}function TT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function ET(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function _T(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function AT(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["request","model"],_e(i,a));const r=u(t,["contents"]);if(r!=null){let g=Vt(r);Array.isArray(g)&&(g=g.map(y=>ng(y))),c(o,["request","contents"],g)}const d=u(t,["metadata"]);d!=null&&c(o,["metadata"],d);const m=u(t,["config"]);return m!=null&&c(o,["request","generationConfig"],gT(i,m,u(o,["request"],{}))),o}function CT(i){const t={},o=u(i,["response"]);o!=null&&c(t,["response"],yT(o));const a=u(i,["error"]);return a!=null&&c(t,["error"],a),t}function xT(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function NT(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const d=u(i,["filter"]);return t!==void 0&&d!=null&&c(t,["_query","filter"],d),o}function RT(i){const t={},o=u(i,["config"]);return o!=null&&xT(o,t),t}function bT(i){const t={},o=u(i,["config"]);return o!=null&&NT(o,t),t}function MT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>Da(m))),c(t,["batchJobs"],d)}return t}function IT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>xu(m))),c(t,["batchJobs"],d)}return t}function DT(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],pT(d));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],mT(m));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],ZS(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const E=u(i,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const _=u(i,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function wT(i){const t={},o=u(i,["category"]);if(o!=null&&c(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function UT(i){const t={},o=u(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],hT(o));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function LT(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const m=u(i,["codeExecution"]);if(m!=null&&c(t,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],TT(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],ET(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(gn||(gn={}));class mi{constructor(t,o,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,a,r)}init(t,o,a){var r,d;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!a||Object.keys(a).length===0?m={config:{}}:typeof a=="object"?m=Object.assign({},a):m=a,m.config&&(m.config.pageToken=o.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(d=(r=m.config)===null||r===void 0?void 0:r.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GT extends yn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new mi(gn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(t){const o=vh(this.apiClient,t),a=o._url,r=Q("{model}:batchGenerateContent",a),g=o.batch.inputConfig.requests,y=g.requests,h=[];for(const v of y){const E=Object.assign({},v);if(E.systemInstruction){const _=E.systemInstruction;delete E.systemInstruction;const C=E.request;C.systemInstruction=_,E.request=C}h.push(E)}return g.requests=h,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const a=o?Object.assign({},o):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const d=this.getGcsUri(t),m=this.getBigqueryUri(t);if(d)d.endsWith(".jsonl")?a.dest=`${d.slice(0,-6)}/dest`:a.dest=`${d}_dest_${r}`;else if(m)a.dest=`${m}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=iT(this.apiClient,t);return g=Q("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>xu(v))}else{const h=vh(this.apiClient,t);return g=Q("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>Da(v))}}async createEmbeddingsInternal(t){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=oT(this.apiClient,t);return d=Q("{model}:asyncBatchEmbedContent",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>Da(y))}}async get(t){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=ST(this.apiClient,t);return g=Q("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>xu(v))}else{const h=vT(this.apiClient,t);return g=Q("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>Da(v))}}async cancel(t){var o,a,r,d;let m="",g={};if(this.apiClient.isVertexAI()){const y=WS(this.apiClient,t);m=Q("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=$S(this.apiClient,t);m=Q("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(t){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=bT(t);return g=Q("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const E=IT(v),_=new mh;return Object.assign(_,E),_})}else{const h=RT(t);return g=Q("batches",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const E=MT(v),_=new mh;return Object.assign(_,E),_})}}async delete(t){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=sT(this.apiClient,t);return g=Q("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>uT(v))}else{const h=aT(this.apiClient,t);return g=Q("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>rT(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HT(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Sh(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>oE(d))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function qT(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const d=u(i,["displayName"]);t!==void 0&&d!=null&&c(t,["displayName"],d);const m=u(i,["contents"]);if(t!==void 0&&m!=null){let v=Vt(m);Array.isArray(v)&&(v=v.map(E=>Sh(E))),c(t,["contents"],v)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],Sh(ot(g)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(E=>sE(E))),c(t,["tools"],v)}const h=u(i,["toolConfig"]);if(t!==void 0&&h!=null&&c(t,["toolConfig"],aE(h)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function VT(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const d=u(i,["displayName"]);t!==void 0&&d!=null&&c(t,["displayName"],d);const m=u(i,["contents"]);if(t!==void 0&&m!=null){let E=Vt(m);Array.isArray(E)&&(E=E.map(_=>_)),c(t,["contents"],E)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],ot(g));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let E=y;Array.isArray(E)&&(E=E.map(_=>rE(_))),c(t,["tools"],E)}const h=u(i,["toolConfig"]);t!==void 0&&h!=null&&c(t,["toolConfig"],h);const v=u(i,["kmsKeyName"]);return t!==void 0&&v!=null&&c(t,["encryption_spec","kmsKeyName"],v),o}function OT(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],Fh(i,a));const r=u(t,["config"]);return r!=null&&qT(r,o),o}function zT(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],Fh(i,a));const r=u(t,["config"]);return r!=null&&VT(r,o),o}function BT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],vn(i,a)),o}function PT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],vn(i,a)),o}function kT(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function FT(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function JT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function YT(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function XT(i){const t={},o=u(i,["mode"]);o!=null&&c(t,["mode"],o);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function KT(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(t,["description"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const m=u(i,["response"]);m!=null&&c(t,["response"],m);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function QT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],vn(i,a)),o}function ZT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],vn(i,a)),o}function $T(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function WT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function jT(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function eE(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function tE(i){const t={},o=u(i,["config"]);return o!=null&&jT(o,t),t}function nE(i){const t={},o=u(i,["config"]);return o!=null&&eE(o,t),t}function iE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["cachedContents"],d)}return t}function lE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["cachedContents"],d)}return t}function oE(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],JT(d));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],YT(m));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],HT(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const E=u(i,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const _=u(i,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function aE(i){const t={},o=u(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],XT(o));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function sE(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const m=u(i,["codeExecution"]);if(m!=null&&c(t,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],$T(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],WT(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function rE(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let E=o;Array.isArray(E)&&(E=E.map(_=>KT(_))),c(t,["functionDeclarations"],E)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const d=u(i,["computerUse"]);if(d!=null&&c(t,["computerUse"],d),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=u(i,["codeExecution"]);m!=null&&c(t,["codeExecution"],m);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function uE(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function cE(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function dE(i,t){const o={},a=u(t,["name"]);a!=null&&c(o,["_url","name"],vn(i,a));const r=u(t,["config"]);return r!=null&&uE(r,o),o}function fE(i,t){const o={},a=u(t,["name"]);a!=null&&c(o,["_url","name"],vn(i,a));const r=u(t,["config"]);return r!=null&&cE(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pE extends yn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new mi(gn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(o),o)}async create(t){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=zT(this.apiClient,t);return g=Q("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const h=OT(this.apiClient,t);return g=Q("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async get(t){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=ZT(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const h=QT(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async delete(t){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=PT(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const E=FT(v),_=new fh;return Object.assign(_,E),_})}else{const h=BT(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const E=kT(v),_=new fh;return Object.assign(_,E),_})}}async update(t){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=fE(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const h=dE(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async listInternal(t){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=nE(t);return g=Q("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const E=lE(v),_=new ph;return Object.assign(_,E),_})}else{const h=tE(t);return g=Q("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const E=iE(v),_=new ph;return Object.assign(_,E),_})}}}function Ha(i,t){var o={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(o[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(i);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(i,a[r])&&(o[a[r]]=i[a[r]]);return o}function Th(i){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&i[t],a=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ae(i){return this instanceof ae?(this.v=i,this):new ae(i)}function kt(i,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(i,t||[]),r,d=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",m),r[Symbol.asyncIterator]=function(){return this},r;function m(C){return function(U){return Promise.resolve(U).then(C,E)}}function g(C,U){a[C]&&(r[C]=function(G){return new Promise(function(L,V){d.push([C,G,L,V])>1||y(C,G)})},U&&(r[C]=U(r[C])))}function y(C,U){try{h(a[C](U))}catch(G){_(d[0][3],G)}}function h(C){C.value instanceof ae?Promise.resolve(C.value.v).then(v,E):_(d[0][2],C)}function v(C){y("next",C)}function E(C){y("throw",C)}function _(C,U){C(U),d.shift(),d.length&&y(d[0][0],d[0][1])}}function Ft(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],o;return t?t.call(i):(i=typeof Th=="function"?Th(i):i[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(d){o[d]=i[d]&&function(m){return new Promise(function(g,y){m=i[d](m),r(g,y,m.done,m.value)})}}function r(d,m,g,y){Promise.resolve(y).then(function(h){d({value:h,done:g})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mE(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const o=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:ig(o)}function ig(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function hE(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Eh(i){if(i===void 0||i.length===0)return[];const t=[],o=i.length;let a=0;for(;a<o;)if(i[a].role==="user")t.push(i[a]),a++;else{const r=[];let d=!0;for(;a<o&&i[a].role==="model";)r.push(i[a]),d&&!ig(i[a])&&(d=!1),a++;d?t.push(...r):t.pop()}return t}class gE{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new yE(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class yE{constructor(t,o,a,r={},d=[]){this.apiClient=t,this.modelsModule=o,this.model=a,this.config=r,this.history=d,this.sendPromise=Promise.resolve(),hE(d)}async sendMessage(t){var o;await this.sendPromise;const a=ot(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var d,m,g;const y=await r,h=(m=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content,v=y.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let _=[];v!=null&&(_=(g=v.slice(E))!==null&&g!==void 0?g:[]);const C=h?[h]:[];this.recordHistory(a,C,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var o;await this.sendPromise;const a=ot(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const d=await r;return this.processStreamResponse(d,a)}getHistory(t=!1){const o=t?Eh(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){return kt(this,arguments,function*(){var r,d,m,g,y,h;const v=[];try{for(var E=!0,_=Ft(t),C;C=yield ae(_.next()),r=C.done,!r;E=!0){g=C.value,E=!1;const U=g;if(mE(U)){const G=(h=(y=U.candidates)===null||y===void 0?void 0:y[0])===null||h===void 0?void 0:h.content;G!==void 0&&v.push(G)}yield yield ae(U)}}catch(U){d={error:U}}finally{try{!E&&!r&&(m=_.return)&&(yield ae(m.call(_)))}finally{if(d)throw d.error}}this.recordHistory(o,v)})}recordHistory(t,o,a){let r=[];o.length>0&&o.every(d=>d.role!==void 0)?r=o:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Eh(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class za extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,za.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vE(i){const t={},o=u(i,["file"]);return o!=null&&c(t,["file"],o),t}function SE(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function TE(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","file"],Zh(o)),t}function EE(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function _E(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","file"],Zh(o)),t}function AE(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function CE(i){const t={},o=u(i,["config"]);return o!=null&&AE(o,t),t}function xE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["files"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NE extends yn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new mi(gn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=CE(t);return d=Q("files",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=xE(y),v=new IS;return Object.assign(v,h),v})}}async createInternal(t){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=vE(t);return d=Q("upload/v1beta/files",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=SE(y),v=new DS;return Object.assign(v,h),v})}}async get(t){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=_E(t);return d=Q("files/{file}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=TE(t);return d=Q("files/{file}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=EE(y),v=new wS;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wa(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function RE(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>kE(d))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function bE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function ME(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function IE(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(t,["description"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const m=u(i,["response"]);m!=null&&c(t,["response"],m);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function DE(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const d=u(i,["candidateCount"]);d!=null&&c(t,["candidateCount"],d);const m=u(i,["enableAffectiveDialog"]);m!=null&&c(t,["enableAffectiveDialog"],m);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const E=u(i,["presencePenalty"]);E!=null&&c(t,["presencePenalty"],E);const _=u(i,["responseLogprobs"]);_!=null&&c(t,["responseLogprobs"],_);const C=u(i,["responseMimeType"]);C!=null&&c(t,["responseMimeType"],C);const U=u(i,["responseModalities"]);U!=null&&c(t,["responseModalities"],U);const G=u(i,["responseSchema"]);G!=null&&c(t,["responseSchema"],G);const L=u(i,["routingConfig"]);L!=null&&c(t,["routingConfig"],L);const V=u(i,["seed"]);V!=null&&c(t,["seed"],V);const Z=u(i,["speechConfig"]);Z!=null&&c(t,["speechConfig"],Z);const F=u(i,["stopSequences"]);F!=null&&c(t,["stopSequences"],F);const $=u(i,["temperature"]);$!=null&&c(t,["temperature"],$);const te=u(i,["thinkingConfig"]);te!=null&&c(t,["thinkingConfig"],te);const ne=u(i,["topK"]);ne!=null&&c(t,["topK"],ne);const Y=u(i,["topP"]);if(Y!=null&&c(t,["topP"],Y),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function wE(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function UE(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function LE(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const m=u(i,["topP"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const E=u(i,["speechConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","speechConfig"],Pu(E));const _=u(i,["thinkingConfig"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","thinkingConfig"],_);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const U=u(i,["systemInstruction"]);t!==void 0&&U!=null&&c(t,["setup","systemInstruction"],RE(ot(U)));const G=u(i,["tools"]);if(t!==void 0&&G!=null){let ne=ol(G);Array.isArray(ne)&&(ne=ne.map(Y=>JE(ll(Y)))),c(t,["setup","tools"],ne)}const L=u(i,["sessionResumption"]);t!==void 0&&L!=null&&c(t,["setup","sessionResumption"],FE(L));const V=u(i,["inputAudioTranscription"]);t!==void 0&&V!=null&&c(t,["setup","inputAudioTranscription"],V);const Z=u(i,["outputAudioTranscription"]);t!==void 0&&Z!=null&&c(t,["setup","outputAudioTranscription"],Z);const F=u(i,["realtimeInputConfig"]);t!==void 0&&F!=null&&c(t,["setup","realtimeInputConfig"],F);const $=u(i,["contextWindowCompression"]);t!==void 0&&$!=null&&c(t,["setup","contextWindowCompression"],$);const te=u(i,["proactivity"]);if(t!==void 0&&te!=null&&c(t,["setup","proactivity"],te),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function GE(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],DE(a));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const m=u(i,["topP"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const E=u(i,["speechConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","speechConfig"],Pu(E));const _=u(i,["thinkingConfig"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","thinkingConfig"],_);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const U=u(i,["systemInstruction"]);t!==void 0&&U!=null&&c(t,["setup","systemInstruction"],ot(U));const G=u(i,["tools"]);if(t!==void 0&&G!=null){let Y=ol(G);Array.isArray(Y)&&(Y=Y.map(fe=>YE(ll(fe)))),c(t,["setup","tools"],Y)}const L=u(i,["sessionResumption"]);t!==void 0&&L!=null&&c(t,["setup","sessionResumption"],L);const V=u(i,["inputAudioTranscription"]);t!==void 0&&V!=null&&c(t,["setup","inputAudioTranscription"],V);const Z=u(i,["outputAudioTranscription"]);t!==void 0&&Z!=null&&c(t,["setup","outputAudioTranscription"],Z);const F=u(i,["realtimeInputConfig"]);t!==void 0&&F!=null&&c(t,["setup","realtimeInputConfig"],F);const $=u(i,["contextWindowCompression"]);t!==void 0&&$!=null&&c(t,["setup","contextWindowCompression"],$);const te=u(i,["proactivity"]);t!==void 0&&te!=null&&c(t,["setup","proactivity"],te);const ne=u(i,["explicitVadSignal"]);return t!==void 0&&ne!=null&&c(t,["setup","explicitVadSignal"],ne),o}function HE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],_e(i,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],LE(r,o)),o}function qE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],_e(i,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],GE(r,o)),o}function VE(i){const t={},o=u(i,["musicGenerationConfig"]);return o!=null&&c(t,["musicGenerationConfig"],o),t}function OE(i){const t={},o=u(i,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["weightedPrompts"],a)}return t}function zE(i){const t={},o=u(i,["media"]);if(o!=null){let h=Jh(o);Array.isArray(h)&&(h=h.map(v=>wa(v))),c(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],wa(Xh(a)));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const d=u(i,["video"]);d!=null&&c(t,["video"],wa(Yh(d)));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function BE(i){const t={},o=u(i,["media"]);if(o!=null){let h=Jh(o);Array.isArray(h)&&(h=h.map(v=>v)),c(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],Xh(a));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const d=u(i,["video"]);d!=null&&c(t,["video"],Yh(d));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function PE(i){const t={},o=u(i,["setupComplete"]);o!=null&&c(t,["setupComplete"],o);const a=u(i,["serverContent"]);a!=null&&c(t,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&c(t,["toolCall"],r);const d=u(i,["toolCallCancellation"]);d!=null&&c(t,["toolCallCancellation"],d);const m=u(i,["usageMetadata"]);m!=null&&c(t,["usageMetadata"],XE(m));const g=u(i,["goAway"]);g!=null&&c(t,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);y!=null&&c(t,["sessionResumptionUpdate"],y);const h=u(i,["voiceActivityDetectionSignal"]);return h!=null&&c(t,["voiceActivityDetectionSignal"],h),t}function kE(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],bE(d));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],ME(m));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],wa(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const E=u(i,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const _=u(i,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function FE(i){const t={},o=u(i,["handle"]);if(o!=null&&c(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function JE(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const m=u(i,["codeExecution"]);if(m!=null&&c(t,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],wE(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],UE(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function YE(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let E=o;Array.isArray(E)&&(E=E.map(_=>IE(_))),c(t,["functionDeclarations"],E)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const d=u(i,["computerUse"]);if(d!=null&&c(t,["computerUse"],d),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=u(i,["codeExecution"]);m!=null&&c(t,["codeExecution"],m);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function XE(i){const t={},o=u(i,["promptTokenCount"]);o!=null&&c(t,["promptTokenCount"],o);const a=u(i,["cachedContentTokenCount"]);a!=null&&c(t,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const d=u(i,["toolUsePromptTokenCount"]);d!=null&&c(t,["toolUsePromptTokenCount"],d);const m=u(i,["thoughtsTokenCount"]);m!=null&&c(t,["thoughtsTokenCount"],m);const g=u(i,["totalTokenCount"]);g!=null&&c(t,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(U=>U)),c(t,["promptTokensDetails"],C)}const h=u(i,["cacheTokensDetails"]);if(h!=null){let C=h;Array.isArray(C)&&(C=C.map(U=>U)),c(t,["cacheTokensDetails"],C)}const v=u(i,["candidatesTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(U=>U)),c(t,["responseTokensDetails"],C)}const E=u(i,["toolUsePromptTokensDetails"]);if(E!=null){let C=E;Array.isArray(C)&&(C=C.map(U=>U)),c(t,["toolUsePromptTokensDetails"],C)}const _=u(i,["trafficType"]);return _!=null&&c(t,["trafficType"],_),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KE(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function QE(i){const t={},o=u(i,["content"]);o!=null&&c(t,["content"],o);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],ZE(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const d=u(i,["finishReason"]);d!=null&&c(t,["finishReason"],d);const m=u(i,["avgLogprobs"]);m!=null&&c(t,["avgLogprobs"],m);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const v=u(i,["safetyRatings"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(C=>C)),c(t,["safetyRatings"],_)}const E=u(i,["urlContextMetadata"]);return E!=null&&c(t,["urlContextMetadata"],E),t}function ZE(i){const t={},o=u(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function $E(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],_e(i,a));const r=u(t,["contents"]);if(r!=null){let d=Vt(r);Array.isArray(d)&&(d=d.map(m=>m)),c(o,["contents"],d)}return o}function WE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>d)),c(t,["tokensInfo"],r)}return t}function jE(i){const t={},o=u(i,["values"]);o!=null&&c(t,["values"],o);const a=u(i,["statistics"]);return a!=null&&c(t,["statistics"],e_(a)),t}function e_(i){const t={},o=u(i,["truncated"]);o!=null&&c(t,["truncated"],o);const a=u(i,["token_count"]);return a!=null&&c(t,["tokenCount"],a),t}function Ba(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>uA(d))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function t_(i){const t={},o=u(i,["controlType"]);o!=null&&c(t,["controlType"],o);const a=u(i,["enableControlImageComputation"]);return a!=null&&c(t,["computeControl"],a),t}function n_(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function i_(i,t){const o={},a=u(i,["systemInstruction"]);t!==void 0&&a!=null&&c(t,["systemInstruction"],ot(a));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let m=r;Array.isArray(m)&&(m=m.map(g=>sg(g))),c(t,["tools"],m)}const d=u(i,["generationConfig"]);return t!==void 0&&d!=null&&c(t,["generationConfig"],K_(d)),o}function l_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],_e(i,a));const r=u(t,["contents"]);if(r!=null){let m=Vt(r);Array.isArray(m)&&(m=m.map(g=>Ba(g))),c(o,["contents"],m)}const d=u(t,["config"]);return d!=null&&n_(d),o}function o_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],_e(i,a));const r=u(t,["contents"]);if(r!=null){let m=Vt(r);Array.isArray(m)&&(m=m.map(g=>g)),c(o,["contents"],m)}const d=u(t,["config"]);return d!=null&&i_(d,o),o}function a_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["totalTokens"]);a!=null&&c(t,["totalTokens"],a);const r=u(i,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function s_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["totalTokens"]);return a!=null&&c(t,["totalTokens"],a),t}function r_(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],_e(i,a)),o}function u_(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],_e(i,a)),o}function c_(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function d_(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function f_(i,t){const o={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const d=u(i,["numberOfImages"]);t!==void 0&&d!=null&&c(t,["parameters","sampleCount"],d);const m=u(i,["aspectRatio"]);t!==void 0&&m!=null&&c(t,["parameters","aspectRatio"],m);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const E=u(i,["includeSafetyAttributes"]);t!==void 0&&E!=null&&c(t,["parameters","includeSafetyAttributes"],E);const _=u(i,["includeRaiReason"]);t!==void 0&&_!=null&&c(t,["parameters","includeRaiReason"],_);const C=u(i,["language"]);t!==void 0&&C!=null&&c(t,["parameters","language"],C);const U=u(i,["outputMimeType"]);t!==void 0&&U!=null&&c(t,["parameters","outputOptions","mimeType"],U);const G=u(i,["outputCompressionQuality"]);t!==void 0&&G!=null&&c(t,["parameters","outputOptions","compressionQuality"],G);const L=u(i,["addWatermark"]);t!==void 0&&L!=null&&c(t,["parameters","addWatermark"],L);const V=u(i,["labels"]);t!==void 0&&V!=null&&c(t,["labels"],V);const Z=u(i,["editMode"]);t!==void 0&&Z!=null&&c(t,["parameters","editMode"],Z);const F=u(i,["baseSteps"]);return t!==void 0&&F!=null&&c(t,["parameters","editConfig","baseSteps"],F),o}function p_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],_e(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["referenceImages"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>hA(y))),c(o,["instances[0]","referenceImages"],g)}const m=u(t,["config"]);return m!=null&&f_(m,o),o}function m_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>Pa(d))),c(t,["generatedImages"],r)}return t}function h_(i,t){const o={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const d=u(i,["outputDimensionality"]);if(t!==void 0&&d!=null&&c(t,["requests[]","outputDimensionality"],d),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function g_(i,t){const o={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["instances[]","task_type"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const d=u(i,["outputDimensionality"]);t!==void 0&&d!=null&&c(t,["parameters","outputDimensionality"],d);const m=u(i,["mimeType"]);t!==void 0&&m!=null&&c(t,["instances[]","mimeType"],m);const g=u(i,["autoTruncate"]);return t!==void 0&&g!=null&&c(t,["parameters","autoTruncate"],g),o}function y_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],_e(i,a));const r=u(t,["contents"]);if(r!=null){let g=Ou(i,r);Array.isArray(g)&&(g=g.map(y=>y)),c(o,["requests[]","content"],g)}const d=u(t,["config"]);d!=null&&h_(d,o);const m=u(t,["model"]);return m!==void 0&&c(o,["requests[]","model"],_e(i,m)),o}function v_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],_e(i,a));const r=u(t,["contents"]);if(r!=null){let m=Ou(i,r);Array.isArray(m)&&(m=m.map(g=>g)),c(o,["instances[]","content"],m)}const d=u(t,["config"]);return d!=null&&g_(d,o),o}function S_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["embeddings"],d)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function T_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions[]","embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>jE(m))),c(t,["embeddings"],d)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function E_(i){const t={},o=u(i,["endpoint"]);o!=null&&c(t,["name"],o);const a=u(i,["deployedModelId"]);return a!=null&&c(t,["deployedModelId"],a),t}function __(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function A_(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function C_(i){const t={},o=u(i,["mode"]);o!=null&&c(t,["mode"],o);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function x_(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(t,["description"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const m=u(i,["response"]);m!=null&&c(t,["response"],m);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function N_(i,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],Ba(ot(r)));const d=u(t,["temperature"]);d!=null&&c(a,["temperature"],d);const m=u(t,["topP"]);m!=null&&c(a,["topP"],m);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const E=u(t,["responseLogprobs"]);E!=null&&c(a,["responseLogprobs"],E);const _=u(t,["logprobs"]);_!=null&&c(a,["logprobs"],_);const C=u(t,["presencePenalty"]);C!=null&&c(a,["presencePenalty"],C);const U=u(t,["frequencyPenalty"]);U!=null&&c(a,["frequencyPenalty"],U);const G=u(t,["seed"]);G!=null&&c(a,["seed"],G);const L=u(t,["responseMimeType"]);L!=null&&c(a,["responseMimeType"],L);const V=u(t,["responseSchema"]);V!=null&&c(a,["responseSchema"],zu(V));const Z=u(t,["responseJsonSchema"]);if(Z!=null&&c(a,["responseJsonSchema"],Z),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=u(t,["safetySettings"]);if(o!==void 0&&F!=null){let z=F;Array.isArray(z)&&(z=z.map(xe=>gA(xe))),c(o,["safetySettings"],z)}const $=u(t,["tools"]);if(o!==void 0&&$!=null){let z=ol($);Array.isArray(z)&&(z=z.map(xe=>AA(ll(xe)))),c(o,["tools"],z)}const te=u(t,["toolConfig"]);if(o!==void 0&&te!=null&&c(o,["toolConfig"],_A(te)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ne=u(t,["cachedContent"]);o!==void 0&&ne!=null&&c(o,["cachedContent"],vn(i,ne));const Y=u(t,["responseModalities"]);Y!=null&&c(a,["responseModalities"],Y);const fe=u(t,["mediaResolution"]);fe!=null&&c(a,["mediaResolution"],fe);const X=u(t,["speechConfig"]);if(X!=null&&c(a,["speechConfig"],Bu(X)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const de=u(t,["thinkingConfig"]);de!=null&&c(a,["thinkingConfig"],de);const pe=u(t,["imageConfig"]);pe!=null&&c(a,["imageConfig"],j_(pe));const M=u(t,["enableEnhancedCivicAnswers"]);return M!=null&&c(a,["enableEnhancedCivicAnswers"],M),a}function R_(i,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],ot(r));const d=u(t,["temperature"]);d!=null&&c(a,["temperature"],d);const m=u(t,["topP"]);m!=null&&c(a,["topP"],m);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const E=u(t,["responseLogprobs"]);E!=null&&c(a,["responseLogprobs"],E);const _=u(t,["logprobs"]);_!=null&&c(a,["logprobs"],_);const C=u(t,["presencePenalty"]);C!=null&&c(a,["presencePenalty"],C);const U=u(t,["frequencyPenalty"]);U!=null&&c(a,["frequencyPenalty"],U);const G=u(t,["seed"]);G!=null&&c(a,["seed"],G);const L=u(t,["responseMimeType"]);L!=null&&c(a,["responseMimeType"],L);const V=u(t,["responseSchema"]);V!=null&&c(a,["responseSchema"],zu(V));const Z=u(t,["responseJsonSchema"]);Z!=null&&c(a,["responseJsonSchema"],Z);const F=u(t,["routingConfig"]);F!=null&&c(a,["routingConfig"],F);const $=u(t,["modelSelectionConfig"]);$!=null&&c(a,["modelConfig"],$);const te=u(t,["safetySettings"]);if(o!==void 0&&te!=null){let q=te;Array.isArray(q)&&(q=q.map(J=>J)),c(o,["safetySettings"],q)}const ne=u(t,["tools"]);if(o!==void 0&&ne!=null){let q=ol(ne);Array.isArray(q)&&(q=q.map(J=>sg(ll(J)))),c(o,["tools"],q)}const Y=u(t,["toolConfig"]);o!==void 0&&Y!=null&&c(o,["toolConfig"],Y);const fe=u(t,["labels"]);o!==void 0&&fe!=null&&c(o,["labels"],fe);const X=u(t,["cachedContent"]);o!==void 0&&X!=null&&c(o,["cachedContent"],vn(i,X));const de=u(t,["responseModalities"]);de!=null&&c(a,["responseModalities"],de);const pe=u(t,["mediaResolution"]);pe!=null&&c(a,["mediaResolution"],pe);const M=u(t,["speechConfig"]);M!=null&&c(a,["speechConfig"],Bu(M));const z=u(t,["audioTimestamp"]);z!=null&&c(a,["audioTimestamp"],z);const xe=u(t,["thinkingConfig"]);xe!=null&&c(a,["thinkingConfig"],xe);const Ke=u(t,["imageConfig"]);if(Ke!=null&&c(a,["imageConfig"],eA(Ke)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return a}function _h(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],_e(i,a));const r=u(t,["contents"]);if(r!=null){let m=Vt(r);Array.isArray(m)&&(m=m.map(g=>Ba(g))),c(o,["contents"],m)}const d=u(t,["config"]);return d!=null&&c(o,["generationConfig"],N_(i,d,o)),o}function Ah(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],_e(i,a));const r=u(t,["contents"]);if(r!=null){let m=Vt(r);Array.isArray(m)&&(m=m.map(g=>g)),c(o,["contents"],m)}const d=u(t,["config"]);return d!=null&&c(o,["generationConfig"],R_(i,d,o)),o}function Ch(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>QE(h))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const d=u(i,["promptFeedback"]);d!=null&&c(t,["promptFeedback"],d);const m=u(i,["responseId"]);m!=null&&c(t,["responseId"],m);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function xh(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(v=>v)),c(t,["candidates"],h)}const r=u(i,["createTime"]);r!=null&&c(t,["createTime"],r);const d=u(i,["modelVersion"]);d!=null&&c(t,["modelVersion"],d);const m=u(i,["promptFeedback"]);m!=null&&c(t,["promptFeedback"],m);const g=u(i,["responseId"]);g!=null&&c(t,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function b_(i,t){const o={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const d=u(i,["guidanceScale"]);if(t!==void 0&&d!=null&&c(t,["parameters","guidanceScale"],d),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=u(i,["safetyFilterLevel"]);t!==void 0&&m!=null&&c(t,["parameters","safetySetting"],m);const g=u(i,["personGeneration"]);t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g);const y=u(i,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const h=u(i,["includeRaiReason"]);t!==void 0&&h!=null&&c(t,["parameters","includeRaiReason"],h);const v=u(i,["language"]);t!==void 0&&v!=null&&c(t,["parameters","language"],v);const E=u(i,["outputMimeType"]);t!==void 0&&E!=null&&c(t,["parameters","outputOptions","mimeType"],E);const _=u(i,["outputCompressionQuality"]);if(t!==void 0&&_!=null&&c(t,["parameters","outputOptions","compressionQuality"],_),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=u(i,["imageSize"]);if(t!==void 0&&C!=null&&c(t,["parameters","sampleImageSize"],C),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function M_(i,t){const o={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const d=u(i,["numberOfImages"]);t!==void 0&&d!=null&&c(t,["parameters","sampleCount"],d);const m=u(i,["aspectRatio"]);t!==void 0&&m!=null&&c(t,["parameters","aspectRatio"],m);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const E=u(i,["includeSafetyAttributes"]);t!==void 0&&E!=null&&c(t,["parameters","includeSafetyAttributes"],E);const _=u(i,["includeRaiReason"]);t!==void 0&&_!=null&&c(t,["parameters","includeRaiReason"],_);const C=u(i,["language"]);t!==void 0&&C!=null&&c(t,["parameters","language"],C);const U=u(i,["outputMimeType"]);t!==void 0&&U!=null&&c(t,["parameters","outputOptions","mimeType"],U);const G=u(i,["outputCompressionQuality"]);t!==void 0&&G!=null&&c(t,["parameters","outputOptions","compressionQuality"],G);const L=u(i,["addWatermark"]);t!==void 0&&L!=null&&c(t,["parameters","addWatermark"],L);const V=u(i,["labels"]);t!==void 0&&V!=null&&c(t,["labels"],V);const Z=u(i,["imageSize"]);t!==void 0&&Z!=null&&c(t,["parameters","sampleImageSize"],Z);const F=u(i,["enhancePrompt"]);return t!==void 0&&F!=null&&c(t,["parameters","enhancePrompt"],F),o}function I_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],_e(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["config"]);return d!=null&&b_(d,o),o}function D_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],_e(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["config"]);return d!=null&&M_(d,o),o}function w_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>F_(m))),c(t,["generatedImages"],d)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],og(r)),t}function U_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>Pa(m))),c(t,["generatedImages"],d)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],ag(r)),t}function L_(i,t){const o={},a=u(i,["numberOfVideos"]);if(t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=u(i,["aspectRatio"]);t!==void 0&&d!=null&&c(t,["parameters","aspectRatio"],d);const m=u(i,["resolution"]);t!==void 0&&m!=null&&c(t,["parameters","resolution"],m);const g=u(i,["personGeneration"]);if(t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(i,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const h=u(i,["enhancePrompt"]);if(t!==void 0&&h!=null&&c(t,["parameters","enhancePrompt"],h),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(i,["lastFrame"]);t!==void 0&&v!=null&&c(t,["instances[0]","lastFrame"],ka(v));const E=u(i,["referenceImages"]);if(t!==void 0&&E!=null){let _=E;Array.isArray(_)&&(_=_.map(C=>HA(C))),c(t,["instances[0]","referenceImages"],_)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function G_(i,t){const o={},a=u(i,["numberOfVideos"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const d=u(i,["fps"]);t!==void 0&&d!=null&&c(t,["parameters","fps"],d);const m=u(i,["durationSeconds"]);t!==void 0&&m!=null&&c(t,["parameters","durationSeconds"],m);const g=u(i,["seed"]);t!==void 0&&g!=null&&c(t,["parameters","seed"],g);const y=u(i,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const h=u(i,["resolution"]);t!==void 0&&h!=null&&c(t,["parameters","resolution"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const E=u(i,["pubsubTopic"]);t!==void 0&&E!=null&&c(t,["parameters","pubsubTopic"],E);const _=u(i,["negativePrompt"]);t!==void 0&&_!=null&&c(t,["parameters","negativePrompt"],_);const C=u(i,["enhancePrompt"]);t!==void 0&&C!=null&&c(t,["parameters","enhancePrompt"],C);const U=u(i,["generateAudio"]);t!==void 0&&U!=null&&c(t,["parameters","generateAudio"],U);const G=u(i,["lastFrame"]);t!==void 0&&G!=null&&c(t,["instances[0]","lastFrame"],Jt(G));const L=u(i,["referenceImages"]);if(t!==void 0&&L!=null){let F=L;Array.isArray(F)&&(F=F.map($=>qA($))),c(t,["instances[0]","referenceImages"],F)}const V=u(i,["mask"]);t!==void 0&&V!=null&&c(t,["instances[0]","mask"],GA(V));const Z=u(i,["compressionQuality"]);return t!==void 0&&Z!=null&&c(t,["parameters","compressionQuality"],Z),o}function H_(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response","generateVideoResponse"]);return m!=null&&c(t,["response"],z_(m)),t}function q_(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response"]);return m!=null&&c(t,["response"],B_(m)),t}function V_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],_e(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["image"]);d!=null&&c(o,["instances[0]","image"],ka(d));const m=u(t,["video"]);m!=null&&c(o,["instances[0]","video"],rg(m));const g=u(t,["source"]);g!=null&&P_(g,o);const y=u(t,["config"]);return y!=null&&L_(y,o),o}function O_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],_e(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const d=u(t,["image"]);d!=null&&c(o,["instances[0]","image"],Jt(d));const m=u(t,["video"]);m!=null&&c(o,["instances[0]","video"],ug(m));const g=u(t,["source"]);g!=null&&k_(g,o);const y=u(t,["config"]);return y!=null&&G_(y,o),o}function z_(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>Y_(m))),c(t,["generatedVideos"],d)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function B_(i){const t={},o=u(i,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>X_(m))),c(t,["generatedVideos"],d)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function P_(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],ka(r));const d=u(i,["video"]);return t!==void 0&&d!=null&&c(t,["instances[0]","video"],rg(d)),o}function k_(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Jt(r));const d=u(i,["video"]);return t!==void 0&&d!=null&&c(t,["instances[0]","video"],ug(d)),o}function F_(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["image"],tA(o));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);return r!=null&&c(t,["safetyAttributes"],og(r)),t}function Pa(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["image"],lg(o));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);r!=null&&c(t,["safetyAttributes"],ag(r));const d=u(i,["prompt"]);return d!=null&&c(t,["enhancedPrompt"],d),t}function J_(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["mask"],lg(o));const a=u(i,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>d)),c(t,["labels"],r)}return t}function Y_(i){const t={},o=u(i,["video"]);return o!=null&&c(t,["video"],UA(o)),t}function X_(i){const t={},o=u(i,["_self"]);return o!=null&&c(t,["video"],LA(o)),t}function K_(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const d=u(i,["candidateCount"]);d!=null&&c(t,["candidateCount"],d);const m=u(i,["enableAffectiveDialog"]);m!=null&&c(t,["enableAffectiveDialog"],m);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const E=u(i,["presencePenalty"]);E!=null&&c(t,["presencePenalty"],E);const _=u(i,["responseLogprobs"]);_!=null&&c(t,["responseLogprobs"],_);const C=u(i,["responseMimeType"]);C!=null&&c(t,["responseMimeType"],C);const U=u(i,["responseModalities"]);U!=null&&c(t,["responseModalities"],U);const G=u(i,["responseSchema"]);G!=null&&c(t,["responseSchema"],G);const L=u(i,["routingConfig"]);L!=null&&c(t,["routingConfig"],L);const V=u(i,["seed"]);V!=null&&c(t,["seed"],V);const Z=u(i,["speechConfig"]);Z!=null&&c(t,["speechConfig"],Z);const F=u(i,["stopSequences"]);F!=null&&c(t,["stopSequences"],F);const $=u(i,["temperature"]);$!=null&&c(t,["temperature"],$);const te=u(i,["thinkingConfig"]);te!=null&&c(t,["thinkingConfig"],te);const ne=u(i,["topK"]);ne!=null&&c(t,["topK"],ne);const Y=u(i,["topP"]);if(Y!=null&&c(t,["topP"],Y),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function Q_(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],_e(i,a)),o}function Z_(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],_e(i,a)),o}function $_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function W_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function j_(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function eA(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=u(i,["imageSize"]);a!=null&&c(t,["imageSize"],a);const r=u(i,["outputMimeType"]);r!=null&&c(t,["imageOutputOptions","mimeType"],r);const d=u(i,["outputCompressionQuality"]);return d!=null&&c(t,["imageOutputOptions","compressionQuality"],d),t}function tA(i){const t={},o=u(i,["bytesBase64Encoded"]);o!=null&&c(t,["imageBytes"],Jn(o));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function lg(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["imageBytes"],Jn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function ka(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=u(i,["imageBytes"]);o!=null&&c(t,["bytesBase64Encoded"],Jn(o));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Jt(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const a=u(i,["imageBytes"]);a!=null&&c(t,["bytesBase64Encoded"],Jn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function nA(i,t,o){const a={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const d=u(t,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const m=u(t,["filter"]);o!==void 0&&m!=null&&c(o,["_query","filter"],m);const g=u(t,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],$h(i,g)),a}function iA(i,t,o){const a={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const d=u(t,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const m=u(t,["filter"]);o!==void 0&&m!=null&&c(o,["_query","filter"],m);const g=u(t,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],$h(i,g)),a}function lA(i,t){const o={},a=u(t,["config"]);return a!=null&&nA(i,a,o),o}function oA(i,t){const o={},a=u(t,["config"]);return a!=null&&iA(i,a,o),o}function aA(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let d=Wh(r);Array.isArray(d)&&(d=d.map(m=>Nu(m))),c(t,["models"],d)}return t}function sA(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let d=Wh(r);Array.isArray(d)&&(d=d.map(m=>Ru(m))),c(t,["models"],d)}return t}function rA(i){const t={},o=u(i,["maskMode"]);o!=null&&c(t,["maskMode"],o);const a=u(i,["segmentationClasses"]);a!=null&&c(t,["maskClasses"],a);const r=u(i,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function Nu(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const d=u(i,["version"]);d!=null&&c(t,["version"],d);const m=u(i,["_self"]);m!=null&&c(t,["tunedModelInfo"],CA(m));const g=u(i,["inputTokenLimit"]);g!=null&&c(t,["inputTokenLimit"],g);const y=u(i,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const h=u(i,["supportedGenerationMethods"]);h!=null&&c(t,["supportedActions"],h);const v=u(i,["temperature"]);v!=null&&c(t,["temperature"],v);const E=u(i,["maxTemperature"]);E!=null&&c(t,["maxTemperature"],E);const _=u(i,["topP"]);_!=null&&c(t,["topP"],_);const C=u(i,["topK"]);C!=null&&c(t,["topK"],C);const U=u(i,["thinking"]);return U!=null&&c(t,["thinking"],U),t}function Ru(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const d=u(i,["versionId"]);d!=null&&c(t,["version"],d);const m=u(i,["deployedModels"]);if(m!=null){let E=m;Array.isArray(E)&&(E=E.map(_=>E_(_))),c(t,["endpoints"],E)}const g=u(i,["labels"]);g!=null&&c(t,["labels"],g);const y=u(i,["_self"]);y!=null&&c(t,["tunedModelInfo"],xA(y));const h=u(i,["defaultCheckpointId"]);h!=null&&c(t,["defaultCheckpointId"],h);const v=u(i,["checkpoints"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(_=>_)),c(t,["checkpoints"],E)}return t}function uA(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],__(d));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],A_(m));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],KE(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const E=u(i,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const _=u(i,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function cA(i){const t={},o=u(i,["productImage"]);return o!=null&&c(t,["image"],Jt(o)),t}function dA(i,t){const o={},a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const d=u(i,["outputGcsUri"]);t!==void 0&&d!=null&&c(t,["parameters","storageUri"],d);const m=u(i,["seed"]);t!==void 0&&m!=null&&c(t,["parameters","seed"],m);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const h=u(i,["addWatermark"]);t!==void 0&&h!=null&&c(t,["parameters","addWatermark"],h);const v=u(i,["outputMimeType"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","mimeType"],v);const E=u(i,["outputCompressionQuality"]);t!==void 0&&E!=null&&c(t,["parameters","outputOptions","compressionQuality"],E);const _=u(i,["enhancePrompt"]);t!==void 0&&_!=null&&c(t,["parameters","enhancePrompt"],_);const C=u(i,["labels"]);return t!==void 0&&C!=null&&c(t,["labels"],C),o}function fA(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],_e(i,a));const r=u(t,["source"]);r!=null&&mA(r,o);const d=u(t,["config"]);return d!=null&&dA(d,o),o}function pA(i){const t={},o=u(i,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>Pa(r))),c(t,["generatedImages"],a)}return t}function mA(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],Jt(r));const d=u(i,["productImages"]);if(t!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>cA(g))),c(t,["instances[0]","productImages"],m)}return o}function hA(i){const t={},o=u(i,["referenceImage"]);o!=null&&c(t,["referenceImage"],Jt(o));const a=u(i,["referenceId"]);a!=null&&c(t,["referenceId"],a);const r=u(i,["referenceType"]);r!=null&&c(t,["referenceType"],r);const d=u(i,["maskImageConfig"]);d!=null&&c(t,["maskImageConfig"],rA(d));const m=u(i,["controlImageConfig"]);m!=null&&c(t,["controlImageConfig"],t_(m));const g=u(i,["styleImageConfig"]);g!=null&&c(t,["styleImageConfig"],g);const y=u(i,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function og(i){const t={},o=u(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function ag(i){const t={},o=u(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function gA(i){const t={},o=u(i,["category"]);if(o!=null&&c(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function yA(i){const t={},o=u(i,["image"]);return o!=null&&c(t,["image"],Jt(o)),t}function vA(i,t){const o={},a=u(i,["mode"]);t!==void 0&&a!=null&&c(t,["parameters","mode"],a);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const d=u(i,["confidenceThreshold"]);t!==void 0&&d!=null&&c(t,["parameters","confidenceThreshold"],d);const m=u(i,["maskDilation"]);t!==void 0&&m!=null&&c(t,["parameters","maskDilation"],m);const g=u(i,["binaryColorThreshold"]);t!==void 0&&g!=null&&c(t,["parameters","binaryColorThreshold"],g);const y=u(i,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),o}function SA(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],_e(i,a));const r=u(t,["source"]);r!=null&&EA(r,o);const d=u(t,["config"]);return d!=null&&vA(d,o),o}function TA(i){const t={},o=u(i,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>J_(r))),c(t,["generatedMasks"],a)}return t}function EA(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Jt(r));const d=u(i,["scribbleImage"]);return t!==void 0&&d!=null&&c(t,["instances[0]","scribble"],yA(d)),o}function _A(i){const t={},o=u(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],C_(o));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function AA(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const m=u(i,["codeExecution"]);if(m!=null&&c(t,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],$_(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],W_(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function sg(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let E=o;Array.isArray(E)&&(E=E.map(_=>x_(_))),c(t,["functionDeclarations"],E)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const d=u(i,["computerUse"]);if(d!=null&&c(t,["computerUse"],d),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=u(i,["codeExecution"]);m!=null&&c(t,["codeExecution"],m);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function CA(i){const t={},o=u(i,["baseModel"]);o!=null&&c(t,["baseModel"],o);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function xA(i){const t={},o=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&c(t,["baseModel"],o);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function NA(i,t){const o={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const d=u(i,["defaultCheckpointId"]);return t!==void 0&&d!=null&&c(t,["defaultCheckpointId"],d),o}function RA(i,t){const o={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const d=u(i,["defaultCheckpointId"]);return t!==void 0&&d!=null&&c(t,["defaultCheckpointId"],d),o}function bA(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","name"],_e(i,a));const r=u(t,["config"]);return r!=null&&NA(r,o),o}function MA(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],_e(i,a));const r=u(t,["config"]);return r!=null&&RA(r,o),o}function IA(i,t){const o={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const d=u(i,["personGeneration"]);t!==void 0&&d!=null&&c(t,["parameters","personGeneration"],d);const m=u(i,["includeRaiReason"]);t!==void 0&&m!=null&&c(t,["parameters","includeRaiReason"],m);const g=u(i,["outputMimeType"]);t!==void 0&&g!=null&&c(t,["parameters","outputOptions","mimeType"],g);const y=u(i,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const h=u(i,["enhanceInputImage"]);t!==void 0&&h!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],h);const v=u(i,["imagePreservationFactor"]);t!==void 0&&v!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const E=u(i,["labels"]);t!==void 0&&E!=null&&c(t,["labels"],E);const _=u(i,["numberOfImages"]);t!==void 0&&_!=null&&c(t,["parameters","sampleCount"],_);const C=u(i,["mode"]);return t!==void 0&&C!=null&&c(t,["parameters","mode"],C),o}function DA(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],_e(i,a));const r=u(t,["image"]);r!=null&&c(o,["instances[0]","image"],Jt(r));const d=u(t,["upscaleFactor"]);d!=null&&c(o,["parameters","upscaleConfig","upscaleFactor"],d);const m=u(t,["config"]);return m!=null&&IA(m,o),o}function wA(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>Pa(d))),c(t,["generatedImages"],r)}return t}function UA(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],Jn(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function LA(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],Jn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function GA(i){const t={},o=u(i,["image"]);o!=null&&c(t,["_self"],Jt(o));const a=u(i,["maskMode"]);return a!=null&&c(t,["maskMode"],a),t}function HA(i){const t={},o=u(i,["image"]);o!=null&&c(t,["image"],ka(o));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function qA(i){const t={},o=u(i,["image"]);o!=null&&c(t,["image"],Jt(o));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function rg(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const a=u(i,["videoBytes"]);a!=null&&c(t,["encodedVideo"],Jn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function ug(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["gcsUri"],o);const a=u(i,["videoBytes"]);a!=null&&c(t,["bytesBase64Encoded"],Jn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VA(i,t){const o={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["displayName"],a),o}function OA(i){const t={},o=u(i,["config"]);return o!=null&&VA(o,t),t}function zA(i,t){const o={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),o}function BA(i){const t={},o=u(i,["name"]);o!=null&&c(t,["_url","name"],o);const a=u(i,["config"]);return a!=null&&zA(a,t),t}function PA(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function kA(i,t){const o={},a=u(i,["customMetadata"]);if(t!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["customMetadata"],d)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),o}function FA(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response"]);return m!=null&&c(t,["response"],YA(m)),t}function JA(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const a=u(i,["fileName"]);a!=null&&c(t,["fileName"],a);const r=u(i,["config"]);return r!=null&&kA(r,t),t}function YA(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function XA(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function KA(i){const t={},o=u(i,["config"]);return o!=null&&XA(o,t),t}function QA(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["fileSearchStores"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["fileSearchStores"],d)}return t}function cg(i,t){const o={},a=u(i,["mimeType"]);t!==void 0&&a!=null&&c(t,["mimeType"],a);const r=u(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const d=u(i,["customMetadata"]);if(t!==void 0&&d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>y)),c(t,["customMetadata"],g)}const m=u(i,["chunkingConfig"]);return t!==void 0&&m!=null&&c(t,["chunkingConfig"],m),o}function ZA(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const a=u(i,["config"]);return a!=null&&cg(a,t),t}function $A(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WA="Content-Type",jA="X-Server-Timeout",eC="User-Agent",bu="x-goog-api-client",tC="1.34.0",nC=`google-genai-sdk/${tC}`,iC="v1beta1",lC="v1beta";class oC{constructor(t){var o,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:iC,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:lC,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,a){const r=[this.getRequestUrlInternal(o)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,o,a);if(t.queryParams)for(const[m,g]of Object.entries(t.queryParams))r.searchParams.append(m,String(g));let d={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=t.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,o,r.toString(),t.abortSignal),this.unaryApiCall(r,d,t.httpMethod)}patchHttpOptions(t,o){const a=JSON.parse(JSON.stringify(t));for(const[r,d]of Object.entries(o))typeof d=="object"?a[r]=Object.assign(Object.assign({},a[r]),d):d!==void 0&&(a[r]=d);return a}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,o,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let d={};return d.body=t.body,d=await this.includeExtraHttpOptionsToRequestInit(d,o,r.toString(),t.abortSignal),this.streamApiCall(r,d,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,a,r){if(o&&o.timeout||r){const d=new AbortController,m=d.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const g=setTimeout(()=>d.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{d.abort()}),t.signal=m}return o&&o.extraBody!==null&&aC(t,o.extraBody),t.headers=await this.getHeadersInternal(o,a),t}async unaryApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await Nh(r),new Au(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await Nh(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return kt(this,arguments,function*(){var a;const r=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),d=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let m="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:v}=yield ae(r.read());if(h){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const E=d.decode(v,{stream:!0});try{const U=JSON.parse(E);if("error"in U){const G=JSON.parse(JSON.stringify(U.error)),L=G.status,V=G.code,Z=`got status: ${L}. ${JSON.stringify(U)}`;if(V>=400&&V<600)throw new za({message:Z,status:V})}}catch(U){if(U.name==="ApiError")throw U}m+=E;let _=-1,C=0;for(;;){_=-1,C=0;for(const L of y){const V=m.indexOf(L);V!==-1&&(_===-1||V<_)&&(_=V,C=L.length)}if(_===-1)break;const U=m.substring(0,_);m=m.substring(_+C);const G=U.trim();if(G.startsWith(g)){const L=G.substring(g.length).trim();try{const V=new Response(L,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ae(new Au(V))}catch(V){throw new Error(`exception parsing stream chunk ${L}. ${V}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,o){return fetch(t,o).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},o=nC+" "+this.clientOptions.userAgentExtra;return t[eC]=o,t[bu]=o,t[WA]="application/json",t}async getHeadersInternal(t,o){const a=new Headers;if(t&&t.headers){for(const[r,d]of Object.entries(t.headers))a.append(r,d);t.timeout&&t.timeout>0&&a.append(jA,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,o),a}getFileName(t){var o;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(o=a.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),a}async uploadFile(t,o){var a;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const d=this.clientOptions.uploader,m=await d.stat(t);r.sizeBytes=String(m.size);const g=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:m.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},h=this.getFileName(t),v=Q("upload/v1beta/files",y._url),E=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,h,y,o==null?void 0:o.httpOptions);return d.upload(t,E,this)}async uploadFileToFileSearchStore(t,o,a){var r;const d=this.clientOptions.uploader,m=await d.stat(o),g=String(m.size),y=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:m.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(o),E={};a!=null&&cg(a,E);const _=await this.fetchUploadUrl(h,g,y,v,E,a==null?void 0:a.httpOptions);return d.uploadToFileSearchStore(o,_,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,a,r,d,m){var g;let y={};m?y=m:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:t,body:JSON.stringify(d),httpMethod:"POST",httpOptions:y});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=h==null?void 0:h.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Nh(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw o>=400&&o<600?new za({message:r,status:o}):new Error(r)}}function aC(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const d=JSON.parse(i.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))o=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(d,m){const g=Object.assign({},d);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const h=m[y],v=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=a(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const r=a(o,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sC="mcp_used/unknown";let rC=!1;function dg(i){for(const t of i)if(uC(t)||typeof t=="object"&&"inputSchema"in t)return!0;return rC}function fg(i){var t;const o=(t=i[bu])!==null&&t!==void 0?t:"";i[bu]=(o+` ${sC}`).trimStart()}function uC(i){return i!==null&&typeof i=="object"&&i instanceof ku}function cC(i){return kt(this,arguments,function*(o,a=100){let r,d=0;for(;d<a;){const m=yield ae(o.listTools({cursor:r}));for(const g of m.tools)yield yield ae(g),d++;if(!m.nextCursor)break;r=m.nextCursor}})}class ku{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new ku(t,o)}async initialize(){var t,o,a,r;if(this.mcpTools.length>0)return;const d={},m=[];for(const v of this.mcpClients)try{for(var g=!0,y=(o=void 0,Ft(cC(v))),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const E=r;m.push(E);const _=E.name;if(d[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);d[_]=v}}catch(E){o={error:E}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}this.mcpTools=m,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),PS(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const m=await r.callTool({name:a.name,arguments:a.args},void 0,d);o.push({functionResponse:{name:a.name,response:m.isError?{error:m}:m}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function dC(i,t,o){const a=new LS;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(a,r),t(a)}class fC{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a}async connect(t){var o,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),m=hC(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const v=new Promise(F=>{h=F}),E=t.callbacks,_=function(){h({})},C=this.apiClient,U={onopen:_,onmessage:F=>{dC(C,E.onmessage,F)},onerror:(o=E==null?void 0:E.onerror)!==null&&o!==void 0?o:function(F){},onclose:(a=E==null?void 0:E.onclose)!==null&&a!==void 0?a:function(F){}},G=this.webSocketFactory.create(y,mC(m),U);G.connect(),await v;const Z={setup:{model:_e(this.apiClient,t.model)}};return G.send(JSON.stringify(Z)),new pC(G,this.apiClient)}}class pC{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=OE(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=VE(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(el.PLAY)}pause(){this.sendPlaybackControl(el.PAUSE)}stop(){this.sendPlaybackControl(el.STOP)}resetContext(){this.sendPlaybackControl(el.RESET_CONTEXT)}close(){this.conn.close()}}function mC(i){const t={};return i.forEach((o,a)=>{t[a]=o}),t}function hC(i){const t=new Headers;for(const[o,a]of Object.entries(i))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function yC(i,t,o){const a=new US;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const d=JSON.parse(r);if(i.isVertexAI()){const m=PE(d);Object.assign(a,m)}else Object.assign(a,d);t(a)}class vC{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a,this.music=new fC(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,a,r,d,m,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const E=this.apiClient.getHeaders();t.config&&t.config.tools&&dg(t.config.tools)&&fg(E);const _=_C(E);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_,v);else{const X=this.apiClient.getApiKey();let de="BidiGenerateContent",pe="key";X!=null&&X.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),de="BidiGenerateContentConstrained",pe="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${de}?${pe}=${X}`}let C=()=>{};const U=new Promise(X=>{C=X}),G=t.callbacks,L=function(){var X;(X=G==null?void 0:G.onopen)===null||X===void 0||X.call(G),C({})},V=this.apiClient,Z={onopen:L,onmessage:X=>{yC(V,G.onmessage,X)},onerror:(o=G==null?void 0:G.onerror)!==null&&o!==void 0?o:function(X){},onclose:(a=G==null?void 0:G.onclose)!==null&&a!==void 0?a:function(X){}},F=this.webSocketFactory.create(v,EC(_),Z);F.connect(),await U;let $=_e(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&$.startsWith("publishers/")){const X=this.apiClient.getProject(),de=this.apiClient.getLocation();$=`projects/${X}/locations/${de}/`+$}let te={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Ua.AUDIO]}:t.config.responseModalities=[Ua.AUDIO]),!((d=t.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ne=(g=(m=t.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[],Y=[];for(const X of ne)if(this.isCallableTool(X)){const de=X;Y.push(await de.tool())}else Y.push(X);Y.length>0&&(t.config.tools=Y);const fe={model:$,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?te=qE(this.apiClient,fe):te=HE(this.apiClient,fe),delete te.config,F.send(JSON.stringify(te)),new TC(F,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const SC={turnComplete:!0};class TC{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let a=[];try{a=Vt(o.turns),t.isVertexAI()||(a=a.map(r=>Ba(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:a,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let a=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?a=o.functionResponses:a=[o.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const d of a){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!t.isVertexAI()&&!("id"in d))throw new Error(gC)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},SC),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:BE(t)}:o={realtimeInput:zE(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function EC(i){const t={};return i.forEach((o,a)=>{t[a]=o}),t}function _C(i){const t=new Headers;for(const[o,a]of Object.entries(i))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rh=10;function bh(i){var t,o,a;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const m of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(il(m)){r=!0;break}if(!r)return!0;const d=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function il(i){return"callTool"in i&&typeof i.callTool=="function"}function AC(i){var t,o,a;return(a=(o=(t=i.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(r=>il(r)))!==null&&a!==void 0?a:!1}function Mh(i){var t;const o=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,r)=>{if(il(a))return;const d=a;d.functionDeclarations&&d.functionDeclarations.length>0&&o.push(r)}),o}function Ih(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CC extends yn{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var a,r,d,m,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!AC(o)||bh(o.config))return await this.generateContentInternal(y);const h=Mh(o);if(h.length>0){const G=h.map(L=>`tools[${L}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${G}.`)}let v,E;const _=Vt(y.contents),C=(d=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&d!==void 0?d:Rh;let U=0;for(;U<C&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const G=v.candidates[0].content,L=[];for(const V of(g=(m=o.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[])if(il(V)){const F=await V.callTool(v.functionCalls);L.push(...F)}U++,E={role:"user",parts:L},y.contents=Vt(y.contents),y.contents.push(G),y.contents.push(E),Ih(y.config)&&(_.push(G),_.push(E))}return Ih(y.config)&&(v.automaticFunctionCallingHistory=_),v},this.generateContentStream=async o=>{var a,r,d,m,g;if(this.maybeMoveToResponseJsonSchem(o),bh(o.config)){const E=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(E)}const y=Mh(o);if(y.length>0){const E=y.map(_=>`tools[${_}]`).join(", ");throw new Error(`Incompatible tools found at ${E}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(d=(r=(a=o==null?void 0:o.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||d===void 0?void 0:d.streamFunctionCallArguments,v=(g=(m=o==null?void 0:o.config)===null||m===void 0?void 0:m.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(h&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(a=>{var r;let d;const m=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?d=y==null?void 0:y.safetyAttributes:m.push(y);let g;return d?g={generatedImages:m,positivePromptSafetyAttributes:d,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:m,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async o=>{var a;const m={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((a=m.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new mi(gn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(m),m)},this.editImage=async o=>{const a={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(a.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async o=>{let a={numberOfImages:1,mode:"upscale"};o.config&&(a=Object.assign(Object.assign({},a),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var a,r,d,m,g,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=o.video)===null||a===void 0)&&a.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((m=(d=o.source)===null||d===void 0?void 0:d.video)===null||m===void 0)&&m.uri&&(!((y=(g=o.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,a,r;const d=(o=t.config)===null||o===void 0?void 0:o.tools;if(!d)return t;const m=await Promise.all(d.map(async y=>il(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:m})};if(g.config.tools=m,t.config&&t.config.tools&&dg(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),fg(h),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(t){var o,a,r;const d=new Map;for(const m of(a=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(il(m)){const g=m,y=await g.tool();for(const h of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(d.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);d.set(h.name,g)}}return d}async processAfcStream(t){var o,a,r;const d=(r=(a=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:Rh;let m=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(h,v,E){return kt(this,arguments,function*(){for(var _,C,U,G,L,V;g<d;){m&&(g++,m=!1);const te=yield ae(h.processParamsMaybeAddMcpUsage(E)),ne=yield ae(h.generateContentStreamInternal(te)),Y=[],fe=[];try{for(var Z=!0,F=(C=void 0,Ft(ne)),$;$=yield ae(F.next()),_=$.done,!_;Z=!0){G=$.value,Z=!1;const X=G;if(yield yield ae(X),X.candidates&&(!((L=X.candidates[0])===null||L===void 0)&&L.content)){fe.push(X.candidates[0].content);for(const de of(V=X.candidates[0].content.parts)!==null&&V!==void 0?V:[])if(g<d&&de.functionCall){if(!de.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(de.functionCall.name)){const pe=yield ae(v.get(de.functionCall.name).callTool([de.functionCall]));Y.push(...pe)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${de.functionCall.name}`)}}}}catch(X){C={error:X}}finally{try{!Z&&!_&&(U=F.return)&&(yield ae(U.call(F)))}finally{if(C)throw C.error}}if(Y.length>0){m=!0;const X=new no;X.candidates=[{content:{role:"user",parts:Y}}],yield yield ae(X);const de=[];de.push(...fe),de.push({role:"user",parts:Y});const pe=Vt(E.contents).concat(de);E.contents=pe}else break}})})(this,y,t)}async generateContentInternal(t){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Ah(this.apiClient,t);return g=Q("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const E=xh(v),_=new no;return Object.assign(_,E),_})}else{const h=_h(this.apiClient,t);return g=Q("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const E=Ch(v),_=new no;return Object.assign(_,E),_})}}async generateContentStreamInternal(t){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Ah(this.apiClient,t);return g=Q("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),m.then(function(E){return kt(this,arguments,function*(){var _,C,U,G;try{for(var L=!0,V=Ft(E),Z;Z=yield ae(V.next()),_=Z.done,!_;L=!0){G=Z.value,L=!1;const F=G,$=xh(yield ae(F.json()));$.sdkHttpResponse={headers:F.headers};const te=new no;Object.assign(te,$),yield yield ae(te)}}catch(F){C={error:F}}finally{try{!L&&!_&&(U=V.return)&&(yield ae(U.call(V)))}finally{if(C)throw C.error}}})})}else{const h=_h(this.apiClient,t);return g=Q("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}),m.then(function(E){return kt(this,arguments,function*(){var _,C,U,G;try{for(var L=!0,V=Ft(E),Z;Z=yield ae(V.next()),_=Z.done,!_;L=!0){G=Z.value,L=!1;const F=G,$=Ch(yield ae(F.json()));$.sdkHttpResponse={headers:F.headers};const te=new no;Object.assign(te,$),yield yield ae(te)}}catch(F){C={error:F}}finally{try{!L&&!_&&(U=V.return)&&(yield ae(U.call(V)))}finally{if(C)throw C.error}}})})}}async embedContent(t){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=v_(this.apiClient,t);return g=Q("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const E=T_(v),_=new oh;return Object.assign(_,E),_})}else{const h=y_(this.apiClient,t);return g=Q("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const E=S_(v),_=new oh;return Object.assign(_,E),_})}}async generateImagesInternal(t){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=D_(this.apiClient,t);return g=Q("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const E=U_(v),_=new ah;return Object.assign(_,E),_})}else{const h=I_(this.apiClient,t);return g=Q("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const E=w_(v),_=new ah;return Object.assign(_,E),_})}}async editImageInternal(t){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=p_(this.apiClient,t);return d=Q("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=m_(y),v=new _S;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=DA(this.apiClient,t);return d=Q("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=wA(y),v=new AS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=fA(this.apiClient,t);return d=Q("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=pA(y),v=new CS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=SA(this.apiClient,t);return d=Q("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=TA(y),v=new xS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Z_(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>Ru(v))}else{const h=Q_(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>Nu(v))}}async listInternal(t){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=oA(this.apiClient,t);return g=Q("{models_url}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const E=sA(v),_=new sh;return Object.assign(_,E),_})}else{const h=lA(this.apiClient,t);return g=Q("{models_url}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const E=aA(v),_=new sh;return Object.assign(_,E),_})}}async update(t){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=MA(this.apiClient,t);return g=Q("{model}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>Ru(v))}else{const h=bA(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>Nu(v))}}async delete(t){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=u_(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const E=d_(v),_=new rh;return Object.assign(_,E),_})}else{const h=r_(this.apiClient,t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const E=c_(v),_=new rh;return Object.assign(_,E),_})}}async countTokens(t){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=o_(this.apiClient,t);return g=Q("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const E=s_(v),_=new uh;return Object.assign(_,E),_})}else{const h=l_(this.apiClient,t);return g=Q("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const E=a_(v),_=new uh;return Object.assign(_,E),_})}}async computeTokens(t){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=$E(this.apiClient,t);return d=Q("{model}:computeTokens",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=WE(y),v=new NS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=O_(this.apiClient,t);return g=Q("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>{const E=q_(v),_=new La;return Object.assign(_,E),_})}else{const h=V_(this.apiClient,t);return g=Q("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>{const E=H_(v),_=new La;return Object.assign(_,E),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xC extends yn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=gS(t);return g=Q("{operationName}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m}else{const h=hS(t);return g=Q("{operationName}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m}}async fetchPredictVideosOperationInternal(t){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=rS(t);return d=Q("{resourceName}:fetchPredictOperation",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NC(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function RC(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>HC(d))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function bC(i,t,o){const a={},r=u(t,["expireTime"]);o!==void 0&&r!=null&&c(o,["expireTime"],r);const d=u(t,["newSessionExpireTime"]);o!==void 0&&d!=null&&c(o,["newSessionExpireTime"],d);const m=u(t,["uses"]);o!==void 0&&m!=null&&c(o,["uses"],m);const g=u(t,["liveConnectConstraints"]);o!==void 0&&g!=null&&c(o,["bidiGenerateContentSetup"],GC(i,g));const y=u(t,["lockAdditionalFields"]);return o!==void 0&&y!=null&&c(o,["fieldMask"],y),a}function MC(i,t){const o={},a=u(t,["config"]);return a!=null&&c(o,["config"],bC(i,a,o)),o}function IC(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function DC(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function wC(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function UC(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function LC(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const m=u(i,["topP"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const E=u(i,["speechConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","speechConfig"],Pu(E));const _=u(i,["thinkingConfig"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","thinkingConfig"],_);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const U=u(i,["systemInstruction"]);t!==void 0&&U!=null&&c(t,["setup","systemInstruction"],RC(ot(U)));const G=u(i,["tools"]);if(t!==void 0&&G!=null){let ne=ol(G);Array.isArray(ne)&&(ne=ne.map(Y=>VC(ll(Y)))),c(t,["setup","tools"],ne)}const L=u(i,["sessionResumption"]);t!==void 0&&L!=null&&c(t,["setup","sessionResumption"],qC(L));const V=u(i,["inputAudioTranscription"]);t!==void 0&&V!=null&&c(t,["setup","inputAudioTranscription"],V);const Z=u(i,["outputAudioTranscription"]);t!==void 0&&Z!=null&&c(t,["setup","outputAudioTranscription"],Z);const F=u(i,["realtimeInputConfig"]);t!==void 0&&F!=null&&c(t,["setup","realtimeInputConfig"],F);const $=u(i,["contextWindowCompression"]);t!==void 0&&$!=null&&c(t,["setup","contextWindowCompression"],$);const te=u(i,["proactivity"]);if(t!==void 0&&te!=null&&c(t,["setup","proactivity"],te),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function GC(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],_e(i,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],LC(r,o)),o}function HC(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],IC(d));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],DC(m));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],NC(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const E=u(i,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const _=u(i,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function qC(i){const t={},o=u(i,["handle"]);if(o!=null&&c(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function VC(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const m=u(i,["codeExecution"]);if(m!=null&&c(t,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],wC(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],UC(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OC(i){const t=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const a=i[o];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(d=>`${o}.${d}`);t.push(...r)}else t.push(o)}return t.join(",")}function zC(i,t){let o=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const d=a.setup;typeof d=="object"&&d!==null?(i.bidiGenerateContentSetup=d,o=d):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(o){const d=OC(o);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)d?i.fieldMask=d:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(h=>m.includes(h)?`generationConfig.${h}`:h));const y=[];d&&y.push(d),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class BC extends yn{constructor(t){super(),this.apiClient=t}async create(t){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=MC(this.apiClient,t);d=Q("auth_tokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query;const y=zC(g,t.config);return r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PC(i,t){const o={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),o}function kC(i){const t={},o=u(i,["name"]);o!=null&&c(t,["_url","name"],o);const a=u(i,["config"]);return a!=null&&PC(a,t),t}function FC(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function JC(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function YC(i){const t={},o=u(i,["parent"]);o!=null&&c(t,["_url","parent"],o);const a=u(i,["config"]);return a!=null&&JC(a,t),t}function XC(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["documents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["documents"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KC extends yn{constructor(t){super(),this.apiClient=t,this.list=async o=>new mi(gn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:o.parent,config:a.config}),await this.listInternal(o),o)}async get(t){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=FC(t);return d=Q("{name}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=kC(t);r=Q("{name}",m._url),d=m._query,delete m._url,delete m._query,await this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=YC(t);return d=Q("{parent}/documents",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=XC(y),v=new RS;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QC extends yn{constructor(t,o=new KC(t)){super(),this.apiClient=t,this.documents=o,this.list=async(a={})=>new mi(gn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=OA(t);return d=Q("fileSearchStores",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=PA(t);return d=Q("{name}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=BA(t);r=Q("{name}",m._url),d=m._query,delete m._url,delete m._query,await this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=KA(t);return d=Q("fileSearchStores",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=QA(y),v=new bS;return Object.assign(v,h),v})}}async uploadToFileSearchStoreInternal(t){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ZA(t);return d=Q("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=$A(y),v=new MS;return Object.assign(v,h),v})}}async importFile(t){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=JA(t);return d=Q("{file_search_store_name}:importFile",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=FA(y),v=new qu;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let pg=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return pg=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),o=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^o()&15>>+a/4).toString(16))};const ZC=()=>pg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mu(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Iu=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ot extends Error{}class ut extends Ot{constructor(t,o,a,r){super(`${ut.makeMessage(t,o,a)}`),this.status=t,this.headers=r,this.error=o}static makeMessage(t,o,a){const r=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):a;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,o,a,r){if(!t||!r)return new Fa({message:a,cause:Iu(o)});const d=o;return t===400?new hg(t,d,a,r):t===401?new gg(t,d,a,r):t===403?new yg(t,d,a,r):t===404?new vg(t,d,a,r):t===409?new Sg(t,d,a,r):t===422?new Tg(t,d,a,r):t===429?new Eg(t,d,a,r):t>=500?new _g(t,d,a,r):new ut(t,d,a,r)}}class Du extends ut{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Fa extends ut{constructor({message:t,cause:o}){super(void 0,void 0,t||"Connection error.",void 0),o&&(this.cause=o)}}class mg extends Fa{constructor({message:t}={}){super({message:t??"Request timed out."})}}class hg extends ut{}class gg extends ut{}class yg extends ut{}class vg extends ut{}class Sg extends ut{}class Tg extends ut{}class Eg extends ut{}class _g extends ut{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $C=/^[a-z][a-z0-9+.-]*:/i,WC=i=>$C.test(i);let wu=i=>(wu=Array.isArray,wu(i));const jC=wu;let ex=jC;const Dh=ex;function tx(i){if(!i)return!0;for(const t in i)return!1;return!0}function nx(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const ix=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Ot(`${i} must be an integer`);if(t<0)throw new Ot(`${i} must be a positive integer`);return t},lx=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ox=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ji="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ax(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const sx=()=>{var i,t,o,a,r;const d=ax();if(d==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ji,"X-Stainless-OS":Uh(Deno.build.os),"X-Stainless-Arch":wh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ji,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(d==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ji,"X-Stainless-OS":Uh((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":wh((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const m=rx();return m?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ji,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${m.browser}`,"X-Stainless-Runtime-Version":m.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ji,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function rx(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:o}of i){const a=o.exec(navigator.userAgent);if(a){const r=a[1]||0,d=a[2]||0,m=a[3]||0;return{browser:t,version:`${r}.${d}.${m}`}}}return null}const wh=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Uh=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Na;const ux=()=>Na??(Na=sx());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cx(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Ag(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function dx(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return Ag({start(){},async pull(o){const{done:a,value:r}=await t.next();a?o.close():o.enqueue(r)},async cancel(){var o;await((o=t.return)===null||o===void 0?void 0:o.call(t))}})}function Cg(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const o=await t.read();return o!=null&&o.done&&t.releaseLock(),o}catch(o){throw t.releaseLock(),o}},async return(){const o=t.cancel();return t.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function fx(i){var t,o;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((o=(t=i[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(t));return}const a=i.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const px=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xg=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,o=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function yu(i,t,o){return xg(),new File(i,t??"unknown_file",o)}function mx(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const hx=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ng=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",gx=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&Ng(i),yx=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function vx(i,t,o){if(xg(),i=await i,gx(i))return i instanceof File?i:yu([await i.arrayBuffer()],i.name);if(yx(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),yu(await Uu(r),t,o)}const a=await Uu(i);if(t||(t=mx(i)),!(o!=null&&o.type)){const r=a.find(d=>typeof d=="object"&&"type"in d&&d.type);typeof r=="string"&&(o=Object.assign(Object.assign({},o),{type:r}))}return yu(a,t,o)}async function Uu(i){var t,o,a,r,d;let m=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)m.push(i);else if(Ng(i))m.push(i instanceof Blob?i:await i.arrayBuffer());else if(hx(i))try{for(var g=!0,y=Ft(i),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const v=r;m.push(...await Uu(v))}}catch(v){o={error:v}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}else{const v=(d=i==null?void 0:i.constructor)===null||d===void 0?void 0:d.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${Sx(i)}`)}return m}function Sx(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rg{constructor(t){this._client=t}}Rg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bg(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Lh=Object.freeze(Object.create(null)),Tx=(i=bg)=>(function(o,...a){if(o.length===1)return o[0];let r=!1;const d=[],m=o.reduce((v,E,_)=>{var C,U,G;/[?#]/.test(E)&&(r=!0);const L=a[_];let V=(r?encodeURIComponent:i)(""+L);return _!==a.length&&(L==null||typeof L=="object"&&L.toString===((G=Object.getPrototypeOf((U=Object.getPrototypeOf((C=L.hasOwnProperty)!==null&&C!==void 0?C:Lh))!==null&&U!==void 0?U:Lh))===null||G===void 0?void 0:G.toString))&&(V=L+"",d.push({start:v.length+E.length,length:V.length,error:`Value of type ${Object.prototype.toString.call(L).slice(8,-1)} is not a valid path parameter`})),v+E+(_===a.length?"":V)},""),g=m.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=y.exec(g))!==null;)d.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(d.sort((v,E)=>v.start-E.start),d.length>0){let v=0;const E=d.reduce((_,C)=>{const U=" ".repeat(C.start-v),G="^".repeat(C.length);return v=C.start+C.length,_+U+G},"");throw new Ot(`Path parameters result in path with invalid segments:
${d.map(_=>_.error).join(`
`)}
${m}
${E}`)}return m}),Ra=Tx(bg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mg extends Rg{create(t,o){var a;const{api_version:r=this._client.apiVersion}=t,d=Ha(t,["api_version"]);if("model"in d&&"agent_config"in d)throw new Ot("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in d&&"generation_config"in d)throw new Ot("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ra`/${r}/interactions`,Object.assign(Object.assign({body:d},o),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,o={},a){const{api_version:r=this._client.apiVersion}=o??{};return this._client.delete(Ra`/${r}/interactions/${t}`,a)}cancel(t,o={},a){const{api_version:r=this._client.apiVersion}=o??{};return this._client.post(Ra`/${r}/interactions/${t}/cancel`,a)}get(t,o={},a){var r;const d=o??{},{api_version:m=this._client.apiVersion}=d,g=Ha(d,["api_version"]);return this._client.get(Ra`/${m}/interactions/${t}`,Object.assign(Object.assign({query:g},a),{stream:(r=o==null?void 0:o.stream)!==null&&r!==void 0?r:!1}))}}Mg._key=Object.freeze(["interactions"]);class Ig extends Mg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ex(i){let t=0;for(const r of i)t+=r.length;const o=new Uint8Array(t);let a=0;for(const r of i)o.set(r,a),a+=r.length;return o}let ba;function Fu(i){let t;return(ba??(t=new globalThis.TextEncoder,ba=t.encode.bind(t)))(i)}let Ma;function Gh(i){let t;return(Ma??(t=new globalThis.TextDecoder,Ma=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ja{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const o=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Fu(t):t;this.buffer=Ex([this.buffer,o]);const a=[];let r;for(;(r=_x(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(Gh(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const d=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,m=Gh(this.buffer.subarray(0,d));a.push(m),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}Ja.NEWLINE_CHARS=new Set([`
`,"\r"]);Ja.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function _x(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function Ax(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qa={off:0,error:200,warn:300,info:400,debug:500},Hh=(i,t,o)=>{if(i){if(nx(qa,i))return i;rt(o).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(qa))}`)}};function lo(){}function Ia(i,t,o){return!t||qa[i]>qa[o]?lo:t[i].bind(t)}const Cx={error:lo,warn:lo,info:lo,debug:lo};let qh=new WeakMap;function rt(i){var t;const o=i.logger,a=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!o)return Cx;const r=qh.get(o);if(r&&r[0]===a)return r[1];const d={error:Ia("error",o,a),warn:Ia("warn",o,a),info:Ia("info",o,a),debug:Ia("debug",o,a)};return qh.set(o,[a,d]),d}const fi=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,o])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tl{constructor(t,o,a){this.iterator=t,this.controller=o,this.client=a}static fromSSEResponse(t,o,a){let r=!1;const d=a?rt(a):console;function m(){return kt(this,arguments,function*(){var y,h,v,E;if(r)throw new Ot("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let _=!1;try{try{for(var C=!0,U=Ft(xx(t,o)),G;G=yield ae(U.next()),y=G.done,!y;C=!0){E=G.value,C=!1;const L=E;if(!_)if(L.data.startsWith("[DONE]")){_=!0;continue}else try{yield yield ae(JSON.parse(L.data))}catch(V){throw d.error("Could not parse message into JSON:",L.data),d.error("From chunk:",L.raw),V}}}catch(L){h={error:L}}finally{try{!C&&!y&&(v=U.return)&&(yield ae(v.call(U)))}finally{if(h)throw h.error}}_=!0}catch(L){if(Mu(L))return yield ae(void 0);throw L}finally{_||o.abort()}})}return new tl(m,o,a)}static fromReadableStream(t,o,a){let r=!1;function d(){return kt(this,arguments,function*(){var y,h,v,E;const _=new Ja,C=Cg(t);try{for(var U=!0,G=Ft(C),L;L=yield ae(G.next()),y=L.done,!y;U=!0){E=L.value,U=!1;const V=E;for(const Z of _.decode(V))yield yield ae(Z)}}catch(V){h={error:V}}finally{try{!U&&!y&&(v=G.return)&&(yield ae(v.call(G)))}finally{if(h)throw h.error}}for(const V of _.flush())yield yield ae(V)})}function m(){return kt(this,arguments,function*(){var y,h,v,E;if(r)throw new Ot("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let _=!1;try{try{for(var C=!0,U=Ft(d()),G;G=yield ae(U.next()),y=G.done,!y;C=!0){E=G.value,C=!1;const L=E;_||L&&(yield yield ae(JSON.parse(L)))}}catch(L){h={error:L}}finally{try{!C&&!y&&(v=U.return)&&(yield ae(v.call(U)))}finally{if(h)throw h.error}}_=!0}catch(L){if(Mu(L))return yield ae(void 0);throw L}finally{_||o.abort()}})}return new tl(m,o,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],o=[],a=this.iterator(),r=d=>({next:()=>{if(d.length===0){const m=a.next();t.push(m),o.push(m)}return d.shift()}});return[new tl(()=>r(t),this.controller,this.client),new tl(()=>r(o),this.controller,this.client)]}toReadableStream(){const t=this;let o;return Ag({async start(){o=t[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:d}=await o.next();if(d)return a.close();const m=Fu(JSON.stringify(r)+`
`);a.enqueue(m)}catch(r){a.error(r)}},async cancel(){var a;await((a=o.return)===null||a===void 0?void 0:a.call(o))}})}}function xx(i,t){return kt(this,arguments,function*(){var a,r,d,m;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Ot("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Ot("Attempted to iterate over a response with no body");const g=new Rx,y=new Ja,h=Cg(i.body);try{for(var v=!0,E=Ft(Nx(h)),_;_=yield ae(E.next()),a=_.done,!a;v=!0){m=_.value,v=!1;const C=m;for(const U of y.decode(C)){const G=g.decode(U);G&&(yield yield ae(G))}}}catch(C){r={error:C}}finally{try{!v&&!a&&(d=E.return)&&(yield ae(d.call(E)))}finally{if(r)throw r.error}}for(const C of y.flush()){const U=g.decode(C);U&&(yield yield ae(U))}})}function Nx(i){return kt(this,arguments,function*(){var o,a,r,d;let m=new Uint8Array;try{for(var g=!0,y=Ft(i),h;h=yield ae(y.next()),o=h.done,!o;g=!0){d=h.value,g=!1;const v=d;if(v==null)continue;const E=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?Fu(v):v;let _=new Uint8Array(m.length+E.length);_.set(m),_.set(E,m.length),m=_;let C;for(;(C=Ax(m))!==-1;)yield yield ae(m.slice(0,C)),m=m.slice(C)}}catch(v){a={error:v}}finally{try{!g&&!o&&(r=y.return)&&(yield ae(r.call(y)))}finally{if(a)throw a.error}}m.length>0&&(yield yield ae(m))})}class Rx{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const d={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],d}if(this.chunks.push(t),t.startsWith(":"))return null;let[o,a,r]=bx(t,":");return r.startsWith(" ")&&(r=r.substring(1)),o==="event"?this.event=r:o==="data"&&this.data.push(r),null}}function bx(i,t){const o=i.indexOf(t);return o!==-1?[i.substring(0,o),t,i.substring(o+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Mx(i,t){const{response:o,requestLogID:a,retryOfRequestLogID:r,startTime:d}=t,m=await(async()=>{var g;if(t.options.stream)return rt(i).debug("response",o.status,o.url,o.headers,o.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(o,t.controller,i):tl.fromSSEResponse(o,t.controller,i);if(o.status===204)return null;if(t.options.__binaryResponse)return o;const y=o.headers.get("content-type"),h=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await o.json():await o.text()})();return rt(i).debug(`[${a}] response parsed`,fi({retryOfRequestLogID:r,url:o.url,status:o.status,body:m,durationMs:Date.now()-d})),m}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ju extends Promise{constructor(t,o,a=Mx){super(r=>{r(null)}),this.responsePromise=o,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new Ju(this.client,this.responsePromise,async(o,a)=>t(await this.parseResponse(o,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,o){return this.parse().then(t,o)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dg=Symbol("brand.privateNullableHeaders");function*Ix(i){if(!i)return;if(Dg in i){const{values:a,nulls:r}=i;yield*a.entries();for(const d of r)yield[d,null];return}let t=!1,o;i instanceof Headers?o=i.entries():Dh(i)?o=i:(t=!0,o=Object.entries(i??{}));for(let a of o){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const d=Dh(a[1])?a[1]:[a[1]];let m=!1;for(const g of d)g!==void 0&&(t&&!m&&(m=!0,yield[r,null]),yield[r,g])}}const io=i=>{const t=new Headers,o=new Set;for(const a of i){const r=new Set;for(const[d,m]of Ix(a)){const g=d.toLowerCase();r.has(g)||(t.delete(d),r.add(g)),m===null?(t.delete(d),o.add(g)):(t.append(d,m),o.delete(g))}}return{[Dg]:!0,values:t,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vu=i=>{var t,o,a,r,d,m;if(typeof globalThis.process<"u")return(a=(o=(t=nS)===null||t===void 0?void 0:t[i])===null||o===void 0?void 0:o.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(m=(d=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||d===void 0?void 0:d.call(r,i))===null||m===void 0?void 0:m.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var wg;class Ya{constructor(t){var o,a,r,d,m,g,y,{baseURL:h=vu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(o=vu("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:E="v1beta"}=t,_=Ha(t,["baseURL","apiKey","apiVersion"]);const C=Object.assign(Object.assign({apiKey:v,apiVersion:E},_),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=C.baseURL,this.timeout=(a=C.timeout)!==null&&a!==void 0?a:Ya.DEFAULT_TIMEOUT,this.logger=(r=C.logger)!==null&&r!==void 0?r:console;const U="warn";this.logLevel=U,this.logLevel=(m=(d=Hh(C.logLevel,"ClientOptions.logLevel",this))!==null&&d!==void 0?d:Hh(vu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&m!==void 0?m:U,this.fetchOptions=C.fetchOptions,this.maxRetries=(g=C.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=C.fetch)!==null&&y!==void 0?y:cx(),this.encoder=px,this._options=C,this.apiKey=v,this.apiVersion=E,this.clientAdapter=C.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:o}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const o=io([t.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return io([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return io([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([o,a])=>typeof a<"u").map(([o,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(o)}=`;throw new Ot(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ji}`}defaultIdempotencyKey(){return`stainless-node-retry-${ZC()}`}makeStatusError(t,o,a,r){return ut.generate(t,o,a,r)}buildURL(t,o,a){const r=!this.baseURLOverridden()&&a||this.baseURL,d=WC(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),m=this.defaultQuery();return tx(m)||(o=Object.assign(Object.assign({},m),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(d.search=this.stringifyQuery(o)),d.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const o=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(t,{url:o,options:a}){}get(t,o){return this.methodRequest("get",t,o)}post(t,o){return this.methodRequest("post",t,o)}patch(t,o){return this.methodRequest("patch",t,o)}put(t,o){return this.methodRequest("put",t,o)}delete(t,o){return this.methodRequest("delete",t,o)}methodRequest(t,o,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:t,path:o},r)))}request(t,o=null){return new Ju(this,this.makeRequest(t,o,void 0))}async makeRequest(t,o,a){var r,d,m;const g=await t,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;o==null&&(o=y),await this.prepareOptions(g);const{req:h,url:v,timeout:E}=await this.buildRequest(g,{retryCount:y-o});await this.prepareRequest(h,{url:v,options:g});const _="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),C=a===void 0?"":`, retryOf: ${a}`,U=Date.now();if(rt(this).debug(`[${_}] sending request`,fi({retryOfRequestLogID:a,method:g.method,url:v,options:g,headers:h.headers})),!((d=g.signal)===null||d===void 0)&&d.aborted)throw new Du;const G=new AbortController,L=await this.fetchWithTimeout(v,h,E,G).catch(Iu),V=Date.now();if(L instanceof globalThis.Error){const F=`retrying, ${o} attempts remaining`;if(!((m=g.signal)===null||m===void 0)&&m.aborted)throw new Du;const $=Mu(L)||/timed? ?out/i.test(String(L)+("cause"in L?String(L.cause):""));if(o)return rt(this).info(`[${_}] connection ${$?"timed out":"failed"} - ${F}`),rt(this).debug(`[${_}] connection ${$?"timed out":"failed"} (${F})`,fi({retryOfRequestLogID:a,url:v,durationMs:V-U,message:L.message})),this.retryRequest(g,o,a??_);throw rt(this).info(`[${_}] connection ${$?"timed out":"failed"} - error; no more retries left`),rt(this).debug(`[${_}] connection ${$?"timed out":"failed"} (error; no more retries left)`,fi({retryOfRequestLogID:a,url:v,durationMs:V-U,message:L.message})),$?new mg:new Fa({cause:L})}const Z=`[${_}${C}] ${h.method} ${v} ${L.ok?"succeeded":"failed"} with status ${L.status} in ${V-U}ms`;if(!L.ok){const F=await this.shouldRetry(L);if(o&&F){const X=`retrying, ${o} attempts remaining`;return await fx(L.body),rt(this).info(`${Z} - ${X}`),rt(this).debug(`[${_}] response error (${X})`,fi({retryOfRequestLogID:a,url:L.url,status:L.status,headers:L.headers,durationMs:V-U})),this.retryRequest(g,o,a??_,L.headers)}const $=F?"error; no more retries left":"error; not retryable";rt(this).info(`${Z} - ${$}`);const te=await L.text().catch(X=>Iu(X).message),ne=lx(te),Y=ne?void 0:te;throw rt(this).debug(`[${_}] response error (${$})`,fi({retryOfRequestLogID:a,url:L.url,status:L.status,headers:L.headers,message:Y,durationMs:Date.now()-U})),this.makeStatusError(L.status,ne,Y,L.headers)}return rt(this).info(Z),rt(this).debug(`[${_}] response start`,fi({retryOfRequestLogID:a,url:L.url,status:L.status,headers:L.headers,durationMs:V-U})),{response:L,options:g,controller:G,requestLogID:_,retryOfRequestLogID:a,startTime:U}}async fetchWithTimeout(t,o,a,r){const d=o||{},{signal:m,method:g}=d,y=Ha(d,["signal","method"]);m&&m.addEventListener("abort",()=>r.abort());const h=setTimeout(()=>r.abort(),a),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,E=Object.assign(Object.assign(Object.assign({signal:r.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);g&&(E.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,E)}finally{clearTimeout(h)}}async shouldRetry(t){const o=t.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,o,a,r){var d;let m;const g=r==null?void 0:r.get("retry-after-ms");if(g){const h=parseFloat(g);Number.isNaN(h)||(m=h)}const y=r==null?void 0:r.get("retry-after");if(y&&!m){const h=parseFloat(y);Number.isNaN(h)?m=Date.parse(y)-Date.now():m=h*1e3}if(!(m&&0<=m&&m<60*1e3)){const h=(d=t.maxRetries)!==null&&d!==void 0?d:this.maxRetries;m=this.calculateDefaultRetryTimeoutMillis(o,h)}return await ox(m),this.makeRequest(t,o-1,a)}calculateDefaultRetryTimeoutMillis(t,o){const d=o-t,m=Math.min(.5*Math.pow(2,d),8),g=1-Math.random()*.25;return m*g*1e3}async buildRequest(t,{retryCount:o=0}={}){var a,r,d;const m=Object.assign({},t),{method:g,path:y,query:h,defaultBaseURL:v}=m,E=this.buildURL(y,h,v);"timeout"in m&&ix("timeout",m.timeout),m.timeout=(a=m.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:_,body:C}=this.buildBody({options:m}),U=await this.buildHeaders({options:t,method:g,bodyHeaders:_,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:U},m.signal&&{signal:m.signal}),globalThis.ReadableStream&&C instanceof globalThis.ReadableStream&&{duplex:"half"}),C&&{body:C}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(d=m.fetchOptions)!==null&&d!==void 0?d:{}),url:E,timeout:m.timeout}}async buildHeaders({options:t,method:o,bodyHeaders:a,retryCount:r}){let d={};this.idempotencyHeader&&o!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),d[this.idempotencyHeader]=t.idempotencyKey);const m=await this.authHeaders(t);let g=io([d,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),ux()),this._options.defaultHeaders,a,t.headers,m]);return this.validateHeaders(g),g.values}buildBody({options:{body:t,headers:o}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=io([o]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:dx(t)}:this.encoder({body:t,headers:a})}}Ya.DEFAULT_TIMEOUT=6e4;class We extends Ya{constructor(){super(...arguments),this.interactions=new Ig(this)}}wg=We;We.GeminiNextGenAPIClient=wg;We.GeminiNextGenAPIClientError=Ot;We.APIError=ut;We.APIConnectionError=Fa;We.APIConnectionTimeoutError=mg;We.APIUserAbortError=Du;We.NotFoundError=vg;We.ConflictError=Sg;We.RateLimitError=Eg;We.BadRequestError=hg;We.AuthenticationError=gg;We.InternalServerError=_g;We.PermissionDeniedError=yg;We.UnprocessableEntityError=Tg;We.toFile=vx;We.Interactions=Ig;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dx(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function wx(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function Ux(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(o,["sdkHttpResponse"],a),o}function Lx(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(o,["sdkHttpResponse"],a),o}function Gx(i,t,o){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const d=u(i,["epochCount"]);t!==void 0&&d!=null&&c(t,["tuningTask","hyperparameters","epochCount"],d);const m=u(i,["learningRateMultiplier"]);if(m!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],m),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&c(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function Hx(i,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const C=u(i,["validationDataset"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec"],Vh(C))}else if(r==="PREFERENCE_TUNING"){const C=u(i,["validationDataset"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec"],Vh(C))}const d=u(i,["tunedModelDisplayName"]);t!==void 0&&d!=null&&c(t,["tunedModelDisplayName"],d);const m=u(i,["description"]);t!==void 0&&m!=null&&c(t,["description"],m);let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const C=u(i,["epochCount"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],C)}else if(g==="PREFERENCE_TUNING"){const C=u(i,["epochCount"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],C)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const C=u(i,["learningRateMultiplier"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],C)}else if(y==="PREFERENCE_TUNING"){const C=u(i,["learningRateMultiplier"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],C)}let h=u(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const C=u(i,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],C)}else if(h==="PREFERENCE_TUNING"){const C=u(i,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],C)}let v=u(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const C=u(i,["adapterSize"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],C)}else if(v==="PREFERENCE_TUNING"){const C=u(i,["adapterSize"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],C)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const E=u(i,["labels"]);t!==void 0&&E!=null&&c(t,["labels"],E);const _=u(i,["beta"]);return t!==void 0&&_!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],_),a}function qx(i,t){const o={},a=u(i,["baseModel"]);a!=null&&c(o,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const d=u(i,["trainingDataset"]);d!=null&&Kx(d);const m=u(i,["config"]);return m!=null&&Gx(m,o),o}function Vx(i,t){const o={},a=u(i,["baseModel"]);a!=null&&c(o,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const d=u(i,["trainingDataset"]);d!=null&&Qx(d,o,t);const m=u(i,["config"]);return m!=null&&Hx(m,o,t),o}function Ox(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function zx(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function Bx(i,t,o){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const d=u(i,["pageToken"]);t!==void 0&&d!=null&&c(t,["_query","pageToken"],d);const m=u(i,["filter"]);return t!==void 0&&m!=null&&c(t,["_query","filter"],m),a}function Px(i,t,o){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const d=u(i,["pageToken"]);t!==void 0&&d!=null&&c(t,["_query","pageToken"],d);const m=u(i,["filter"]);return t!==void 0&&m!=null&&c(t,["_query","filter"],m),a}function kx(i,t){const o={},a=u(i,["config"]);return a!=null&&Bx(a,o),o}function Fx(i,t){const o={},a=u(i,["config"]);return a!=null&&Px(a,o),o}function Jx(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const d=u(i,["tunedModels"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>Ug(g))),c(o,["tuningJobs"],m)}return o}function Yx(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const d=u(i,["tuningJobs"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>Lu(g))),c(o,["tuningJobs"],m)}return o}function Xx(i,t){const o={},a=u(i,["name"]);a!=null&&c(o,["model"],a);const r=u(i,["name"]);return r!=null&&c(o,["endpoint"],r),o}function Kx(i,t){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>d)),c(o,["examples","examples"],r)}return o}function Qx(i,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const m=u(i,["gcsUri"]);t!==void 0&&m!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(r==="PREFERENCE_TUNING"){const m=u(i,["gcsUri"]);t!==void 0&&m!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],m)}let d=u(o,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const m=u(i,["vertexDatasetResource"]);t!==void 0&&m!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(d==="PREFERENCE_TUNING"){const m=u(i,["vertexDatasetResource"]);t!==void 0&&m!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],m)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Ug(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const d=u(i,["state"]);d!=null&&c(o,["state"],Qh(d));const m=u(i,["createTime"]);m!=null&&c(o,["createTime"],m);const g=u(i,["tuningTask","startTime"]);g!=null&&c(o,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&c(o,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(o,["updateTime"],h);const v=u(i,["description"]);v!=null&&c(o,["description"],v);const E=u(i,["baseModel"]);E!=null&&c(o,["baseModel"],E);const _=u(i,["_self"]);return _!=null&&c(o,["tunedModel"],Xx(_)),o}function Lu(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const d=u(i,["state"]);d!=null&&c(o,["state"],Qh(d));const m=u(i,["createTime"]);m!=null&&c(o,["createTime"],m);const g=u(i,["startTime"]);g!=null&&c(o,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(o,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(o,["updateTime"],h);const v=u(i,["error"]);v!=null&&c(o,["error"],v);const E=u(i,["description"]);E!=null&&c(o,["description"],E);const _=u(i,["baseModel"]);_!=null&&c(o,["baseModel"],_);const C=u(i,["tunedModel"]);C!=null&&c(o,["tunedModel"],C);const U=u(i,["preTunedModel"]);U!=null&&c(o,["preTunedModel"],U);const G=u(i,["supervisedTuningSpec"]);G!=null&&c(o,["supervisedTuningSpec"],G);const L=u(i,["preferenceOptimizationSpec"]);L!=null&&c(o,["preferenceOptimizationSpec"],L);const V=u(i,["tuningDataStats"]);V!=null&&c(o,["tuningDataStats"],V);const Z=u(i,["encryptionSpec"]);Z!=null&&c(o,["encryptionSpec"],Z);const F=u(i,["partnerModelTuningSpec"]);F!=null&&c(o,["partnerModelTuningSpec"],F);const $=u(i,["customBaseModel"]);$!=null&&c(o,["customBaseModel"],$);const te=u(i,["experiment"]);te!=null&&c(o,["experiment"],te);const ne=u(i,["labels"]);ne!=null&&c(o,["labels"],ne);const Y=u(i,["outputUri"]);Y!=null&&c(o,["outputUri"],Y);const fe=u(i,["pipelineJob"]);fe!=null&&c(o,["pipelineJob"],fe);const X=u(i,["serviceAccount"]);X!=null&&c(o,["serviceAccount"],X);const de=u(i,["tunedModelDisplayName"]);de!=null&&c(o,["tunedModelDisplayName"],de);const pe=u(i,["veoTuningSpec"]);return pe!=null&&c(o,["veoTuningSpec"],pe),o}function Zx(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const d=u(i,["metadata"]);d!=null&&c(o,["metadata"],d);const m=u(i,["done"]);m!=null&&c(o,["done"],m);const g=u(i,["error"]);return g!=null&&c(o,["error"],g),o}function Vh(i,t){const o={},a=u(i,["gcsUri"]);a!=null&&c(o,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $x extends yn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new mi(gn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var a;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((a=o.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const d=Object.assign(Object.assign({},o),{preTunedModel:r});return d.baseModel=void 0,await this.tuneInternal(d)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),d=await this.tuneMldevInternal(r);let m="";return d.metadata!==void 0&&d.metadata.tunedModel!==void 0?m=d.metadata.tunedModel:d.name!==void 0&&d.name.includes("/operations/")&&(m=d.name.split("/operations/")[0]),{name:m,state:_u.JOB_STATE_QUEUED}}}}async getInternal(t){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=zx(t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>Lu(v))}else{const h=Ox(t);return g=Q("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>Ug(v))}}async listInternal(t){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Fx(t);return g=Q("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const E=Yx(v),_=new ch;return Object.assign(_,E),_})}else{const h=kx(t);return g=Q("tunedModels",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const E=Jx(v),_=new ch;return Object.assign(_,E),_})}}async cancel(t){var o,a,r,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=wx(t);return g=Q("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const E=Lx(v),_=new dh;return Object.assign(_,E),_})}else{const h=Dx(t);return g=Q("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),m.then(v=>{const E=Ux(v),_=new dh;return Object.assign(_,E),_})}}async tuneInternal(t){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=Vx(t,t);return d=Q("tuningJobs",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>Lu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,a;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=qx(t);return d=Q("tunedModels",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>Zx(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wx{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const jx=1024*1024*8,eN=3,tN=1e3,nN=2,Va="x-goog-upload-status";async function iN(i,t,o){var a;const r=await Lg(i,t,o),d=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Va])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function lN(i,t,o){var a;const r=await Lg(i,t,o),d=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Va])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const m=kh(d),g=new Vu;return Object.assign(g,m),g}async function Lg(i,t,o){var a,r;let d=0,m=0,g=new Au(new Response),y="upload";for(d=i.size;m<d;){const h=Math.min(jx,d-m),v=i.slice(m,m+h);m+h>=d&&(y+=", finalize");let E=0,_=tN;for(;E<eN&&(g=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(m),"Content-Length":String(h)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[Va]));)E++,await aN(_),_=_*nN;if(m+=h,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[Va])!=="active")break;if(d<=m)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function oN(i){return{size:i.size,type:i.type}}function aN(i){return new Promise(t=>setTimeout(t,i))}class sN{async upload(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await iN(t,o,a)}async uploadToFileSearchStore(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await lN(t,o,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await oN(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rN{create(t,o,a){return new uN(t,o,a)}}class uN{constructor(t,o,a){this.url=t,this.headers=o,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Oh="x-goog-api-key";class cN{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(Oh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Oh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dN="gl-node/";class fN{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new We({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=o.interactions,this._interactions}constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const a=aS(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new cN(this.apiKey);this.apiClient=new oC({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:dN+"web",uploader:new sN,downloader:new Wx}),this.models=new CC(this.apiClient),this.live=new vC(this.apiClient,r,new rN),this.batches=new GT(this.apiClient),this.chats=new gE(this.models,this.apiClient),this.caches=new pE(this.apiClient),this.files=new NE(this.apiClient),this.operations=new xC(this.apiClient),this.authTokens=new BC(this.apiClient),this.tunings=new $x(this.apiClient),this.fileSearchStores=new QC(this.apiClient)}}var pN={};const mN=new fN({apiKey:pN.API_KEY}),hN=async i=>{try{const t=i.entries.map(r=>`[${r.createdAt.substring(0,10)}] ${r.type} por ${r.department} (${r.regionSection}): ${r.content}`).join(`
`),o=`
      Acta como un analista de inteligencia policial experto.
      
      Analiza los siguientes antecedentes de un blanco investigativo (Sujeto de Inters):
      
      Nombre: ${i.fullName}
      Alias: ${i.alias}
      Historial de Entradas:
      ${t}

      Tarea:
      Genera un resumen ejecutivo de inteligencia policial (mximo 100 palabras) que incluya:
      1. Patrn delictual predominante.
      2. Nivel de peligrosidad estimado.
      3. Recomendaciones para el personal policial en caso de control.
      
      Formato: Texto plano, directo y tcnico policial.
    `;return(await mN.models.generateContent({model:"gemini-3-flash-preview",contents:o})).text||"No se pudo generar el anlisis."}catch(t){return console.error("Error generating profile:",t),"Error al conectar con el servicio de inteligencia artificial."}},gN=[{id:"0001-2024",rut:"17.005.477-6",fullName:"FRANCISCO EDUARDO CACERES CASTILLO",alias:"El Pancho",birthDate:"1988-12-12",nationality:"CHILENA",sex:"HOMBRE",registralSex:"MASCULINO",genderIdentity:"MASCULINA",civilStatus:"SOLTERO",riskLevel:pi.EXTREME,investigationStatus:"ABIERTA",ownerDepartment:oo.OS7,ownerRegionSection:"Seccin Anlisis OS7 Santiago",status:"ACTIVO",legalStatus:"DETENIDO",legalStatusUpdatedAt:"2023-12-20",belongsToCriminalOrg:!0,criminalOrgName:"TREN DE ARAGUA (CLULA SUR)",criminalOrgRegion:"Biobo",criminalOrgCommune:"Concepcin",hasChildren:!1,address1:"PASAJE PADRE JUAN SWOBODA 0288, LA GRANJA",observations:"DETENIDO 20.12.2023 EN ARGENTINA CON 8 ARMAS DE FUEGO (GENDARMERIA ARGENTINA)",imageUrl:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",entries:[{id:"e1",type:"DETENCION",content:"Detenido en Ruta 5 Sur Km 476, Comuna de Cabrero. Se detectan 8 pistolas calibre 9mm (Glock, Bersa, Taurus).",createdAt:"2023-12-20T10:00:00Z",officerName:"Gendarmera Argentina",department:oo.OTHER,regionSection:"Internacional - Argentina"}],policeRecords:[{type:"DETENIDO",crime:"OTROS DELITOS DE LA LEY 20.000",unit:"RETEN EL PERAL",date:"15-12-2022",reportNumber:"22121"}],criminalRecords:[{crime:"VIOLACION DE MORADA",tribunal:"JDO. GARANTIA DE SAN ANTONIO",year:"2007"}],complaints:[{institution:"CARABINEROS",type:"DENUNCIA",crime:"AMENAZAS",date:"2023-01-01",observations:"Amenaza con arma de fuego a vecino"}],publicMinistryCauses:[{ruc:"1700078766-3",prosecution:"PUERTO MONTT",status:"TERMINADO",crime:"LESIONES LEVES"}],newsLinks:[{source:"BIOBIO.CL",url:"https://www.biobiochile.cl/noticias"}],otherBackgrounds:[{date:"20-12-2023",situation:"DETENCION",place:"RUTA 5 SUR KM 476",circumstances:"Dos chilenos detenidos en bus",seizedItems:"08 Pistolas Marca Glock, Bersa y Taurus"}],accessLogs:[{timestamp:"2023-12-21T09:00:00Z",user:"Capitn Juan Prez",department:"OS7",action:"VISUALIZACION"}]}],di=({cols:i})=>S.jsx("thead",{className:"bg-gray-100 text-xs text-gray-700 uppercase",children:S.jsx("tr",{children:i.map((t,o)=>S.jsx("th",{className:"px-3 py-2 border text-left",children:t},o))})}),hn=({title:i,onAdd:t,disabled:o})=>S.jsxs("div",{className:"bg-gray-200 border-l-4 border-police-800 px-3 py-1 mt-6 mb-2 flex justify-between items-center print:bg-transparent print:border-b print:border-black print:border-l-0",children:[S.jsx("h3",{className:"text-sm font-bold text-police-900 uppercase",children:i}),t&&!o&&S.jsxs("button",{onClick:t,className:"text-xs bg-police-700 hover:bg-police-900 text-white px-2 py-0.5 rounded flex items-center gap-1 transition-colors print:hidden",children:[S.jsx(Su,{className:"h-3 w-3"})," Agregar"]})]}),Rt=({title:i,onClose:t,children:o})=>S.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[100] flex items-center justify-center p-4 print:hidden",children:S.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl overflow-hidden max-h-[90vh] overflow-y-auto",children:[S.jsxs("div",{className:"bg-police-900 text-white px-4 py-3 flex justify-between items-center sticky top-0 z-10",children:[S.jsx("h3",{className:"font-bold",children:i}),S.jsx("button",{onClick:t,children:S.jsx(tS,{className:"h-5 w-5"})})]}),S.jsx("div",{className:"p-6",children:o})]})}),yN=({officer:i,onLogout:t})=>S.jsx("header",{className:"bg-police-900 text-white shadow-lg sticky top-0 z-50 print:hidden",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 flex justify-between items-center",children:[S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsx(Ph,{className:"h-8 w-8 text-brand-primary"}),S.jsxs("div",{children:[S.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"SUBI"}),S.jsx("p",{className:"text-xs text-police-500 uppercase tracking-widest",children:"Sistema Unificado de Blancos Investigativos"})]})]}),S.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[S.jsxs("div",{className:"text-right hidden md:block",children:[S.jsx("div",{className:"font-semibold text-brand-primary",children:i.department}),S.jsxs("div",{className:"text-police-500",children:[i.regionSection," | ",i.rank," ",i.name]})]}),S.jsx("button",{onClick:t,className:"p-2 hover:bg-police-800 rounded-full transition-colors",title:"Cerrar Sesin",children:S.jsx(Bv,{className:"h-5 w-5"})})]})]})}),vN=({onLogin:i})=>{const[t,o]=qe.useState({name:"",rank:"",department:oo.OS7}),[a,r]=qe.useState(Tu[6]),[d,m]=qe.useState(""),g=y=>{if(y.preventDefault(),t.name&&t.rank&&d){const h={...t,regionSection:`${a} - ${d}`};i(h)}};return S.jsx("div",{className:"fixed inset-0 bg-police-900/90 backdrop-blur-sm flex items-center justify-center p-4 z-50 print:hidden",children:S.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-md overflow-hidden",children:[S.jsxs("div",{className:"bg-police-900 p-6 text-center border-b-4 border-brand-primary",children:[S.jsx(Ph,{className:"h-12 w-12 text-white mx-auto mb-3"}),S.jsx("h2",{className:"text-2xl font-bold text-white",children:"Identificacin Policial"}),S.jsx("p",{className:"text-police-500 text-sm mt-1",children:"Acceso restringido a personal autorizado"})]}),S.jsxs("form",{onSubmit:g,className:"p-6 space-y-4",children:[S.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[S.jsxs("div",{className:"col-span-1",children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Grado"}),S.jsx("input",{required:!0,type:"text",placeholder:"Ej: Capitn",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-brand-primary focus:border-brand-primary outline-none",value:t.rank,onChange:y=>o({...t,rank:y.target.value})})]}),S.jsxs("div",{className:"col-span-2",children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre y Apellido"}),S.jsx("input",{required:!0,type:"text",placeholder:"Ej: Juan Prez",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-brand-primary focus:border-brand-primary outline-none",value:t.name,onChange:y=>o({...t,name:y.target.value})})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departamento / Unidad Especializada"}),S.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-brand-primary outline-none",value:t.department,onChange:y=>o({...t,department:y.target.value}),children:Object.values(oo).map(y=>S.jsx("option",{value:y,children:y},y))})]}),S.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Regin"}),S.jsx("select",{required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-brand-primary outline-none",value:a,onChange:y=>r(y.target.value),children:Tu.map(y=>S.jsx("option",{value:y,children:y},y))})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seccin / Unidad"}),S.jsx("input",{required:!0,type:"text",placeholder:"Ej: Seccin Anlisis / Brigada Sur",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-brand-primary outline-none",value:d,onChange:y=>m(y.target.value)})]})]}),S.jsx("button",{type:"submit",className:"w-full bg-brand-primary hover:bg-brand-secondary text-white font-bold py-3 rounded-md transition-colors shadow-lg mt-4",children:"Ingresar al Sistema"})]})]})})},SN=({subject:i,onSelect:t})=>{var a;const o=r=>{switch(r){case pi.EXTREME:return"bg-red-100 text-red-800 border-red-200";case pi.HIGH:return"bg-orange-100 text-orange-800 border-orange-200";case pi.MEDIUM:return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-green-100 text-green-800 border-green-200"}};return S.jsxs("div",{onClick:()=>t(i),className:"bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-all cursor-pointer p-4 group flex items-center gap-4 relative",children:[S.jsx("div",{className:`absolute top-0 right-0 px-2 py-1 text-[10px] font-bold uppercase rounded-bl-lg rounded-tr-lg border-b border-l ${i.investigationStatus==="ABIERTA"?"bg-red-600 text-white border-red-700":"bg-green-600 text-white border-green-700"}`,children:i.investigationStatus==="ABIERTA"?"Inv. Abierta":"Inv. Liberada"}),S.jsx("div",{className:"h-16 w-16 bg-gray-200 rounded-md overflow-hidden flex-shrink-0 border border-gray-300 mt-2",children:i.imageUrl?S.jsx("img",{src:i.imageUrl,alt:i.alias,className:"h-full w-full object-cover"}):S.jsx("div",{className:"h-full w-full flex items-center justify-center text-gray-400",children:S.jsx(Oa,{className:"h-6 w-6"})})}),S.jsxs("div",{className:"flex-1 mt-2",children:[S.jsx("div",{className:"flex justify-between items-start",children:S.jsxs("div",{children:[S.jsx("h3",{className:"text-base font-bold text-gray-900 group-hover:text-brand-primary transition-colors",children:i.fullName}),S.jsxs("p",{className:"text-sm text-gray-500 font-mono",children:[i.rut," | ",i.alias]})]})}),S.jsx("div",{className:"mt-1",children:S.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold border ${o(i.riskLevel)}`,children:i.riskLevel})}),S.jsxs("div",{className:"text-xs text-gray-400 mt-2 flex justify-between",children:[S.jsxs("span",{children:["Ficha: ",i.id]}),S.jsxs("span",{children:["Actualizado: ",new Date(((a=i.entries[i.entries.length-1])==null?void 0:a.createdAt)||new Date).toLocaleDateString()]})]})]})]})},TN=({subject:i,officer:t,onBack:o,onUpdate:a})=>{const[r,d]=qe.useState(""),[m,g]=qe.useState(""),[y,h]=qe.useState("ANTECEDENTE"),[v,E]=qe.useState(!1),[_,C]=qe.useState("FICHA"),U=t.department===i.ownerDepartment,G=i.investigationStatus==="ABIERTA"&&!U;qe.useEffect(()=>{new Date().toISOString(),`${t.rank}${t.name}`,t.department},[i.id]);const[L,V]=qe.useState("NONE"),Z=qe.useRef(null),F=(M,z="ACTUALIZACION",xe)=>({id:Date.now().toString(),content:M,createdAt:new Date().toISOString(),officerName:`${t.rank} ${t.name}`,requestorName:m||"SISTEMA/MISMA UNIDAD",department:t.department,regionSection:t.regionSection,type:z,relatedImageUrl:xe}),$=M=>{M.preventDefault(),r.trim()&&(a({...i,entries:[...i.entries,F(r,y)],aiAnalysis:void 0}),d(""),g(""))},te=M=>{var xe;const z=(xe=M.target.files)==null?void 0:xe[0];if(z){const Ke=new FileReader;Ke.onloadend=()=>{const q=Ke.result,J=F("Actualizacin de fotografa de perfil del sujeto.","ACTUALIZACION",q);a({...i,imageUrl:q,entries:[...i.entries,J]})},Ke.readAsDataURL(z)}},ne=async()=>{E(!0);const M=await hN(i);a({...i,aiAnalysis:M}),E(!1)},Y=()=>{if(!U)return;const M=i.investigationStatus==="ABIERTA"?"LIBERADA":"ABIERTA";a({...i,investigationStatus:M,entries:[...i.entries,F(`Estado de investigacin cambiado a: ${M}`,"ACTUALIZACION")]})},fe=()=>{if(i.investigationStatus==="ABIERTA"){alert("No es posible imprimir una ficha con investigacin en curso (Estado: ABIERTA).");return}const M={timestamp:new Date().toISOString(),user:`${t.rank} ${t.name}`,department:t.department,action:"IMPRESION"},z=[...i.accessLogs||[],M],xe={...i,accessLogs:z};a(xe),setTimeout(()=>{window.print()},100)},X=(M,z)=>{const xe=i[M]||[];a({...i,[M]:[...xe,z]}),V("NONE")},de=()=>S.jsxs("div",{className:"bg-red-50 border-l-4 border-red-600 p-4 mb-4 rounded-r shadow-sm flex items-start gap-4 print:hidden",children:[S.jsx(xa,{className:"h-8 w-8 text-red-600 flex-shrink-0 mt-1"}),S.jsxs("div",{children:[S.jsx("h3",{className:"font-bold text-red-800 text-lg",children:"ANTECEDENTES RESERVADOS"}),S.jsxs("p",{className:"text-red-700 text-sm",children:["Esta ficha mantiene una ",S.jsx("strong",{children:"Investigacin Abierta"}),". Se muestran solo los antecedentes principales."]}),S.jsxs("div",{className:"mt-2 text-sm font-semibold text-red-900 bg-red-100 p-2 rounded inline-block",children:["Contacto por nuevos antecedentes: ",i.ownerDepartment," - ",i.ownerRegionSection]})]})]}),pe=()=>S.jsxs("div",{className:"bg-gray-50 border border-dashed border-gray-300 rounded p-6 text-center text-gray-400 italic print:hidden",children:[S.jsx(bv,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),"Informacin restringida por unidad propietaria."]});return S.jsxs("div",{className:"max-w-6xl mx-auto space-y-6 print:space-y-2 print:max-w-none print:p-0",children:[S.jsxs("div",{className:"flex justify-between items-center print:hidden",children:[S.jsx("button",{onClick:o,className:"text-sm text-gray-500 hover:text-brand-primary flex items-center gap-1",children:" Volver a Bsqueda"}),S.jsx("div",{className:"flex gap-2",children:["FICHA","BITACORA","ANALISIS"].map(M=>S.jsx("button",{onClick:()=>C(M),className:`px-4 py-2 text-sm font-bold rounded-md transition-colors ${_===M?"bg-police-800 text-white shadow-md":"bg-white text-gray-600 hover:bg-gray-100"}`,children:M},M))})]}),G&&S.jsx(de,{}),_==="FICHA"&&S.jsxs("div",{className:"bg-white rounded shadow-lg border border-gray-300 overflow-hidden print:shadow-none print:border-none",children:[S.jsxs("div",{className:"bg-brand-secondary px-6 py-3 border-b-4 border-brand-primary flex justify-between items-center print:bg-white print:text-black print:border-b-2 print:border-black print:px-0",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsxs("h2",{className:"text-white font-bold text-lg tracking-wide print:text-black",children:["FICHA DE ANTECEDENTES | ",t.department.split(" ").pop()]}),S.jsxs("div",{className:`flex items-center gap-1 px-3 py-1 rounded text-xs font-bold uppercase border print:border-black print:text-black ${i.investigationStatus==="ABIERTA"?"bg-red-600 text-white border-red-400":"bg-white text-brand-primary border-brand-primary"}`,children:[i.investigationStatus==="ABIERTA"?S.jsx(xa,{className:"h-3 w-3"}):S.jsx(Vv,{className:"h-3 w-3"}),i.investigationStatus==="ABIERTA"?"Investigacin Abierta":"Investigacin Liberada"]})]}),S.jsxs("div",{className:"flex items-center gap-4 print:hidden",children:[U&&S.jsx("button",{onClick:Y,className:"text-xs bg-yellow-500 hover:bg-yellow-600 text-police-900 font-bold px-3 py-1 rounded shadow",children:i.investigationStatus==="ABIERTA"?"Liberar Ficha":"Cerrar Investigacin"}),S.jsxs("span",{className:"text-white/80 text-xs font-mono font-bold tracking-widest",children:["N ",i.id]})]}),S.jsxs("div",{className:"hidden print:block font-mono text-sm",children:["N FICHA: ",i.id]})]}),S.jsx("div",{className:"p-6 print:p-0 print:pt-4",children:S.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[S.jsxs("div",{className:"w-full md:w-48 flex-shrink-0",children:[S.jsxs("div",{className:"aspect-[3/4] bg-gray-200 rounded-xl shadow-lg overflow-hidden mb-4 relative group border border-gray-100 print:shadow-none print:border",children:[i.imageUrl?S.jsx("img",{src:i.imageUrl,alt:"Sujeto",className:"w-full h-full object-cover"}):S.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:S.jsx(Oa,{className:"h-12 w-12"})}),!G&&S.jsxs("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center print:hidden",children:[S.jsx("button",{onClick:()=>{var M;return(M=Z.current)==null?void 0:M.click()},className:"bg-white/90 p-2 rounded-full text-gray-800 hover:bg-white transition-colors shadow-lg",title:"Actualizar Fotografa",children:S.jsx(Cv,{className:"h-6 w-6"})}),S.jsx("input",{ref:Z,type:"file",accept:"image/*",className:"hidden",onChange:te})]})]}),S.jsx("div",{className:"text-center print:hidden",children:S.jsx("span",{className:"inline-block px-3 py-1 bg-red-600 text-white text-xs font-bold rounded-full w-full shadow-sm",children:i.riskLevel})}),S.jsxs("div",{className:"text-center hidden print:block border border-black p-1 font-bold text-sm",children:["RIESGO: ",i.riskLevel]})]}),S.jsxs("div",{className:"flex-1",children:[S.jsxs("div",{className:"text-center md:text-left mb-6 print:mb-2",children:[S.jsx("h1",{className:"text-3xl font-extrabold text-red-600 uppercase leading-tight print:text-black",children:i.fullName}),S.jsxs("p",{className:"text-xs text-gray-400 mt-1 print:text-gray-600",children:["Unidad Propietaria: ",i.ownerDepartment," (",i.ownerRegionSection,")"]})]}),S.jsx(hn,{title:"Antecedentes Personales"}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2 text-sm border p-4 bg-gray-50/50 relative group print:bg-transparent print:border-black print:text-xs",children:[S.jsxs("div",{className:"grid grid-cols-[130px_1fr] gap-2",children:[S.jsx("span",{className:"font-bold text-gray-700",children:"R.U.N.:"}),S.jsx("span",{className:"font-mono",children:i.rut}),S.jsx("span",{className:"font-bold text-gray-700",children:"NACIMIENTO:"}),S.jsx("span",{children:i.birthDate}),S.jsx("span",{className:"font-bold text-gray-700",children:"EDAD:"}),S.jsxs("span",{children:[new Date().getFullYear()-new Date(i.birthDate).getFullYear()," Aos"]}),S.jsx("span",{className:"font-bold text-gray-700",children:"NACIONALIDAD:"}),S.jsx("span",{className:"uppercase",children:i.nationality}),S.jsx("span",{className:"font-bold text-gray-700",children:"SEXO (BIOLGICO):"}),S.jsx("span",{className:"uppercase",children:i.sex})]}),S.jsxs("div",{className:"grid grid-cols-[130px_1fr] gap-2",children:[S.jsx("span",{className:"font-bold text-gray-700",children:"ALIAS:"}),S.jsxs("span",{className:"font-bold",children:['"',i.alias,'"']}),S.jsx("span",{className:"font-bold text-gray-700",children:"SEXO REGISTRAL:"}),S.jsx("span",{className:"uppercase",children:i.registralSex||"NO REGISTRA"}),S.jsx("span",{className:"font-bold text-gray-700",children:"ID. GNERO:"}),S.jsx("span",{className:"uppercase",children:i.genderIdentity||"NO INFORMADO"}),S.jsx("span",{className:"font-bold text-gray-700",children:"ESTADO CIVIL:"}),S.jsxs("span",{className:"uppercase",children:[i.civilStatus||"NO REGISTRA",(i.civilStatus==="CASADO"||i.civilStatus==="CONVIVIENTE")&&i.partnerName&&S.jsxs("span",{className:"block text-xs text-gray-500 font-medium mt-0.5 print:text-black",children:["Pareja: ",i.partnerName," (",i.partnerRut||"S/R",")"]})]}),S.jsx("span",{className:"font-bold text-gray-700",children:"ESTADO PROC.:"}),S.jsxs("span",{className:`uppercase font-bold ${i.legalStatus==="LIBERTAD"?"text-green-600":"text-red-600"} print:text-black`,children:[i.legalStatus," ",i.legalStatus==="CENTRO PENITENCIARIO"&&i.currentPrison?`(${i.currentPrison})`:""]}),S.jsxs("div",{className:"col-span-2 text-[10px] text-gray-500 italic mt-0",children:["Actualizado: ",i.legalStatusUpdatedAt||"Sin fecha"]}),S.jsxs("span",{className:"font-bold text-gray-700 flex items-center gap-1 mt-1",children:["HIJOS",!G&&S.jsx("button",{onClick:()=>V("CHILD"),className:"bg-gray-200 hover:bg-gray-300 rounded p-0.5 print:hidden",children:S.jsx(Su,{className:"h-3 w-3"})}),":"]}),S.jsx("span",{className:"uppercase mt-1",children:i.hasChildren?i.children&&i.children.length>0?i.children.map(M=>M.fullName).join(", "):"SI (Sin registro)":"NO"})]}),i.belongsToCriminalOrg&&S.jsx("div",{className:"col-span-1 md:col-span-2 mt-2 pt-2 border-t border-gray-200 bg-red-50 p-2 print:bg-transparent print:border-black print:border-t",children:S.jsxs("div",{className:"grid grid-cols-[130px_1fr] gap-2",children:[S.jsx("span",{className:"font-bold text-red-800 print:text-black",children:"ORG. CRIMINAL:"}),S.jsx("span",{className:"font-bold text-red-900 uppercase print:text-black",children:i.criminalOrgName}),S.jsx("span",{className:"font-bold text-red-800 print:text-black",children:"ORIGEN:"}),S.jsxs("span",{className:"uppercase text-red-900 print:text-black",children:[i.criminalOrgRegion,", ",i.criminalOrgCommune]})]})}),S.jsxs("div",{className:"col-span-1 md:col-span-2 mt-2 pt-2 border-t border-gray-200",children:[S.jsxs("div",{className:"grid grid-cols-[110px_1fr] gap-2 mb-1",children:[S.jsx("span",{className:"font-bold text-gray-700",children:"DOMICILIO:"}),S.jsx("span",{className:"uppercase",children:i.address1||"SIN INFORMACIN"})]}),i.observations&&S.jsxs("div",{className:"mt-3 p-2 bg-red-50 border border-red-100 text-red-700 font-bold text-center uppercase text-xs print:bg-transparent print:border-black print:text-black print:text-left print:p-0",children:["OBSERVACIONES: ",i.observations]})]})]}),S.jsx(hn,{title:"Antecedentes Policiales (SCIC)",onAdd:()=>V("POLICE"),disabled:G}),G?S.jsx(pe,{}):i.policeRecords&&i.policeRecords.length>0?S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"w-full text-sm text-left border border-gray-300 print:text-xs",children:[S.jsx(di,{cols:["Tipo","Delito","Unidad","Fecha","Parte"]}),S.jsx("tbody",{children:i.policeRecords.map((M,z)=>S.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[S.jsx("td",{className:"px-3 py-1 font-bold",children:M.type}),S.jsx("td",{className:"px-3 py-1",children:M.crime}),S.jsx("td",{className:"px-3 py-1",children:M.unit}),S.jsx("td",{className:"px-3 py-1 whitespace-nowrap",children:M.date}),S.jsx("td",{className:"px-3 py-1 font-mono",children:M.reportNumber})]},z))})]})}):S.jsx("div",{className:"text-xs text-gray-500 italic p-2 border border-dashed text-center",children:"Sin antecedentes policiales registrados."}),S.jsx(hn,{title:"Antecedentes Penales",onAdd:()=>V("CRIMINAL"),disabled:G}),G?S.jsx(pe,{}):i.criminalRecords&&i.criminalRecords.length>0?S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"w-full text-sm text-left border border-gray-300 print:text-xs",children:[S.jsx(di,{cols:["Delito","Tribunal","Ao"]}),S.jsx("tbody",{children:i.criminalRecords.map((M,z)=>S.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[S.jsx("td",{className:"px-3 py-1 font-bold",children:M.crime}),S.jsx("td",{className:"px-3 py-1",children:M.tribunal}),S.jsx("td",{className:"px-3 py-1 font-mono",children:M.year})]},z))})]})}):S.jsx("div",{className:"text-xs text-gray-500 italic p-2 border border-dashed text-center",children:"Sin antecedentes penales."}),S.jsx(hn,{title:"Compaeros de Delito",onAdd:()=>V("ASSOCIATE"),disabled:G}),G?S.jsx(pe,{}):i.associates&&i.associates.length>0?S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"w-full text-sm text-left border border-gray-300 print:text-xs",children:[S.jsx(di,{cols:["RUT","Nombre","Delito","Fecha","Unidad","Ao"]}),S.jsx("tbody",{children:i.associates.map((M,z)=>S.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[S.jsx("td",{className:"px-3 py-1 font-mono text-xs",children:M.rut}),S.jsx("td",{className:"px-3 py-1 font-bold text-xs",children:M.name}),S.jsx("td",{className:"px-3 py-1 text-xs",children:M.crime}),S.jsx("td",{className:"px-3 py-1 whitespace-nowrap text-xs",children:M.date}),S.jsx("td",{className:"px-3 py-1 text-xs",children:M.unit}),S.jsx("td",{className:"px-3 py-1 text-xs",children:M.year})]},z))})]})}):S.jsx("div",{className:"text-xs text-gray-500 italic p-2 border border-dashed text-center",children:"Sin compaeros de delito registrados."}),S.jsx(hn,{title:"Denuncias",onAdd:()=>V("COMPLAINT"),disabled:G}),G?S.jsx(pe,{}):i.complaints&&i.complaints.length>0?S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"w-full text-sm text-left border border-gray-300 print:text-xs",children:[S.jsx(di,{cols:["Institucin","Tipo","Delito","Fecha","Observaciones"]}),S.jsx("tbody",{children:i.complaints.map((M,z)=>S.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[S.jsx("td",{className:"px-3 py-1 font-bold text-xs",children:M.institution}),S.jsx("td",{className:"px-3 py-1 text-xs",children:M.type}),S.jsx("td",{className:"px-3 py-1 text-xs",children:M.crime}),S.jsx("td",{className:"px-3 py-1 whitespace-nowrap text-xs",children:M.date}),S.jsx("td",{className:"px-3 py-1 text-xs italic",children:M.observations})]},z))})]})}):S.jsx("div",{className:"text-xs text-gray-500 italic p-2 border border-dashed text-center",children:"Sin denuncias registradas."}),S.jsx(hn,{title:"Causas Ministerio Pblico",onAdd:()=>V("MP_CAUSE"),disabled:G}),G?S.jsx(pe,{}):i.publicMinistryCauses&&i.publicMinistryCauses.length>0?S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"w-full text-sm text-left border border-gray-300 print:text-xs",children:[S.jsx(di,{cols:["RUC","Fiscala","Delito","Estado"]}),S.jsx("tbody",{children:i.publicMinistryCauses.map((M,z)=>S.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[S.jsx("td",{className:"px-3 py-1 font-mono text-xs",children:M.ruc}),S.jsx("td",{className:"px-3 py-1 text-xs",children:M.prosecution}),S.jsx("td",{className:"px-3 py-1 text-xs",children:M.crime}),S.jsx("td",{className:"px-3 py-1 text-xs",children:S.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] text-white ${M.status==="TERMINADO"?"bg-gray-500":"bg-red-500"} print:text-black print:border print:border-black`,children:M.status})})]},z))})]})}):S.jsx("div",{className:"text-xs text-gray-500 italic p-2 border border-dashed text-center",children:"Sin causas MP."}),S.jsx(hn,{title:"Gendarmera (Historial Penal)",onAdd:()=>V("GENDARMERIE"),disabled:G}),G?S.jsx(pe,{}):i.gendarmerieRecords&&i.gendarmerieRecords.length>0?S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"w-full text-sm text-left border border-gray-300 print:text-xs",children:[S.jsx(di,{cols:["Unidad Penal","Ingreso","Egreso","Causa"]}),S.jsx("tbody",{children:i.gendarmerieRecords.map((M,z)=>S.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[S.jsx("td",{className:"px-3 py-1 text-xs",children:M.penalUnit}),S.jsx("td",{className:"px-3 py-1 whitespace-nowrap text-xs",children:M.entryDate}),S.jsx("td",{className:"px-3 py-1 whitespace-nowrap text-xs",children:M.exitDate}),S.jsx("td",{className:"px-3 py-1 text-xs",children:M.exitCause})]},z))})]})}):S.jsx("div",{className:"text-xs text-gray-500 italic p-2 border border-dashed text-center",children:"Sin historial en Gendarmera."}),S.jsx(hn,{title:"Otros Antecedentes de Inters",onAdd:()=>V("OTHER_INFO"),disabled:G}),G?S.jsx(pe,{}):i.otherBackgrounds&&i.otherBackgrounds.length>0?S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"w-full text-sm text-left border border-gray-300 print:text-xs",children:[S.jsx(di,{cols:["Fecha","Situacin","Lugar","Circunstancias","Especies"]}),S.jsx("tbody",{children:i.otherBackgrounds.map((M,z)=>S.jsxs("tr",{className:"border-b hover:bg-gray-50 align-top",children:[S.jsx("td",{className:"px-3 py-1 whitespace-nowrap text-xs font-bold",children:M.date}),S.jsx("td",{className:"px-3 py-1 text-xs",children:M.situation}),S.jsx("td",{className:"px-3 py-1 text-xs",children:M.place}),S.jsx("td",{className:"px-3 py-1 text-xs",children:M.circumstances}),S.jsx("td",{className:"px-3 py-1 text-xs text-red-700 print:text-black",children:M.seizedItems})]},z))})]})}):S.jsx("div",{className:"text-xs text-gray-500 italic p-2 border border-dashed text-center",children:"Sin otros antecedentes."}),S.jsxs("div",{className:"print:hidden",children:[S.jsx(hn,{title:"Links de Noticias",onAdd:()=>V("NEWS"),disabled:G}),i.newsLinks&&i.newsLinks.length>0?S.jsx("ul",{className:"space-y-1",children:i.newsLinks.map((M,z)=>S.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[S.jsx(Hv,{className:"h-3 w-3 text-blue-500"}),S.jsxs("span",{className:"font-bold",children:[M.source,":"]}),S.jsx("a",{href:M.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline truncate",children:M.url})]},z))}):null]}),S.jsx("div",{className:"mt-8 border-t-4 border-gray-800 pt-6 print:hidden",children:S.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[S.jsxs("div",{className:"flex justify-between items-center mb-4",children:[S.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[S.jsx(am,{className:"h-5 w-5"}),"Gestin de Reportes y Auditora"]}),i.investigationStatus==="LIBERADA"?S.jsxs("button",{onClick:fe,className:"bg-brand-primary hover:bg-brand-secondary text-white px-4 py-2 rounded font-bold shadow-md flex items-center gap-2",children:[S.jsx(am,{className:"h-4 w-4"}),"Imprimir Ficha Oficial"]}):S.jsx("span",{className:"text-xs font-bold bg-red-100 text-red-800 px-3 py-1 rounded border border-red-200",children:"IMPRESIN BLOQUEADA (Inv. Abierta)"})]}),S.jsxs("div",{className:"bg-white border border-gray-300 rounded overflow-hidden",children:[S.jsxs("div",{className:"bg-gray-200 px-3 py-2 text-xs font-bold text-gray-700 uppercase flex items-center gap-1",children:[S.jsx(wv,{className:"h-3 w-3"}),"Historial de Accesos / Impresiones"]}),S.jsx("div",{className:"max-h-40 overflow-y-auto",children:S.jsxs("table",{className:"w-full text-xs",children:[S.jsx("thead",{className:"bg-gray-50 border-b",children:S.jsxs("tr",{children:[S.jsx("th",{className:"px-2 py-1 text-left",children:"Fecha/Hora"}),S.jsx("th",{className:"px-2 py-1 text-left",children:"Funcionario"}),S.jsx("th",{className:"px-2 py-1 text-left",children:"Unidad"}),S.jsx("th",{className:"px-2 py-1 text-left",children:"Accin"})]})}),S.jsxs("tbody",{children:[(i.accessLogs||[]).slice().reverse().map((M,z)=>S.jsxs("tr",{className:"border-b last:border-0 hover:bg-gray-50",children:[S.jsx("td",{className:"px-2 py-1 text-gray-500",children:new Date(M.timestamp).toLocaleString()}),S.jsx("td",{className:"px-2 py-1 font-medium",children:M.user}),S.jsx("td",{className:"px-2 py-1",children:M.department}),S.jsx("td",{className:"px-2 py-1",children:S.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-bold ${M.action==="IMPRESION"?"bg-blue-100 text-blue-800":M.action==="VISUALIZACION"?"bg-gray-100 text-gray-600":"bg-yellow-100 text-yellow-800"}`,children:M.action})})]},z)),(!i.accessLogs||i.accessLogs.length===0)&&S.jsx("tr",{children:S.jsx("td",{colSpan:4,className:"p-2 text-center text-gray-400 italic",children:"Sin registros de acceso."})})]})]})})]})]})})]})]})})]}),_==="BITACORA"&&(G?S.jsxs("div",{className:"bg-white p-12 rounded shadow border text-center print:hidden",children:[S.jsx(xa,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),S.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Acceso Restringido a Bitcora"}),S.jsxs("p",{className:"text-gray-500 mt-2 max-w-lg mx-auto",children:["El detalle de las diligencias y bitcora operativa se encuentra reservado debido al estado de ",S.jsx("strong",{children:"Investigacin Abierta"}),"."]}),S.jsxs("div",{className:"mt-6 p-3 bg-red-50 text-red-800 rounded inline-block text-sm",children:["Solicitar acceso a: ",S.jsx("strong",{children:i.ownerDepartment})]})]}):S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 print:hidden",children:[S.jsxs("div",{className:"md:col-span-2 space-y-4",children:[S.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5 border-l-4 border-l-brand-primary",children:[S.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-2 flex items-center gap-2",children:[S.jsx(Su,{className:"h-5 w-5 text-brand-primary"}),"Nueva Diligencia / Vinculacin"]}),S.jsxs("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-2",children:[S.jsxs("button",{onClick:()=>V("VEHICLE"),className:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 hover:bg-brand-primary hover:text-white rounded text-xs font-semibold text-gray-700 transition-colors border border-gray-300",children:[S.jsx(Nv,{className:"h-4 w-4"})," Vehculo"]}),S.jsxs("button",{onClick:()=>V("ADDRESS"),className:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 hover:bg-brand-primary hover:text-white rounded text-xs font-semibold text-gray-700 transition-colors border border-gray-300",children:[S.jsx(Lv,{className:"h-4 w-4"})," Domicilio"]}),S.jsxs("button",{onClick:()=>V("SOCIAL"),className:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 hover:bg-brand-primary hover:text-white rounded text-xs font-semibold text-gray-700 transition-colors border border-gray-300",children:[S.jsx(Iv,{className:"h-4 w-4"})," Red Social"]}),S.jsxs("button",{onClick:()=>V("PHONE"),className:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 hover:bg-brand-primary hover:text-white rounded text-xs font-semibold text-gray-700 transition-colors border border-gray-300",children:[S.jsx(Zv,{className:"h-4 w-4"})," Telfono"]})]}),S.jsxs("form",{onSubmit:$,children:[S.jsxs("div",{className:"mb-2",children:[S.jsx("label",{className:"text-xs text-gray-500 font-medium uppercase block mb-1",children:"Solicitado por (Opcional):"}),S.jsx("input",{value:m,onChange:M=>g(M.target.value),placeholder:"Ej: Fiscal Juan Prez / Capitn Gonzlez",className:"w-full border border-gray-300 rounded-md p-2 text-sm outline-none mb-3"}),S.jsx("span",{className:"text-xs text-gray-500 font-medium uppercase",children:"Detalle:"})]}),S.jsx("textarea",{value:r,onChange:M=>d(M.target.value),placeholder:"Detalle la actualizacin operativa general...",className:"w-full border border-gray-300 rounded-md p-3 text-sm focus:ring-2 focus:ring-brand-primary outline-none min-h-[80px]"}),S.jsxs("div",{className:"flex justify-between items-center mt-3",children:[S.jsx("div",{className:"flex gap-2",children:["ANTECEDENTE","DILIGENCIA","DETENCION","ACTUALIZACION"].map(M=>S.jsx("button",{type:"button",onClick:()=>h(M),className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider transition-colors ${y===M?"bg-police-700 text-white":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,children:M},M))}),S.jsxs("button",{type:"submit",disabled:!r.trim(),className:"bg-brand-primary text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-brand-secondary disabled:opacity-50 flex items-center gap-2",children:[S.jsx(Jv,{className:"h-4 w-4"}),"Registrar"]})]})]})]}),S.jsx("div",{className:"space-y-4",children:i.entries.slice().reverse().map(M=>S.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 relative pl-10",children:[S.jsx("div",{className:"absolute left-4 top-4 bottom-0 w-0.5 bg-gray-200 h-full"}),S.jsx("div",{className:`absolute left-2.5 top-5 w-3 h-3 rounded-full border-2 border-white shadow-sm ${M.type==="DETENCION"?"bg-red-500":"bg-brand-primary"}`}),S.jsxs("div",{className:"flex justify-between items-start mb-1",children:[S.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded text-white ${M.type==="DETENCION"?"bg-red-600":"bg-police-600"}`,children:M.type}),S.jsx("span",{className:"text-xs text-gray-400",children:new Date(M.createdAt).toLocaleString()})]}),S.jsx("p",{className:"text-sm text-gray-800 mt-2 whitespace-pre-line",children:M.content}),M.relatedImageUrl&&S.jsxs("div",{className:"mt-3 bg-gray-50 p-2 rounded border border-gray-200",children:[S.jsx("p",{className:"text-xs text-gray-500 mb-1 font-semibold",children:"Fotografa adjunta:"}),S.jsx("img",{src:M.relatedImageUrl,alt:"Evidencia en Bitcora",className:"h-32 rounded shadow-sm object-cover"})]}),S.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-100 text-xs text-gray-500 flex flex-col gap-1",children:[S.jsxs("div",{className:"flex justify-between",children:[S.jsxs("span",{children:[S.jsx("strong",{children:"Reg:"})," ",M.officerName]}),S.jsx("span",{children:M.department})]}),M.requestorName&&S.jsxs("div",{className:"text-brand-secondary font-medium",children:[S.jsx("strong",{children:"Solicitado por:"})," ",M.requestorName]})]})]},M.id))})]}),S.jsx("div",{className:"space-y-4",children:S.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-100",children:[S.jsx("h4",{className:"font-bold text-brand-secondary text-sm mb-2",children:"Resumen de Actividad"}),S.jsx("div",{className:"text-2xl font-bold text-gray-800",children:i.entries.length}),S.jsx("div",{className:"text-xs text-gray-600",children:"Entradas registradas"})]})})]})),_==="ANALISIS"&&(G?S.jsxs("div",{className:"bg-white p-12 rounded shadow border text-center print:hidden",children:[S.jsx(xa,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),S.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Anlisis Reservado"}),S.jsx("p",{className:"text-gray-500 mt-2 max-w-lg mx-auto",children:"El anlisis de inteligencia policial no puede ser generado o visualizado mientras la ficha mantenga una investigacin abierta por otro departamento."})]}):S.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-green-100 overflow-hidden print:hidden",children:[S.jsx("div",{className:"bg-gradient-to-r from-brand-secondary to-brand-primary p-4 text-white flex justify-between items-center",children:S.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[S.jsx(om,{className:"h-5 w-5"}),"Anlisis de Inteligencia (IA)"]})}),S.jsx("div",{className:"p-6",children:i.aiAnalysis?S.jsxs("div",{className:"prose prose-sm prose-green max-w-none",children:[S.jsx("div",{className:"text-gray-800 bg-green-50 p-6 rounded-md border border-green-100 leading-relaxed whitespace-pre-line",children:i.aiAnalysis}),S.jsx("div",{className:"mt-4 flex justify-end",children:S.jsx("button",{onClick:ne,disabled:v,className:"text-sm text-brand-secondary hover:text-brand-primary font-medium flex items-center gap-2",children:v?"Regenerando...":"Actualizar Anlisis con Nuevos Datos"})})]}):S.jsxs("div",{className:"text-center py-12",children:[S.jsx(om,{className:"h-12 w-12 text-brand-primary/50 mx-auto mb-4"}),S.jsx("p",{className:"text-gray-600 mb-6",children:"El sistema puede generar un perfil de riesgo y anlisis criminal basado en los antecedentes cargados."}),S.jsx("button",{onClick:ne,disabled:v,className:"bg-brand-primary text-white px-6 py-3 rounded-md font-semibold hover:bg-brand-secondary shadow-lg flex items-center gap-2 mx-auto",children:v?"Procesando...":"Generar Perfil IA"})]})})]})),L==="POLICE"&&S.jsx(Rt,{title:"Agregar Antecedente Policial",onClose:()=>V("NONE"),children:S.jsxs("form",{onSubmit:M=>{M.preventDefault();const z=new FormData(M.currentTarget);X("policeRecords",{type:z.get("type"),crime:z.get("crime"),unit:z.get("unit"),date:z.get("date"),reportNumber:z.get("reportNumber")})},className:"space-y-3",children:[S.jsx("input",{name:"type",placeholder:"Tipo (ej. DETENIDO)",className:"w-full border p-2 rounded",required:!0}),S.jsx("input",{name:"crime",placeholder:"Delito",className:"w-full border p-2 rounded",required:!0}),S.jsx("input",{name:"unit",placeholder:"Unidad",className:"w-full border p-2 rounded",required:!0}),S.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[S.jsx("input",{name:"date",type:"date",placeholder:"Fecha",className:"w-full border p-2 rounded",required:!0}),S.jsx("input",{name:"reportNumber",placeholder:"N Parte",className:"w-full border p-2 rounded",required:!0})]}),S.jsx("button",{type:"submit",className:"w-full bg-brand-primary text-white py-2 rounded",children:"Guardar"})]})}),L==="CRIMINAL"&&S.jsx(Rt,{title:"Agregar Antecedente Penal",onClose:()=>V("NONE"),children:S.jsxs("form",{onSubmit:M=>{M.preventDefault();const z=new FormData(M.currentTarget);X("criminalRecords",{crime:z.get("crime"),tribunal:z.get("tribunal"),year:z.get("year")})},className:"space-y-3",children:[S.jsx("input",{name:"crime",placeholder:"Delito",className:"w-full border p-2 rounded",required:!0}),S.jsx("input",{name:"tribunal",placeholder:"Tribunal",className:"w-full border p-2 rounded",required:!0}),S.jsx("input",{name:"year",type:"number",placeholder:"Ao",className:"w-full border p-2 rounded",required:!0}),S.jsx("button",{type:"submit",className:"w-full bg-brand-primary text-white py-2 rounded",children:"Guardar"})]})}),L==="ASSOCIATE"&&S.jsx(Rt,{title:"Agregar Compaero de Delito",onClose:()=>V("NONE"),children:S.jsxs("form",{onSubmit:M=>{M.preventDefault();const z=new FormData(M.currentTarget);X("associates",{rut:z.get("rut"),name:z.get("name"),crime:z.get("crime"),date:z.get("date"),reportNumber:z.get("reportNumber"),unit:z.get("unit"),year:z.get("year")})},className:"space-y-3",children:[S.jsx("input",{name:"rut",placeholder:"RUT",className:"w-full border p-2 rounded",required:!0}),S.jsx("input",{name:"name",placeholder:"Nombre Completo",className:"w-full border p-2 rounded",required:!0}),S.jsx("input",{name:"crime",placeholder:"Delito",className:"w-full border p-2 rounded",required:!0}),S.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[S.jsx("input",{name:"date",type:"date",className:"w-full border p-2 rounded",required:!0}),S.jsx("input",{name:"reportNumber",placeholder:"N Parte",className:"w-full border p-2 rounded",required:!0}),S.jsx("input",{name:"year",placeholder:"Ao",className:"w-full border p-2 rounded",required:!0})]}),S.jsx("input",{name:"unit",placeholder:"Unidad",className:"w-full border p-2 rounded",required:!0}),S.jsx("button",{type:"submit",className:"w-full bg-brand-primary text-white py-2 rounded",children:"Guardar"})]})}),L==="COMPLAINT"&&S.jsx(Rt,{title:"Agregar Denuncia",onClose:()=>V("NONE"),children:S.jsxs("form",{onSubmit:M=>{M.preventDefault();const z=new FormData(M.currentTarget);X("complaints",{institution:z.get("institution"),type:z.get("type"),crime:z.get("crime"),date:z.get("date"),observations:z.get("observations")})},className:"space-y-3",children:[S.jsxs("select",{name:"institution",className:"w-full border p-2 rounded",children:[S.jsx("option",{value:"CARABINEROS",children:"CARABINEROS"}),S.jsx("option",{value:"PDI",children:"PDI"}),S.jsx("option",{value:"FISCALIA",children:"FISCALIA"})]}),S.jsx("input",{name:"type",placeholder:"Tipo (ej. DENUNCIA, QUERELLA)",className:"w-full border p-2 rounded",required:!0}),S.jsx("input",{name:"crime",placeholder:"Delito",className:"w-full border p-2 rounded",required:!0}),S.jsx("input",{name:"date",type:"date",className:"w-full border p-2 rounded",required:!0}),S.jsx("textarea",{name:"observations",placeholder:"Observaciones",className:"w-full border p-2 rounded",rows:3,required:!0}),S.jsx("button",{type:"submit",className:"w-full bg-brand-primary text-white py-2 rounded",children:"Guardar"})]})}),L==="MP_CAUSE"&&S.jsx(Rt,{title:"Agregar Causa Ministerio Pblico",onClose:()=>V("NONE"),children:S.jsxs("form",{onSubmit:M=>{M.preventDefault();const z=new FormData(M.currentTarget);X("publicMinistryCauses",{ruc:z.get("ruc"),prosecution:z.get("prosecution"),status:z.get("status"),crime:z.get("crime")})},className:"space-y-3",children:[S.jsx("input",{name:"ruc",placeholder:"RUC",className:"w-full border p-2 rounded",required:!0}),S.jsx("input",{name:"prosecution",placeholder:"Fiscala (ej. Fiscala Local Centro)",className:"w-full border p-2 rounded",required:!0}),S.jsx("input",{name:"crime",placeholder:"Delito",className:"w-full border p-2 rounded",required:!0}),S.jsxs("select",{name:"status",className:"w-full border p-2 rounded",children:[S.jsx("option",{value:"EN TRAMITE",children:"EN TRAMITE"}),S.jsx("option",{value:"TERMINADO",children:"TERMINADO"}),S.jsx("option",{value:"VIGENTE",children:"VIGENTE"})]}),S.jsx("button",{type:"submit",className:"w-full bg-brand-primary text-white py-2 rounded",children:"Guardar"})]})}),L==="OTHER_INFO"&&S.jsx(Rt,{title:"Agregar Otros Antecedentes",onClose:()=>V("NONE"),children:S.jsxs("form",{onSubmit:M=>{M.preventDefault();const z=new FormData(M.currentTarget);X("otherBackgrounds",{date:z.get("date"),situation:z.get("situation"),place:z.get("place"),circumstances:z.get("circumstances"),seizedItems:z.get("seizedItems")})},className:"space-y-3",children:[S.jsx("input",{name:"date",placeholder:"Fecha",type:"date",className:"w-full border p-2 rounded",required:!0}),S.jsx("input",{name:"situation",placeholder:"Situacin",className:"w-full border p-2 rounded",required:!0}),S.jsx("input",{name:"place",placeholder:"Lugar",className:"w-full border p-2 rounded",required:!0}),S.jsx("textarea",{name:"circumstances",placeholder:"Circunstancias del hecho",className:"w-full border p-2 rounded",rows:3,required:!0}),S.jsx("textarea",{name:"seizedItems",placeholder:"Especies Incautadas",className:"w-full border p-2 rounded",rows:2,required:!0}),S.jsx("button",{type:"submit",className:"w-full bg-brand-primary text-white py-2 rounded",children:"Guardar"})]})}),L==="NEWS"&&S.jsx(Rt,{title:"Agregar Link de Noticia",onClose:()=>V("NONE"),children:S.jsxs("form",{onSubmit:M=>{M.preventDefault();const z=new FormData(M.currentTarget);X("newsLinks",{source:z.get("source"),url:z.get("url")})},className:"space-y-3",children:[S.jsx("input",{name:"source",placeholder:"Medio (ej. BioBioChile)",className:"w-full border p-2 rounded",required:!0}),S.jsx("input",{name:"url",placeholder:"URL Link",type:"url",className:"w-full border p-2 rounded",required:!0}),S.jsx("button",{type:"submit",className:"w-full bg-brand-primary text-white py-2 rounded",children:"Guardar"})]})}),L==="GENDARMERIE"&&S.jsx(Rt,{title:"Agregar Historial Gendarmera",onClose:()=>V("NONE"),children:S.jsxs("form",{onSubmit:M=>{M.preventDefault();const z=new FormData(M.currentTarget);X("gendarmerieRecords",{penalUnit:z.get("penalUnit"),entryDate:z.get("entryDate"),exitDate:z.get("exitDate"),exitCause:z.get("exitCause")})},className:"space-y-3",children:[S.jsx("input",{name:"penalUnit",placeholder:"Unidad Penal",className:"w-full border p-2 rounded",required:!0}),S.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[S.jsxs("div",{children:[S.jsx("label",{className:"text-xs",children:"Fecha Ingreso"}),S.jsx("input",{name:"entryDate",type:"date",className:"w-full border p-2 rounded",required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{className:"text-xs",children:"Fecha Egreso"}),S.jsx("input",{name:"exitDate",type:"date",className:"w-full border p-2 rounded",required:!0})]})]}),S.jsx("input",{name:"exitCause",placeholder:"Causa Egreso",className:"w-full border p-2 rounded",required:!0}),S.jsx("button",{type:"submit",className:"w-full bg-brand-primary text-white py-2 rounded",children:"Guardar"})]})}),L==="CHILD"&&S.jsx(Rt,{title:"Agregar Hijo/a",onClose:()=>V("NONE"),children:S.jsxs("form",{onSubmit:M=>{M.preventDefault();const z=new FormData(M.currentTarget);X("children",{rut:z.get("rut"),fullName:z.get("fullName")}),a({...i,hasChildren:!0})},className:"space-y-3",children:[S.jsx("input",{name:"rut",placeholder:"RUT",className:"w-full border p-2 rounded",required:!0}),S.jsx("input",{name:"fullName",placeholder:"Nombre Completo",className:"w-full border p-2 rounded",required:!0}),S.jsx("button",{type:"submit",className:"w-full bg-brand-primary text-white py-2 rounded",children:"Guardar"})]})}),L==="VEHICLE"&&S.jsx(Rt,{title:"Registrar Vehculo",onClose:()=>V("NONE"),children:S.jsxs("form",{onSubmit:M=>{M.preventDefault();const z=new FormData(M.currentTarget);X("vehicles",{year:z.get("year"),brand:z.get("brand"),model:z.get("model"),color:z.get("color"),motor:z.get("motor"),chassis:z.get("chassis"),plate:z.get("plate")})},className:"space-y-3",children:[S.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[S.jsx("input",{name:"plate",placeholder:"PPU (Patente)",className:"w-full border p-2 rounded",required:!0}),S.jsx("input",{name:"year",placeholder:"Ao",type:"number",className:"w-full border p-2 rounded"})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[S.jsx("input",{name:"brand",placeholder:"Marca",className:"w-full border p-2 rounded",required:!0}),S.jsx("input",{name:"model",placeholder:"Modelo",className:"w-full border p-2 rounded",required:!0})]}),S.jsx("input",{name:"color",placeholder:"Color",className:"w-full border p-2 rounded"}),S.jsx("input",{name:"motor",placeholder:"N Motor",className:"w-full border p-2 rounded"}),S.jsx("input",{name:"chassis",placeholder:"N Chasis / VIN",className:"w-full border p-2 rounded"}),S.jsx("button",{type:"submit",className:"w-full bg-brand-primary text-white py-2 rounded",children:"Vincular Vehculo"})]})}),L==="ADDRESS"&&S.jsx(Rt,{title:"Registrar Domicilio",onClose:()=>V("NONE"),children:S.jsxs("form",{onSubmit:M=>{M.preventDefault();const z=new FormData(M.currentTarget);X("knownAddresses",{street:z.get("street"),number:z.get("number"),intersection:z.get("intersection"),apartment:z.get("apartment"),observationType:z.get("observationType")})},className:"space-y-3",children:[S.jsxs("div",{className:"space-y-3",children:[S.jsx("input",{name:"street",placeholder:"1. Calle / Pasaje",className:"w-full border p-2 rounded",required:!0}),S.jsx("input",{name:"number",placeholder:"2. Numeracin",className:"w-full border p-2 rounded",required:!0}),S.jsx("input",{name:"intersection",placeholder:"3. Interseccin",className:"w-full border p-2 rounded"}),S.jsx("input",{name:"apartment",placeholder:"4. Depto / Block / Casa",className:"w-full border p-2 rounded"}),S.jsx("input",{name:"observationType",placeholder:"5. Observaciones (Condominio, Loteo, etc.)",className:"w-full border p-2 rounded"})]}),S.jsx("button",{type:"submit",className:"w-full bg-brand-primary text-white py-2 rounded",children:"Vincular Domicilio"})]})}),L==="SOCIAL"&&S.jsx(Rt,{title:"Registrar Red Social",onClose:()=>V("NONE"),children:S.jsxs("form",{onSubmit:M=>{M.preventDefault();const z=new FormData(M.currentTarget);X("socialMedia",{platform:z.get("platform"),username:z.get("username")})},className:"space-y-3",children:[S.jsxs("select",{name:"platform",className:"w-full border p-2 rounded",children:[S.jsx("option",{value:"Instagram",children:"Instagram"}),S.jsx("option",{value:"Facebook",children:"Facebook"}),S.jsx("option",{value:"TikTok",children:"TikTok"}),S.jsx("option",{value:"X (Twitter)",children:"X (Twitter)"}),S.jsx("option",{value:"Telegram",children:"Telegram"}),S.jsx("option",{value:"Otro",children:"Otro"})]}),S.jsx("input",{name:"username",placeholder:"Cuenta / Usuario / Log",className:"w-full border p-2 rounded",required:!0}),S.jsx("button",{type:"submit",className:"w-full bg-brand-primary text-white py-2 rounded",children:"Vincular RR.SS"})]})}),L==="PHONE"&&S.jsx(Rt,{title:"Registrar Telfono",onClose:()=>V("NONE"),children:S.jsxs("form",{onSubmit:M=>{M.preventDefault();const z=new FormData(M.currentTarget);X("phones",{number:z.get("number"),company:z.get("company"),note:z.get("note")})},className:"space-y-3",children:[S.jsx("input",{name:"number",placeholder:"Nmero Telefnico (+569...)",className:"w-full border p-2 rounded",required:!0}),S.jsx("input",{name:"company",placeholder:"Compaa (Opcional)",className:"w-full border p-2 rounded"}),S.jsx("input",{name:"note",placeholder:"Nota / Contexto de hallazgo",className:"w-full border p-2 rounded"}),S.jsx("button",{type:"submit",className:"w-full bg-brand-primary text-white py-2 rounded",children:"Vincular Telfono"})]})})]})},EN=({onCancel:i,onCreate:t,subjects:o,officer:a})=>{const[r,d]=qe.useState({fullName:"",rut:"",alias:"",birthDate:"",nationality:"CHILENA",riskLevel:pi.MEDIUM,status:"ACTIVO",legalStatus:"LIBERTAD",sex:"HOMBRE",registralSex:"MASCULINO",genderIdentity:"MASCULINA",belongsToCriminalOrg:!1,entries:[]}),[m,g]=qe.useState(""),y=h=>{if(h.preventDefault(),!r.fullName||!r.rut)return;const E=`${(o.length+1).toString().padStart(4,"0")}-${new Date().getFullYear()}`,_={...r,id:E,investigationStatus:"ABIERTA",ownerDepartment:a.department,ownerRegionSection:a.regionSection,legalStatusUpdatedAt:new Date().toISOString().split("T")[0],entries:[{id:Date.now().toString(),type:"ACTUALIZACION",content:"Creacin de Ficha en Sistema",createdAt:new Date().toISOString(),officerName:`${a.rank} ${a.name}`,requestorName:m||"SISTEMA/MISMA UNIDAD",department:a.department,regionSection:a.regionSection}],hasChildren:!1,accessLogs:[{timestamp:new Date().toISOString(),user:`${a.rank} ${a.name}`,department:a.department,action:"VISUALIZACION"}]};t(_)};return S.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 p-8 max-w-2xl mx-auto mt-10",children:[S.jsxs("h2",{className:"text-2xl font-bold text-police-900 mb-6 flex items-center gap-2",children:[S.jsx(Oa,{className:"h-6 w-6"}),"Nueva Ficha de Blanco"]}),S.jsxs("form",{onSubmit:y,className:"space-y-6",children:[S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"R.U.N. (Sin puntos ni guin)"}),S.jsx("input",{required:!0,className:"w-full border border-gray-300 p-2.5 rounded focus:ring-2 focus:ring-brand-primary outline-none",value:r.rut,onChange:h=>d({...r,rut:h.target.value}),placeholder:"12345678-9"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Fecha Nacimiento"}),S.jsx("input",{type:"date",required:!0,className:"w-full border border-gray-300 p-2.5 rounded focus:ring-2 focus:ring-brand-primary outline-none",value:r.birthDate,onChange:h=>d({...r,birthDate:h.target.value})})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Nombre Completo"}),S.jsx("input",{required:!0,className:"w-full border border-gray-300 p-2.5 rounded focus:ring-2 focus:ring-brand-primary outline-none uppercase",value:r.fullName,onChange:h=>d({...r,fullName:h.target.value.toUpperCase()}),placeholder:"APELLIDO PATERNO MATERNO NOMBRES"})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Alias / Apodo"}),S.jsx("input",{className:"w-full border border-gray-300 p-2.5 rounded focus:ring-2 focus:ring-brand-primary outline-none",value:r.alias,onChange:h=>d({...r,alias:h.target.value}),placeholder:'Ej: "El Pancho"'})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Nacionalidad"}),S.jsx("input",{className:"w-full border border-gray-300 p-2.5 rounded focus:ring-2 focus:ring-brand-primary outline-none uppercase",value:r.nationality,onChange:h=>d({...r,nationality:h.target.value.toUpperCase()})})]})]}),S.jsxs("div",{className:"bg-gray-50 p-4 rounded-md border border-gray-200",children:[S.jsx("h3",{className:"text-sm font-bold text-gray-800 mb-3 uppercase border-b pb-1",children:"Identidad de Gnero y Sexo (Ley 21.120)"}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Sexo Biolgico (Nacimiento)"}),S.jsxs("select",{className:"w-full border border-gray-300 p-2 rounded focus:ring-2 focus:ring-brand-primary outline-none text-sm",value:r.sex,onChange:h=>d({...r,sex:h.target.value}),children:[S.jsx("option",{value:"HOMBRE",children:"HOMBRE"}),S.jsx("option",{value:"MUJER",children:"MUJER"}),S.jsx("option",{value:"INTERSEXUAL",children:"INTERSEXUAL"}),S.jsx("option",{value:"OTRO",children:"OTRO"})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Sexo Registral (Cdula)"}),S.jsxs("select",{className:"w-full border border-gray-300 p-2 rounded focus:ring-2 focus:ring-brand-primary outline-none text-sm",value:r.registralSex,onChange:h=>d({...r,registralSex:h.target.value}),children:[S.jsx("option",{value:"MASCULINO",children:"MASCULINO"}),S.jsx("option",{value:"FEMENINO",children:"FEMENINO"}),S.jsx("option",{value:"NO BINARIO",children:"NO BINARIO"})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-bold text-gray-700 mb-1",children:"Identidad de Gnero"}),S.jsx("input",{className:"w-full border border-gray-300 p-2 rounded focus:ring-2 focus:ring-brand-primary outline-none text-sm uppercase",placeholder:"Ej: MASCULINA",value:r.genderIdentity,onChange:h=>d({...r,genderIdentity:h.target.value.toUpperCase()})})]})]})]}),S.jsxs("div",{className:"bg-red-50 p-4 rounded-md border border-red-200",children:[S.jsxs("div",{className:"flex items-center justify-between mb-2",children:[S.jsx("label",{className:"text-sm font-bold text-red-900",children:"Pertenece a Organizacin Criminal?"}),S.jsxs("div",{className:"flex gap-4",children:[S.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[S.jsx("input",{type:"radio",name:"org",checked:r.belongsToCriminalOrg===!0,onChange:()=>d({...r,belongsToCriminalOrg:!0})}),"SI"]}),S.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[S.jsx("input",{type:"radio",name:"org",checked:r.belongsToCriminalOrg===!1,onChange:()=>d({...r,belongsToCriminalOrg:!1})}),"NO"]})]})]}),r.belongsToCriminalOrg&&S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-3 animate-fadeIn",children:[S.jsxs("div",{className:"md:col-span-2",children:[S.jsx("label",{className:"block text-xs font-bold text-red-800 mb-1",children:"Nombre de la Organizacin"}),S.jsx("input",{className:"w-full border border-red-300 p-2 rounded focus:ring-2 focus:ring-red-500 outline-none uppercase",placeholder:"Ej: TREN DE ARAGUA",value:r.criminalOrgName||"",onChange:h=>d({...r,criminalOrgName:h.target.value.toUpperCase()})})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-bold text-red-800 mb-1",children:"Regin de Origen/Operacin"}),S.jsxs("select",{className:"w-full border border-red-300 p-2 rounded focus:ring-2 focus:ring-red-500 outline-none",value:r.criminalOrgRegion||"",onChange:h=>d({...r,criminalOrgRegion:h.target.value}),children:[S.jsx("option",{value:"",children:"Seleccione Regin"}),Tu.map(h=>S.jsx("option",{value:h,children:h},h))]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-bold text-red-800 mb-1",children:"Comuna Principal"}),S.jsx("input",{className:"w-full border border-red-300 p-2 rounded focus:ring-2 focus:ring-red-500 outline-none",placeholder:"Ej: Santiago Centro",value:r.criminalOrgCommune||"",onChange:h=>d({...r,criminalOrgCommune:h.target.value})})]})]})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Nivel de Riesgo Inicial"}),S.jsx("select",{className:"w-full border border-gray-300 p-2.5 rounded focus:ring-2 focus:ring-brand-primary outline-none",value:r.riskLevel,onChange:h=>d({...r,riskLevel:h.target.value}),children:Object.values(pi).map(h=>S.jsx("option",{value:h,children:h},h))})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Solicitado por (Opcional)"}),S.jsx("input",{className:"w-full border border-gray-300 p-2.5 rounded focus:ring-2 focus:ring-brand-primary outline-none",placeholder:"Ej: Fiscal Adjunto, Of. Investigador",value:m,onChange:h=>g(h.target.value)})]})]}),S.jsxs("div",{className:"pt-6 flex gap-4 justify-end border-t border-gray-100",children:[S.jsx("button",{type:"button",onClick:i,className:"px-6 py-2.5 text-gray-700 hover:bg-gray-100 rounded-md font-medium transition-colors",children:"Cancelar"}),S.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-brand-primary text-white rounded-md hover:bg-brand-secondary font-bold shadow-md transition-all transform hover:scale-105",children:"Crear Ficha"})]})]})]})};function _N(){const[i,t]=qe.useState(null),[o,a]=qe.useState(gN),[r,d]=qe.useState(""),[m,g]=qe.useState("SEARCH"),[y,h]=qe.useState(null),v=o.filter(C=>C.fullName.toLowerCase().includes(r.toLowerCase())||C.rut.includes(r)||C.alias.toLowerCase().includes(r.toLowerCase())||C.id.includes(r)),E=C=>{a([...o,C]),h(C),g("DETAIL")},_=C=>{const U=o.map(G=>G.id===C.id?C:G);a(U),h(C)};return i?S.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900 font-sans pb-20",children:[S.jsx(yN,{officer:i,onLogout:()=>t(null)}),S.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-8",children:[m==="SEARCH"&&S.jsxs("div",{className:"space-y-8",children:[S.jsxs("div",{className:"text-center space-y-4 py-8",children:[S.jsx("h2",{className:"text-3xl font-bold text-police-900",children:"Bsqueda de Blancos"}),S.jsx("p",{className:"text-gray-500 max-w-2xl mx-auto",children:"Ingrese RUT, Nombre, Alias o N Ficha para verificar existencia."}),S.jsxs("div",{className:"max-w-xl mx-auto relative",children:[S.jsx(Xv,{className:"absolute left-4 top-3.5 h-5 w-5 text-gray-400"}),S.jsx("input",{type:"text",placeholder:"Buscar por RUT, Nombre, Apodo, ID...",className:"w-full pl-12 pr-4 py-3 rounded-full border border-gray-300 shadow-md focus:ring-4 focus:ring-brand-primary/20 focus:border-brand-primary outline-none text-lg transition-all",value:r,onChange:C=>d(C.target.value)})]})]}),S.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-4",children:[S.jsxs("h3",{className:"text-lg font-semibold text-gray-700",children:["Resultados (",v.length,")"]}),S.jsxs("button",{onClick:()=>g("CREATE"),className:"bg-brand-primary hover:bg-brand-secondary text-white px-4 py-2 rounded-md text-sm font-medium flex items-center gap-2 shadow-sm transition-all",children:[S.jsx(Oa,{className:"h-4 w-4"}),"Nuevo Sujeto"]})]}),v.length>0?S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(C=>S.jsx(SN,{subject:C,onSelect:U=>{h(U),g("DETAIL")}},C.id))}):S.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border border-dashed border-gray-300",children:[S.jsx(Wv,{className:"h-10 w-10 text-gray-300 mx-auto mb-3"}),S.jsx("p",{className:"text-gray-500 font-medium",children:"No se encontraron registros"}),S.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Verifique los datos o cree una nueva ficha."})]})]}),m==="CREATE"&&S.jsx(EN,{onCancel:()=>g("SEARCH"),onCreate:E,subjects:o,officer:i}),m==="DETAIL"&&y&&S.jsx(TN,{subject:y,officer:i,onBack:()=>{g("SEARCH"),h(null)},onUpdate:_})]})]}):S.jsx(vN,{onLogin:t})}const Gg=document.getElementById("root");if(!Gg)throw new Error("Could not find root element to mount to");const AN=gv.createRoot(Gg);AN.render(S.jsx(rv.StrictMode,{children:S.jsx(_N,{})}));
